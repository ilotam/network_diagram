!function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=1)}([function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(t){t.METRIC="METRIC",t.DIMENSION="DIMENSION"}(n.ConceptType||(n.ConceptType={})),function(t){t.RENDER="RENDER"}(n.MessageType||(n.MessageType={})),function(t){t.YEAR="YEAR",t.YEAR_QUARTER="YEAR_QUARTER",t.YEAR_MONTH="YEAR_MONTH",t.YEAR_WEEK="YEAR_WEEK",t.YEAR_MONTH_DAY="YEAR_MONTH_DAY",t.YEAR_MONTH_DAY_HOUR="YEAR_MONTH_DAY_HOUR",t.QUARTER="QUARTER",t.MONTH="MONTH",t.WEEK="WEEK",t.MONTH_DAY="MONTH_DAY",t.DAY_OF_WEEK="DAY_OF_WEEK",t.DAY="DAY",t.HOUR="HOUR",t.MINUTE="MINUTE",t.DURATION="DURATION",t.COUNTRY="COUNTRY",t.COUNTRY_CODE="COUNTRY_CODE",t.CONTINENT="CONTINENT",t.CONTINENT_CODE="CONTINENT_CODE",t.SUB_CONTINENT="SUB_CONTINENT",t.SUB_CONTINENT_CODE="SUB_CONTINENT_CODE",t.REGION="REGION",t.REGION_CODE="REGION_CODE",t.CITY="CITY",t.CITY_CODE="CITY_CODE",t.METRO_CODE="METRO_CODE",t.LATITUDE_LONGITUDE="LATITUDE_LONGITUDE",t.NUMBER="NUMBER",t.PERCENT="PERCENT",t.TEXT="TEXT",t.BOOLEAN="BOOLEAN",t.URL="URL",t.IMAGE="IMAGE",t.CURRENCY_AED="CURRENCY_AED",t.CURRENCY_ALL="CURRENCY_ALL",t.CURRENCY_ARS="CURRENCY_ARS",t.CURRENCY_AUD="CURRENCY_AUD",t.CURRENCY_BDT="CURRENCY_BDT",t.CURRENCY_BGN="CURRENCY_BGN",t.CURRENCY_BOB="CURRENCY_BOB",t.CURRENCY_BRL="CURRENCY_BRL",t.CURRENCY_CAD="CURRENCY_CAD",t.CURRENCY_CDF="CURRENCY_CDF",t.CURRENCY_CHF="CURRENCY_CHF",t.CURRENCY_CLP="CURRENCY_CLP",t.CURRENCY_CNY="CURRENCY_CNY",t.CURRENCY_COP="CURRENCY_COP",t.CURRENCY_CRC="CURRENCY_CRC",t.CURRENCY_CZK="CURRENCY_CZK",t.CURRENCY_DKK="CURRENCY_DKK",t.CURRENCY_DOP="CURRENCY_DOP",t.CURRENCY_EGP="CURRENCY_EGP",t.CURRENCY_ETB="CURRENCY_ETB",t.CURRENCY_EUR="CURRENCY_EUR",t.CURRENCY_GBP="CURRENCY_GBP",t.CURRENCY_HKD="CURRENCY_HKD",t.CURRENCY_HRK="CURRENCY_HRK",t.CURRENCY_HUF="CURRENCY_HUF",t.CURRENCY_IDR="CURRENCY_IDR",t.CURRENCY_ILS="CURRENCY_ILS",t.CURRENCY_INR="CURRENCY_INR",t.CURRENCY_IRR="CURRENCY_IRR",t.CURRENCY_ISK="CURRENCY_ISK",t.CURRENCY_JMD="CURRENCY_JMD",t.CURRENCY_JPY="CURRENCY_JPY",t.CURRENCY_KRW="CURRENCY_KRW",t.CURRENCY_LKR="CURRENCY_LKR",t.CURRENCY_LTL="CURRENCY_LTL",t.CURRENCY_MNT="CURRENCY_MNT",t.CURRENCY_MVR="CURRENCY_MVR",t.CURRENCY_MXN="CURRENCY_MXN",t.CURRENCY_MYR="CURRENCY_MYR",t.CURRENCY_NOK="CURRENCY_NOK",t.CURRENCY_NZD="CURRENCY_NZD",t.CURRENCY_PAB="CURRENCY_PAB",t.CURRENCY_PEN="CURRENCY_PEN",t.CURRENCY_PHP="CURRENCY_PHP",t.CURRENCY_PKR="CURRENCY_PKR",t.CURRENCY_PLN="CURRENCY_PLN",t.CURRENCY_RON="CURRENCY_RON",t.CURRENCY_RSD="CURRENCY_RSD",t.CURRENCY_RUB="CURRENCY_RUB",t.CURRENCY_SAR="CURRENCY_SAR",t.CURRENCY_SEK="CURRENCY_SEK",t.CURRENCY_SGD="CURRENCY_SGD",t.CURRENCY_THB="CURRENCY_THB",t.CURRENCY_TRY="CURRENCY_TRY",t.CURRENCY_TWD="CURRENCY_TWD",t.CURRENCY_TZS="CURRENCY_TZS",t.CURRENCY_UAH="CURRENCY_UAH",t.CURRENCY_USD="CURRENCY_USD",t.CURRENCY_UYU="CURRENCY_UYU",t.CURRENCY_VEF="CURRENCY_VEF",t.CURRENCY_VND="CURRENCY_VND",t.CURRENCY_YER="CURRENCY_YER",t.CURRENCY_ZAR="CURRENCY_ZAR"}(n.FieldType||(n.FieldType={})),function(t){t.DEFAULT="DEFAULT",t.COMPARISON="COMPARISON",t.SUMMARY="SUMMARY"}(n.TableType||(n.TableType={})),function(t){t.METRIC="METRIC",t.DIMENSION="DIMENSION",t.MAX_RESULTS="MAX_RESULTS"}(n.ConfigDataElementType||(n.ConfigDataElementType={})),function(t){t.TEXTINPUT="TEXTINPUT",t.SELECT_SINGLE="SELECT_SINGLE",t.CHECKBOX="CHECKBOX",t.FONT_COLOR="FONT_COLOR",t.FONT_SIZE="FONT_SIZE",t.FONT_FAMILY="FONT_FAMILY",t.FILL_COLOR="FILL_COLOR",t.BORDER_COLOR="BORDER_COLOR",t.AXIS_COLOR="AXIS_COLOR",t.GRID_COLOR="GRID_COLOR",t.OPACITY="OPACITY",t.LINE_WEIGHT="LINE_WEIGHT",t.LINE_STYLE="LINE_STYLE",t.BORDER_RADIUS="BORDER_RADIUS",t.INTERVAL="INTERVAL",t.SELECT_RADIO="SELECT_RADIO"}(n.ConfigStyleElementType||(n.ConfigStyleElementType={})),function(t){t.FILTER="FILTER"}(n.DSInteractionType||(n.DSInteractionType={})),function(t){t.VIZ_READY="vizReady",t.INTERACTION="vizAction"}(n.ToDSMessageType||(n.ToDSMessageType={})),function(t){t.FILTER="FILTER"}(n.InteractionType||(n.InteractionType={}))},function(t,n,e){"use strict";e.r(n),e.d(n,"LOCAL",(function(){return u}));const r=e(4),i=e(2),o=e(3),u=!1,a=t=>{var n=10,e=30,i=30,o=40,u=400-o-e,a=400-n-i,c=r.select("body").append("svg").attr("width",u+o+e).attr("height",a+n+i).append("g").attr("transform","translate("+o+","+n+")"),f=t.tables.DEFAULT,s=f.map(t=>({source:t.metric[0],target:t.metric[1]})),l=f.map(t=>({id:t.dimension[0],name:t.dimension[1]}));console.log(s),console.log(l);var h=c.selectAll("line").data(s).enter().append("line").style("stroke","#aaa"),d=c.selectAll("circle").data(l).enter().append("circle").attr("r",20).style("fill","#69b3a2");r.forceSimulation(l).force("link",r.forceLink().id((function(t){return t.id})).links(s)).force("charge",r.forceManyBody().strength(-400)).force("center",r.forceCenter(u/2,a/2)).on("tick",(function(){h.attr("x1",(function(t){return t.source.x})).attr("y1",(function(t){return t.source.y})).attr("x2",(function(t){return t.target.x})).attr("y2",(function(t){return t.target.y})),d.attr("cx",(function(t){return t.x+6})).attr("cy",(function(t){return t.y-6}))}))};u?a(o.message):i.subscribeToData(a,{transform:i.objectTransform})},function(t,n,e){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var n,e=1,r=arguments.length;e<r;e++)for(var i in n=arguments[e])Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i]);return t}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});
/*!
  @license
  Copyright 2019 Google LLC

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

  https://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
*/
var i=e(0);!function(t){for(var e in t)n.hasOwnProperty(e)||(n[e]=t[e])}(e(0)),n.getWidth=function(){return document.body.clientWidth},n.getHeight=function(){return document.documentElement.clientHeight},n.getComponentId=function(){var t=new URLSearchParams(window.location.search);if(null!==t.get("dscId"))return t.get("dscId");throw new Error("dscId must be in the query parameters. This is a bug in ds-component, please file a bug: https://github.com/googledatastudio/ds-component/issues/new")};var o=function(t){return t.type===i.ConfigDataElementType.DIMENSION||t.type===i.ConfigDataElementType.METRIC},u=function(t){return t===i.ConfigDataElementType.DIMENSION?-1:1},a=function(t){var n=[];t.config.data.forEach((function(t){t.elements.filter(o).forEach((function(t){n.push(t)}))}));var e,r=(e=function(t,n){return u(t.type)-u(n.type)},n.map((function(t,n){return{item:t,index:n}})).sort((function(t,n){return e(t.item,n.item)||t.index-n.index})).map((function(t){return t.item}))),i=[];return r.forEach((function(t){t.value.forEach((function(){return i.push(t.id)}))})),i},c=function(t){var n,e=a(t),r=((n={})[i.TableType.DEFAULT]=[],n);return t.dataResponse.tables.forEach((function(t){var n=t.rows.map(function(t){return function(n){var e,r,i={};return(e=n,r=t,e.length<r.length?e.map((function(t,n){return[t,r[n]]})):r.map((function(t,n){return[e[n],t]}))).forEach((function(t){var n=t[0],e=t[1];void 0===i[e]&&(i[e]=[]),i[e].push(n)}),{}),i}}(e));t.id===i.TableType.DEFAULT?r[t.id]=n:(void 0===r[t.id]&&(r[t.id]=[]),r[t.id]=r[t.id].concat(n))})),r},f=function(t){var e,o=n.fieldsByConfigId(t),u=a(t),c={},f=u.map((function(t){void 0===c[t]?c[t]=0:c[t]++;var n=c[t],e=o[t][n];return r(r({},e),{configId:t})})),s=((e={})[i.TableType.DEFAULT]={headers:[],rows:[]},e);return t.dataResponse.tables.forEach((function(t){s[t.id]={headers:f,rows:t.rows}})),s};n.fieldsByConfigId=function(t){var n=function(t){return t.fields.reduce((function(t,n){return t[n.id]=n,t}),{})}(t),e={};return t.config.data.forEach((function(t){t.elements.filter(o).forEach((function(t){e[t.id]=t.value.map((function(t){return n[t]}))}))})),e};var s=function(t){var n={};return(t.config.style||[]).forEach((function(t){t.elements.forEach((function(t){if(void 0!==n[t.id])throw new Error("styleIds must be unique. Your styleId: '"+t.id+"' is used more than once.");n[t.id]={value:t.value,defaultValue:t.defaultValue}}))}),{}),n},l=function(t){return t.config.themeStyle},h=function(t){switch(t){case i.DSInteractionType.FILTER:return i.InteractionType.FILTER}},d=function(t){var n=t.config.interactions;return void 0===n?{}:n.reduce((function(t,n){var e=n.supportedActions.map(h),r={type:h(n.value.type),data:n.value.data};return t[n.id]={value:r,supportedActions:e},t}),{})};n.tableTransform=function(t){return{tables:f(t),fields:n.fieldsByConfigId(t),style:s(t),theme:l(t),interactions:d(t)}},n.objectTransform=function(t){return{tables:c(t),fields:n.fieldsByConfigId(t),style:s(t),theme:l(t),interactions:d(t)}};var p=function(t){var e=!1;return(t===n.tableTransform||t===n.objectTransform||function(t){var n=!1;return"identity"===t("identity")&&(n=!0,console.warn("This is an unsupported data format. Please use one of the supported transforms:\n       dscc.objectFormat or dscc.tableFormat.")),n}(t))&&(e=!0),e};n.subscribeToData=function(t,e){if(p(e.transform)){var r=function(n){n.data.type===i.MessageType.RENDER?t(e.transform(n.data)):console.error("MessageType: "+n.data.type+" is not supported by this version of the library.")};window.addEventListener("message",r);var o={componentId:n.getComponentId(),type:i.ToDSMessageType.VIZ_READY};return window.parent.postMessage(o,"*"),function(){return window.removeEventListener("message",r)}}throw new Error("Only the built in transform functions are supported.")},n.sendInteraction=function(t,e,r){var o=n.getComponentId(),u={type:i.ToDSMessageType.INTERACTION,id:t,data:r,componentId:o};window.parent.postMessage(u,"*")},n.clearInteraction=function(t,e){n.sendInteraction(t,e,void 0)}},function(t,n,e){"use strict";e.r(n),e.d(n,"message",(function(){return r}));const r={tables:{DEFAULT:[{dimension:[7,"G"],metric:[8,3]},{dimension:[10,"J"],metric:[5,10]},{dimension:[8,"H"],metric:[4,5]},{dimension:[9,"I"],metric:[4,9]},{dimension:[6,"F"],metric:[3,4]},{dimension:[4,"D"],metric:[2,3]},{dimension:[5,"E"],metric:[2,7]},{dimension:[1,"A"],metric:[1,2]},{dimension:[2,"B"],metric:[1,5]},{dimension:[3,"C"],metric:[1,6]}]},fields:{dimension:[{id:"qt_m2e78o89gc",name:"nodes_id",type:"NUMBER",concept:"DIMENSION"},{id:"qt_finm6o89gc",name:"nodes_name",type:"TEXT",concept:"DIMENSION"}],metric:[{id:"qt_9o5cbp89gc",name:"Source",type:"NUMBER",concept:"METRIC"},{id:"qt_et6fcp89gc",name:"Target",type:"NUMBER",concept:"METRIC"}]},style:{colorFrom:{value:{color:"#d2d8d6"},defaultValue:{color:"#d2d8d6"}},colorTo:{value:{color:"#2e9f8d"},defaultValue:{color:"#2e9f8d"}},showLabels:{value:!1,defaultValue:!1},fontFamily:{}},theme:{themeFillColor:{color:"#ffffff",themeRef:{index:0}},themeFontColor:{color:"#000000",themeRef:{index:1}},themeFontFamily:"Roboto",themeAccentFillColor:{color:"#e0e0e0",themeRef:{index:2}},themeAccentFontColor:{color:"#000000",themeRef:{index:3}},themeAccentFontFamily:"Roboto",themeSeriesColor:[{color:"#0072f0",seriesRef:{index:0},themeRef:{index:4}},{color:"#00b6cb",seriesRef:{index:1},themeRef:{index:5}},{color:"#f10096",seriesRef:{index:2},themeRef:{index:6}},{color:"#f66d00",seriesRef:{index:3},themeRef:{index:7}},{color:"#ffa800",seriesRef:{index:4},themeRef:{index:8}},{color:"#7cb342",seriesRef:{index:5},themeRef:{index:9}},{color:"#5e35b1",seriesRef:{index:6}},{color:"#03a9f4",seriesRef:{index:7}},{color:"#ec407a",seriesRef:{index:8}},{color:"#ff7043",seriesRef:{index:9}},{color:"#737373",seriesRef:{index:10}},{color:"#f15a60",seriesRef:{index:11}},{color:"#7ac36a",seriesRef:{index:12}},{color:"#5a9bd4",seriesRef:{index:13}},{color:"#faa75a",seriesRef:{index:14}},{color:"#9e67ab",seriesRef:{index:15}},{color:"#ce7058",seriesRef:{index:16}},{color:"#d77fb3",seriesRef:{index:17}},{color:"#81d4fa",seriesRef:{index:18}},{color:"#f48fb1",seriesRef:{index:19}}],themeIncreaseColor:{color:"#388e3c"},themeDecreaseColor:{color:"#f44336"},themeGridColor:{color:"#d1d1d1"}},interactions:{}}},function(t,n,e){"use strict";e.r(n),e.d(n,"version",(function(){return r})),e.d(n,"bisect",(function(){return l})),e.d(n,"bisectRight",(function(){return c})),e.d(n,"bisectLeft",(function(){return f})),e.d(n,"bisectCenter",(function(){return s})),e.d(n,"ascending",(function(){return i})),e.d(n,"bisector",(function(){return o})),e.d(n,"count",(function(){return h})),e.d(n,"cross",(function(){return _})),e.d(n,"cumsum",(function(){return y})),e.d(n,"descending",(function(){return v})),e.d(n,"deviation",(function(){return m})),e.d(n,"extent",(function(){return x})),e.d(n,"fsum",(function(){return M})),e.d(n,"Adder",(function(){return w})),e.d(n,"group",(function(){return C})),e.d(n,"groups",(function(){return R})),e.d(n,"index",(function(){return A})),e.d(n,"indexes",(function(){return S})),e.d(n,"rollup",(function(){return N})),e.d(n,"rollups",(function(){return T})),e.d(n,"bin",(function(){return H})),e.d(n,"histogram",(function(){return H})),e.d(n,"thresholdFreedmanDiaconis",(function(){return Z})),e.d(n,"thresholdScott",(function(){return $})),e.d(n,"thresholdSturges",(function(){return q})),e.d(n,"max",(function(){return j})),e.d(n,"maxIndex",(function(){return Q})),e.d(n,"mean",(function(){return J})),e.d(n,"median",(function(){return tt})),e.d(n,"merge",(function(){return nt})),e.d(n,"min",(function(){return G})),e.d(n,"minIndex",(function(){return et})),e.d(n,"pairs",(function(){return rt})),e.d(n,"permute",(function(){return ot})),e.d(n,"quantile",(function(){return K})),e.d(n,"quantileSorted",(function(){return W})),e.d(n,"quickselect",(function(){return X})),e.d(n,"range",(function(){return ut})),e.d(n,"least",(function(){return at})),e.d(n,"leastIndex",(function(){return ct})),e.d(n,"greatest",(function(){return ft})),e.d(n,"greatestIndex",(function(){return st})),e.d(n,"scan",(function(){return lt})),e.d(n,"shuffle",(function(){return ht})),e.d(n,"shuffler",(function(){return dt})),e.d(n,"sum",(function(){return pt})),e.d(n,"ticks",(function(){return L})),e.d(n,"tickIncrement",(function(){return F})),e.d(n,"tickStep",(function(){return B})),e.d(n,"transpose",(function(){return gt})),e.d(n,"variance",(function(){return b})),e.d(n,"zip",(function(){return yt})),e.d(n,"axisTop",(function(){return Rt})),e.d(n,"axisRight",(function(){return Nt})),e.d(n,"axisBottom",(function(){return Tt})),e.d(n,"axisLeft",(function(){return At})),e.d(n,"brush",(function(){return $i})),e.d(n,"brushX",(function(){return Wi})),e.d(n,"brushY",(function(){return Zi})),e.d(n,"brushSelection",(function(){return Ki})),e.d(n,"chord",(function(){return co})),e.d(n,"chordTranspose",(function(){return fo})),e.d(n,"chordDirected",(function(){return so})),e.d(n,"ribbon",(function(){return Ao})),e.d(n,"ribbonArrow",(function(){return So})),e.d(n,"color",(function(){return be})),e.d(n,"rgb",(function(){return Me})),e.d(n,"hsl",(function(){return Se})),e.d(n,"lab",(function(){return Oo})),e.d(n,"hcl",(function(){return Ho})),e.d(n,"lch",(function(){return qo})),e.d(n,"gray",(function(){return Do})),e.d(n,"cubehelix",(function(){return $o})),e.d(n,"contours",(function(){return au})),e.d(n,"contourDensity",(function(){return du})),e.d(n,"Delaunay",(function(){return Du})),e.d(n,"Voronoi",(function(){return Tu})),e.d(n,"dispatch",(function(){return It})),e.d(n,"drag",(function(){return Bu})),e.d(n,"dragDisable",(function(){return ne})),e.d(n,"dragEnable",(function(){return ee})),e.d(n,"dsvFormat",(function(){return Ku})),e.d(n,"csvParse",(function(){return Zu})),e.d(n,"csvParseRows",(function(){return $u})),e.d(n,"csvFormat",(function(){return Qu})),e.d(n,"csvFormatBody",(function(){return Ju})),e.d(n,"csvFormatRows",(function(){return ta})),e.d(n,"csvFormatRow",(function(){return na})),e.d(n,"csvFormatValue",(function(){return ea})),e.d(n,"tsvParse",(function(){return ia})),e.d(n,"tsvParseRows",(function(){return oa})),e.d(n,"tsvFormat",(function(){return ua})),e.d(n,"tsvFormatBody",(function(){return aa})),e.d(n,"tsvFormatRows",(function(){return ca})),e.d(n,"tsvFormatRow",(function(){return fa})),e.d(n,"tsvFormatValue",(function(){return sa})),e.d(n,"autoType",(function(){return la})),e.d(n,"easeLinear",(function(){return da})),e.d(n,"easeQuad",(function(){return _a})),e.d(n,"easeQuadIn",(function(){return pa})),e.d(n,"easeQuadOut",(function(){return ga})),e.d(n,"easeQuadInOut",(function(){return _a})),e.d(n,"easeCubic",(function(){return _i})),e.d(n,"easeCubicIn",(function(){return pi})),e.d(n,"easeCubicOut",(function(){return gi})),e.d(n,"easeCubicInOut",(function(){return _i})),e.d(n,"easePoly",(function(){return ba})),e.d(n,"easePolyIn",(function(){return ya})),e.d(n,"easePolyOut",(function(){return va})),e.d(n,"easePolyInOut",(function(){return ba})),e.d(n,"easeSin",(function(){return Ea})),e.d(n,"easeSinIn",(function(){return wa})),e.d(n,"easeSinOut",(function(){return Ma})),e.d(n,"easeSinInOut",(function(){return Ea})),e.d(n,"easeExp",(function(){return Ta})),e.d(n,"easeExpIn",(function(){return Ra})),e.d(n,"easeExpOut",(function(){return Na})),e.d(n,"easeExpInOut",(function(){return Ta})),e.d(n,"easeCircle",(function(){return ka})),e.d(n,"easeCircleIn",(function(){return Aa})),e.d(n,"easeCircleOut",(function(){return Sa})),e.d(n,"easeCircleInOut",(function(){return ka})),e.d(n,"easeBounce",(function(){return Ya})),e.d(n,"easeBounceIn",(function(){return Ua})),e.d(n,"easeBounceOut",(function(){return Ya})),e.d(n,"easeBounceInOut",(function(){return Da})),e.d(n,"easeBack",(function(){return Pa})),e.d(n,"easeBackIn",(function(){return Oa})),e.d(n,"easeBackOut",(function(){return Ia})),e.d(n,"easeBackInOut",(function(){return Pa})),e.d(n,"easeElastic",(function(){return Fa})),e.d(n,"easeElasticIn",(function(){return La})),e.d(n,"easeElasticOut",(function(){return Fa})),e.d(n,"easeElasticInOut",(function(){return Ba})),e.d(n,"blob",(function(){return Ha})),e.d(n,"buffer",(function(){return Ga})),e.d(n,"dsv",(function(){return Wa})),e.d(n,"csv",(function(){return Za})),e.d(n,"tsv",(function(){return $a})),e.d(n,"image",(function(){return Qa})),e.d(n,"json",(function(){return tc})),e.d(n,"text",(function(){return Va})),e.d(n,"xml",(function(){return ec})),e.d(n,"html",(function(){return rc})),e.d(n,"svg",(function(){return ic})),e.d(n,"forceCenter",(function(){return oc})),e.d(n,"forceCollide",(function(){return vc})),e.d(n,"forceLink",(function(){return xc})),e.d(n,"forceManyBody",(function(){return Rc})),e.d(n,"forceRadial",(function(){return Nc})),e.d(n,"forceSimulation",(function(){return Cc})),e.d(n,"forceX",(function(){return Tc})),e.d(n,"forceY",(function(){return Ac})),e.d(n,"formatDefaultLocale",(function(){return Gc})),e.d(n,"format",(function(){return Pc})),e.d(n,"formatPrefix",(function(){return zc})),e.d(n,"formatLocale",(function(){return jc})),e.d(n,"formatSpecifier",(function(){return Yc})),e.d(n,"FormatSpecifier",(function(){return Dc})),e.d(n,"precisionFixed",(function(){return Xc})),e.d(n,"precisionPrefix",(function(){return Vc})),e.d(n,"precisionRound",(function(){return Kc})),e.d(n,"geoArea",(function(){return Kf})),e.d(n,"geoBounds",(function(){return As})),e.d(n,"geoCentroid",(function(){return Bs})),e.d(n,"geoCircle",(function(){return Qs})),e.d(n,"geoClipAntimeridian",(function(){return fl})),e.d(n,"geoClipCircle",(function(){return sl})),e.d(n,"geoClipExtent",(function(){return _l})),e.d(n,"geoClipRectangle",(function(){return ll})),e.d(n,"geoContains",(function(){return Yl})),e.d(n,"geoDistance",(function(){return El})),e.d(n,"geoGraticule",(function(){return Il})),e.d(n,"geoGraticule10",(function(){return Pl})),e.d(n,"geoInterpolate",(function(){return ql})),e.d(n,"geoLength",(function(){return xl})),e.d(n,"geoPath",(function(){return Fh})),e.d(n,"geoAlbers",(function(){return id})),e.d(n,"geoAlbersUsa",(function(){return od})),e.d(n,"geoAzimuthalEqualArea",(function(){return fd})),e.d(n,"geoAzimuthalEqualAreaRaw",(function(){return cd})),e.d(n,"geoAzimuthalEquidistant",(function(){return ld})),e.d(n,"geoAzimuthalEquidistantRaw",(function(){return sd})),e.d(n,"geoConicConformal",(function(){return yd})),e.d(n,"geoConicConformalRaw",(function(){return _d})),e.d(n,"geoConicEqualArea",(function(){return rd})),e.d(n,"geoConicEqualAreaRaw",(function(){return ed})),e.d(n,"geoConicEquidistant",(function(){return xd})),e.d(n,"geoConicEquidistantRaw",(function(){return md})),e.d(n,"geoEqualEarth",(function(){return Td})),e.d(n,"geoEqualEarthRaw",(function(){return Nd})),e.d(n,"geoEquirectangular",(function(){return bd})),e.d(n,"geoEquirectangularRaw",(function(){return vd})),e.d(n,"geoGnomonic",(function(){return Sd})),e.d(n,"geoGnomonicRaw",(function(){return Ad})),e.d(n,"geoIdentity",(function(){return kd})),e.d(n,"geoProjection",(function(){return Jh})),e.d(n,"geoProjectionMutator",(function(){return td})),e.d(n,"geoMercator",(function(){return dd})),e.d(n,"geoMercatorRaw",(function(){return hd})),e.d(n,"geoNaturalEarth1",(function(){return Yd})),e.d(n,"geoNaturalEarth1Raw",(function(){return Ud})),e.d(n,"geoOrthographic",(function(){return Od})),e.d(n,"geoOrthographicRaw",(function(){return Dd})),e.d(n,"geoStereographic",(function(){return Pd})),e.d(n,"geoStereographicRaw",(function(){return Id})),e.d(n,"geoTransverseMercator",(function(){return Ld})),e.d(n,"geoTransverseMercatorRaw",(function(){return zd})),e.d(n,"geoRotation",(function(){return Ws})),e.d(n,"geoStream",(function(){return Af})),e.d(n,"geoTransform",(function(){return Bh})),e.d(n,"cluster",(function(){return Hd})),e.d(n,"hierarchy",(function(){return Gd})),e.d(n,"pack",(function(){return _p})),e.d(n,"packSiblings",(function(){return sp})),e.d(n,"packEnclose",(function(){return $d})),e.d(n,"partition",(function(){return wp})),e.d(n,"stratify",(function(){return Np})),e.d(n,"tree",(function(){return Dp})),e.d(n,"treemap",(function(){return Lp})),e.d(n,"treemapBinary",(function(){return Fp})),e.d(n,"treemapDice",(function(){return xp})),e.d(n,"treemapSlice",(function(){return Op})),e.d(n,"treemapSliceDice",(function(){return Bp})),e.d(n,"treemapSquarify",(function(){return zp})),e.d(n,"treemapResquarify",(function(){return qp})),e.d(n,"interpolate",(function(){return rr})),e.d(n,"interpolateArray",(function(){return Ve})),e.d(n,"interpolateBasis",(function(){return De})),e.d(n,"interpolateBasisClosed",(function(){return Oe})),e.d(n,"interpolateDate",(function(){return We})),e.d(n,"interpolateDiscrete",(function(){return Hp})),e.d(n,"interpolateHue",(function(){return jp})),e.d(n,"interpolateNumber",(function(){return Ze})),e.d(n,"interpolateNumberArray",(function(){return Ge})),e.d(n,"interpolateObject",(function(){return $e})),e.d(n,"interpolateRound",(function(){return Gp})),e.d(n,"interpolateString",(function(){return er})),e.d(n,"interpolateTransformCss",(function(){return Or})),e.d(n,"interpolateTransformSvg",(function(){return Ir})),e.d(n,"interpolateZoom",(function(){return Vp})),e.d(n,"interpolateRgb",(function(){return Be})),e.d(n,"interpolateRgbBasis",(function(){return He})),e.d(n,"interpolateRgbBasisClosed",(function(){return je})),e.d(n,"interpolateHsl",(function(){return Wp})),e.d(n,"interpolateHslLong",(function(){return Zp})),e.d(n,"interpolateLab",(function(){return $p})),e.d(n,"interpolateHcl",(function(){return Jp})),e.d(n,"interpolateHclLong",(function(){return tg})),e.d(n,"interpolateCubehelix",(function(){return eg})),e.d(n,"interpolateCubehelixLong",(function(){return rg})),e.d(n,"piecewise",(function(){return ig})),e.d(n,"quantize",(function(){return og})),e.d(n,"path",(function(){return vo})),e.d(n,"polygonArea",(function(){return ug})),e.d(n,"polygonCentroid",(function(){return ag})),e.d(n,"polygonHull",(function(){return sg})),e.d(n,"polygonContains",(function(){return lg})),e.d(n,"polygonLength",(function(){return hg})),e.d(n,"quadtree",(function(){return sc})),e.d(n,"randomUniform",(function(){return pg})),e.d(n,"randomInt",(function(){return gg})),e.d(n,"randomNormal",(function(){return _g})),e.d(n,"randomLogNormal",(function(){return yg})),e.d(n,"randomBates",(function(){return bg})),e.d(n,"randomIrwinHall",(function(){return vg})),e.d(n,"randomExponential",(function(){return mg})),e.d(n,"randomPareto",(function(){return xg})),e.d(n,"randomBernoulli",(function(){return wg})),e.d(n,"randomGeometric",(function(){return Mg})),e.d(n,"randomBinomial",(function(){return Rg})),e.d(n,"randomGamma",(function(){return Eg})),e.d(n,"randomBeta",(function(){return Cg})),e.d(n,"randomWeibull",(function(){return Ng})),e.d(n,"randomCauchy",(function(){return Tg})),e.d(n,"randomLogistic",(function(){return Ag})),e.d(n,"randomPoisson",(function(){return Sg})),e.d(n,"randomLcg",(function(){return Ug})),e.d(n,"scaleBand",(function(){return Pg})),e.d(n,"scalePoint",(function(){return Lg})),e.d(n,"scaleIdentity",(function(){return Qg})),e.d(n,"scaleLinear",(function(){return $g})),e.d(n,"scaleLog",(function(){return a_})),e.d(n,"scaleSymlog",(function(){return l_})),e.d(n,"scaleOrdinal",(function(){return Ig})),e.d(n,"scaleImplicit",(function(){return Og})),e.d(n,"scalePow",(function(){return __})),e.d(n,"scaleSqrt",(function(){return y_})),e.d(n,"scaleRadial",(function(){return m_})),e.d(n,"scaleQuantile",(function(){return x_})),e.d(n,"scaleQuantize",(function(){return w_})),e.d(n,"scaleThreshold",(function(){return M_})),e.d(n,"scaleTime",(function(){return ub})),e.d(n,"scaleUtc",(function(){return _b})),e.d(n,"scaleSequential",(function(){return bb})),e.d(n,"scaleSequentialLog",(function(){return mb})),e.d(n,"scaleSequentialPow",(function(){return wb})),e.d(n,"scaleSequentialSqrt",(function(){return Mb})),e.d(n,"scaleSequentialSymlog",(function(){return xb})),e.d(n,"scaleSequentialQuantile",(function(){return Eb})),e.d(n,"scaleDiverging",(function(){return Rb})),e.d(n,"scaleDivergingLog",(function(){return Nb})),e.d(n,"scaleDivergingPow",(function(){return Ab})),e.d(n,"scaleDivergingSqrt",(function(){return Sb})),e.d(n,"scaleDivergingSymlog",(function(){return Tb})),e.d(n,"tickFormat",(function(){return Wg})),e.d(n,"schemeCategory10",(function(){return Ub})),e.d(n,"schemeAccent",(function(){return Yb})),e.d(n,"schemeDark2",(function(){return Db})),e.d(n,"schemePaired",(function(){return Ob})),e.d(n,"schemePastel1",(function(){return Ib})),e.d(n,"schemePastel2",(function(){return Pb})),e.d(n,"schemeSet1",(function(){return zb})),e.d(n,"schemeSet2",(function(){return Lb})),e.d(n,"schemeSet3",(function(){return Fb})),e.d(n,"schemeTableau10",(function(){return Bb})),e.d(n,"interpolateBrBG",(function(){return jb})),e.d(n,"schemeBrBG",(function(){return Hb})),e.d(n,"interpolatePRGn",(function(){return Xb})),e.d(n,"schemePRGn",(function(){return Gb})),e.d(n,"interpolatePiYG",(function(){return Kb})),e.d(n,"schemePiYG",(function(){return Vb})),e.d(n,"interpolatePuOr",(function(){return Zb})),e.d(n,"schemePuOr",(function(){return Wb})),e.d(n,"interpolateRdBu",(function(){return Qb})),e.d(n,"schemeRdBu",(function(){return $b})),e.d(n,"interpolateRdGy",(function(){return tm})),e.d(n,"schemeRdGy",(function(){return Jb})),e.d(n,"interpolateRdYlBu",(function(){return em})),e.d(n,"schemeRdYlBu",(function(){return nm})),e.d(n,"interpolateRdYlGn",(function(){return im})),e.d(n,"schemeRdYlGn",(function(){return rm})),e.d(n,"interpolateSpectral",(function(){return um})),e.d(n,"schemeSpectral",(function(){return om})),e.d(n,"interpolateBuGn",(function(){return cm})),e.d(n,"schemeBuGn",(function(){return am})),e.d(n,"interpolateBuPu",(function(){return sm})),e.d(n,"schemeBuPu",(function(){return fm})),e.d(n,"interpolateGnBu",(function(){return hm})),e.d(n,"schemeGnBu",(function(){return lm})),e.d(n,"interpolateOrRd",(function(){return pm})),e.d(n,"schemeOrRd",(function(){return dm})),e.d(n,"interpolatePuBuGn",(function(){return _m})),e.d(n,"schemePuBuGn",(function(){return gm})),e.d(n,"interpolatePuBu",(function(){return vm})),e.d(n,"schemePuBu",(function(){return ym})),e.d(n,"interpolatePuRd",(function(){return mm})),e.d(n,"schemePuRd",(function(){return bm})),e.d(n,"interpolateRdPu",(function(){return wm})),e.d(n,"schemeRdPu",(function(){return xm})),e.d(n,"interpolateYlGnBu",(function(){return Em})),e.d(n,"schemeYlGnBu",(function(){return Mm})),e.d(n,"interpolateYlGn",(function(){return Rm})),e.d(n,"schemeYlGn",(function(){return Cm})),e.d(n,"interpolateYlOrBr",(function(){return Tm})),e.d(n,"schemeYlOrBr",(function(){return Nm})),e.d(n,"interpolateYlOrRd",(function(){return Sm})),e.d(n,"schemeYlOrRd",(function(){return Am})),e.d(n,"interpolateBlues",(function(){return Um})),e.d(n,"schemeBlues",(function(){return km})),e.d(n,"interpolateGreens",(function(){return Dm})),e.d(n,"schemeGreens",(function(){return Ym})),e.d(n,"interpolateGreys",(function(){return Im})),e.d(n,"schemeGreys",(function(){return Om})),e.d(n,"interpolatePurples",(function(){return zm})),e.d(n,"schemePurples",(function(){return Pm})),e.d(n,"interpolateReds",(function(){return Fm})),e.d(n,"schemeReds",(function(){return Lm})),e.d(n,"interpolateOranges",(function(){return qm})),e.d(n,"schemeOranges",(function(){return Bm})),e.d(n,"interpolateCividis",(function(){return Hm})),e.d(n,"interpolateCubehelixDefault",(function(){return jm})),e.d(n,"interpolateRainbow",(function(){return Km})),e.d(n,"interpolateWarm",(function(){return Gm})),e.d(n,"interpolateCool",(function(){return Xm})),e.d(n,"interpolateSinebow",(function(){return Qm})),e.d(n,"interpolateTurbo",(function(){return Jm})),e.d(n,"interpolateViridis",(function(){return nx})),e.d(n,"interpolateMagma",(function(){return ex})),e.d(n,"interpolateInferno",(function(){return rx})),e.d(n,"interpolatePlasma",(function(){return ix})),e.d(n,"create",(function(){return ox})),e.d(n,"creator",(function(){return Pn})),e.d(n,"local",(function(){return ax})),e.d(n,"matcher",(function(){return qt})),e.d(n,"namespace",(function(){return rn})),e.d(n,"namespaces",(function(){return en})),e.d(n,"pointer",(function(){return or})),e.d(n,"pointers",(function(){return fx})),e.d(n,"select",(function(){return Qn})),e.d(n,"selectAll",(function(){return sx})),e.d(n,"selection",(function(){return $n})),e.d(n,"selector",(function(){return zt})),e.d(n,"selectorAll",(function(){return Bt})),e.d(n,"style",(function(){return gn})),e.d(n,"window",(function(){return ln})),e.d(n,"arc",(function(){return kx})),e.d(n,"area",(function(){return Lx})),e.d(n,"line",(function(){return zx})),e.d(n,"pie",(function(){return qx})),e.d(n,"areaRadial",(function(){return Kx})),e.d(n,"radialArea",(function(){return Kx})),e.d(n,"lineRadial",(function(){return Vx})),e.d(n,"radialLine",(function(){return Vx})),e.d(n,"pointRadial",(function(){return Wx})),e.d(n,"linkHorizontal",(function(){return ew})),e.d(n,"linkVertical",(function(){return rw})),e.d(n,"linkRadial",(function(){return iw})),e.d(n,"symbol",(function(){return ww})),e.d(n,"symbols",(function(){return xw})),e.d(n,"symbolCircle",(function(){return ow})),e.d(n,"symbolCross",(function(){return uw})),e.d(n,"symbolDiamond",(function(){return fw})),e.d(n,"symbolSquare",(function(){return pw})),e.d(n,"symbolStar",(function(){return dw})),e.d(n,"symbolTriangle",(function(){return _w})),e.d(n,"symbolWye",(function(){return mw})),e.d(n,"curveBasisClosed",(function(){return Tw})),e.d(n,"curveBasisOpen",(function(){return Sw})),e.d(n,"curveBasis",(function(){return Rw})),e.d(n,"curveBundle",(function(){return Uw})),e.d(n,"curveCardinalClosed",(function(){return Pw})),e.d(n,"curveCardinalOpen",(function(){return Lw})),e.d(n,"curveCardinal",(function(){return Ow})),e.d(n,"curveCatmullRomClosed",(function(){return jw})),e.d(n,"curveCatmullRomOpen",(function(){return Xw})),e.d(n,"curveCatmullRom",(function(){return qw})),e.d(n,"curveLinearClosed",(function(){return Kw})),e.d(n,"curveLinear",(function(){return Ox})),e.d(n,"curveMonotoneX",(function(){return eM})),e.d(n,"curveMonotoneY",(function(){return rM})),e.d(n,"curveNatural",(function(){return uM})),e.d(n,"curveStep",(function(){return cM})),e.d(n,"curveStepAfter",(function(){return sM})),e.d(n,"curveStepBefore",(function(){return fM})),e.d(n,"stack",(function(){return gM})),e.d(n,"stackOffsetExpand",(function(){return _M})),e.d(n,"stackOffsetDiverging",(function(){return yM})),e.d(n,"stackOffsetNone",(function(){return lM})),e.d(n,"stackOffsetSilhouette",(function(){return vM})),e.d(n,"stackOffsetWiggle",(function(){return bM})),e.d(n,"stackOrderAppearance",(function(){return mM})),e.d(n,"stackOrderAscending",(function(){return wM})),e.d(n,"stackOrderDescending",(function(){return EM})),e.d(n,"stackOrderInsideOut",(function(){return CM})),e.d(n,"stackOrderNone",(function(){return hM})),e.d(n,"stackOrderReverse",(function(){return RM})),e.d(n,"timeInterval",(function(){return R_})),e.d(n,"timeMillisecond",(function(){return ay})),e.d(n,"timeMilliseconds",(function(){return cy})),e.d(n,"utcMillisecond",(function(){return ay})),e.d(n,"utcMilliseconds",(function(){return cy})),e.d(n,"timeSecond",(function(){return iy})),e.d(n,"timeSeconds",(function(){return oy})),e.d(n,"utcSecond",(function(){return iy})),e.d(n,"utcSeconds",(function(){return oy})),e.d(n,"timeMinute",(function(){return ny})),e.d(n,"timeMinutes",(function(){return ey})),e.d(n,"timeHour",(function(){return Q_})),e.d(n,"timeHours",(function(){return J_})),e.d(n,"timeDay",(function(){return W_})),e.d(n,"timeDays",(function(){return Z_})),e.d(n,"timeWeek",(function(){return D_})),e.d(n,"timeWeeks",(function(){return B_})),e.d(n,"timeSunday",(function(){return D_})),e.d(n,"timeSundays",(function(){return B_})),e.d(n,"timeMonday",(function(){return O_})),e.d(n,"timeMondays",(function(){return q_})),e.d(n,"timeTuesday",(function(){return I_})),e.d(n,"timeTuesdays",(function(){return H_})),e.d(n,"timeWednesday",(function(){return P_})),e.d(n,"timeWednesdays",(function(){return j_})),e.d(n,"timeThursday",(function(){return z_})),e.d(n,"timeThursdays",(function(){return G_})),e.d(n,"timeFriday",(function(){return L_})),e.d(n,"timeFridays",(function(){return X_})),e.d(n,"timeSaturday",(function(){return F_})),e.d(n,"timeSaturdays",(function(){return V_})),e.d(n,"timeMonth",(function(){return k_})),e.d(n,"timeMonths",(function(){return U_})),e.d(n,"timeYear",(function(){return T_})),e.d(n,"timeYears",(function(){return A_})),e.d(n,"utcMinute",(function(){return pb})),e.d(n,"utcMinutes",(function(){return gb})),e.d(n,"utcHour",(function(){return lb})),e.d(n,"utcHours",(function(){return hb})),e.d(n,"utcDay",(function(){return Cy})),e.d(n,"utcDays",(function(){return Ry})),e.d(n,"utcWeek",(function(){return sy})),e.d(n,"utcWeeks",(function(){return yy})),e.d(n,"utcSunday",(function(){return sy})),e.d(n,"utcSundays",(function(){return yy})),e.d(n,"utcMonday",(function(){return ly})),e.d(n,"utcMondays",(function(){return vy})),e.d(n,"utcTuesday",(function(){return hy})),e.d(n,"utcTuesdays",(function(){return by})),e.d(n,"utcWednesday",(function(){return dy})),e.d(n,"utcWednesdays",(function(){return my})),e.d(n,"utcThursday",(function(){return py})),e.d(n,"utcThursdays",(function(){return xy})),e.d(n,"utcFriday",(function(){return gy})),e.d(n,"utcFridays",(function(){return wy})),e.d(n,"utcSaturday",(function(){return _y})),e.d(n,"utcSaturdays",(function(){return My})),e.d(n,"utcMonth",(function(){return cb})),e.d(n,"utcMonths",(function(){return fb})),e.d(n,"utcYear",(function(){return Ty})),e.d(n,"utcYears",(function(){return Ay})),e.d(n,"timeFormatDefaultLocale",(function(){return eb})),e.d(n,"timeFormat",(function(){return Oy})),e.d(n,"timeParse",(function(){return Iy})),e.d(n,"utcFormat",(function(){return Py})),e.d(n,"utcParse",(function(){return zy})),e.d(n,"timeFormatLocale",(function(){return Yy})),e.d(n,"isoFormat",(function(){return NM})),e.d(n,"isoParse",(function(){return TM})),e.d(n,"now",(function(){return pr})),e.d(n,"timer",(function(){return yr})),e.d(n,"timerFlush",(function(){return vr})),e.d(n,"timeout",(function(){return wr})),e.d(n,"interval",(function(){return AM})),e.d(n,"transition",(function(){return li})),e.d(n,"active",(function(){return mi})),e.d(n,"interrupt",(function(){return Sr})),e.d(n,"zoom",(function(){return HM})),e.d(n,"zoomTransform",(function(){return DM})),e.d(n,"zoomIdentity",(function(){return YM}));var r="6.1.1",i=function(t,n){return t<n?-1:t>n?1:t>=n?0:NaN},o=function(t){let n=t,e=t;function r(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)<0?r=o+1:i=o}return r}return 1===t.length&&(n=(n,e)=>t(n)-e,e=function(t){return(n,e)=>i(t(n),e)}(t)),{left:r,center:function(t,e,i,o){null==i&&(i=0),null==o&&(o=t.length);const u=r(t,e,i,o-1);return u>i&&n(t[u-1],e)>-n(t[u],e)?u-1:u},right:function(t,n,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;e(t[o],n)>0?i=o:r=o+1}return r}}};var u=function(t){return null===t?NaN:+t};const a=o(i),c=a.right,f=a.left,s=o(u).center;var l=c;function h(t,n){let e=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&++e;else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(i=+i)>=i&&++e}return e}function d(t){return 0|t.length}function p(t){return!(t>0)}function g(t){return"object"!=typeof t||"length"in t?t:Array.from(t)}function _(...t){const n="function"==typeof t[t.length-1]&&function(t){return n=>t(...n)}(t.pop()),e=(t=t.map(g)).map(d),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||e.some(p))return o;for(;;){o.push(i.map((n,e)=>t[e][n]));let u=r;for(;++i[u]===e[u];){if(0===u)return n?o.map(n):o;i[u--]=0}}}function y(t,n){var e=0,r=0;return Float64Array.from(t,void 0===n?t=>e+=+t||0:i=>e+=+n(i,r++,t)||0)}var v=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN};function b(t,n){let e,r=0,i=0,o=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(e=n-i,i+=e/++r,o+=e*(n-i));else{let u=-1;for(let a of t)null!=(a=n(a,++u,t))&&(a=+a)>=a&&(e=a-i,i+=e/++r,o+=e*(a-i))}if(r>1)return o/(r-1)}function m(t,n){const e=b(t,n);return e?Math.sqrt(e):e}var x=function(t,n){let e,r;if(void 0===n)for(const n of t)null!=n&&(void 0===e?n>=n&&(e=r=n):(e>n&&(e=n),r<n&&(r=n)));else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(void 0===e?o>=o&&(e=r=o):(e>o&&(e=o),r<o&&(r=o)))}return[e,r]};class w{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let e=0;for(let r=0;r<this._n&&r<32;r++){const i=n[r],o=t+i,u=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);u&&(n[e++]=u),t=o}return n[e]=t,this._n=e+1,this}valueOf(){const t=this._partials;let n,e,r,i=this._n,o=0;if(i>0){for(o=t[--i];i>0&&(n=o,e=t[--i],o=n+e,r=e-(o-n),!r););i>0&&(r<0&&t[i-1]<0||r>0&&t[i-1]>0)&&(e=2*r,n=o+e,e==n-o&&(o=n))}return o}}var M=function(t,n){const e=new w;if(void 0===n)for(let n of t)(n=+n)&&e.add(n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&e.add(i)}return+e},E=function(t){return t};function C(t,...n){return U(t,E,E,n)}function R(t,...n){return U(t,Array.from,E,n)}function N(t,n,...e){return U(t,E,n,e)}function T(t,n,...e){return U(t,Array.from,n,e)}function A(t,...n){return U(t,E,k,n)}function S(t,...n){return U(t,Array.from,k,n)}function k(t){if(1!==t.length)throw new Error("duplicate key");return t[0]}function U(t,n,e,r){return function t(i,o){if(o>=r.length)return e(i);const u=new Map,a=r[o++];let c=-1;for(const t of i){const n=a(t,++c,i),e=u.get(n);e?e.push(t):u.set(n,[t])}for(const[n,e]of u)u.set(n,t(e,o));return n(u)}(t,0)}var Y=Array.prototype,D=Y.slice,O=(Y.map,function(t){return function(){return t}}),I=Math.sqrt(50),P=Math.sqrt(10),z=Math.sqrt(2),L=function(t,n,e){var r,i,o,u,a=-1;if(e=+e,(t=+t)===(n=+n)&&e>0)return[t];if((r=n<t)&&(i=t,t=n,n=i),0===(u=F(t,n,e))||!isFinite(u))return[];if(u>0)for(t=Math.ceil(t/u),n=Math.floor(n/u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)*u;else for(u=-u,t=Math.ceil(t*u),n=Math.floor(n*u),o=new Array(i=Math.ceil(n-t+1));++a<i;)o[a]=(t+a)/u;return r&&o.reverse(),o};function F(t,n,e){var r=(n-t)/Math.max(0,e),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=I?10:o>=P?5:o>=z?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=I?10:o>=P?5:o>=z?2:1)}function B(t,n,e){var r=Math.abs(n-t)/Math.max(0,e),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=I?i*=10:o>=P?i*=5:o>=z&&(i*=2),n<t?-i:i}var q=function(t){return Math.ceil(Math.log(h(t))/Math.LN2)+1},H=function(){var t=E,n=x,e=q;function r(r){Array.isArray(r)||(r=Array.from(r));var i,o,u=r.length,a=new Array(u);for(i=0;i<u;++i)a[i]=t(r[i],i,r);var c=n(a),f=c[0],s=c[1],h=e(a,f,s);Array.isArray(h)||(h=L(f,s,h))[h.length-1]===s&&h.pop();for(var d=h.length;h[0]<=f;)h.shift(),--d;for(;h[d-1]>s;)h.pop(),--d;var p,g=new Array(d+1);for(i=0;i<=d;++i)(p=g[i]=[]).x0=i>0?h[i-1]:f,p.x1=i<d?h[i]:s;for(i=0;i<u;++i)f<=(o=a[i])&&o<=s&&g[l(h,o,0,d)].push(r[i]);return g}return r.value=function(n){return arguments.length?(t="function"==typeof n?n:O(n),r):t},r.domain=function(t){return arguments.length?(n="function"==typeof t?t:O([t[0],t[1]]),r):n},r.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?O(D.call(t)):O(t),r):e},r};function j(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e<n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e<i||void 0===e&&i>=i)&&(e=i)}return e}function G(t,n){let e;if(void 0===n)for(const n of t)null!=n&&(e>n||void 0===e&&n>=n)&&(e=n);else{let r=-1;for(let i of t)null!=(i=n(i,++r,t))&&(e>i||void 0===e&&i>=i)&&(e=i)}return e}function X(t,n,e=0,r=t.length-1,o=i){for(;r>e;){if(r-e>600){const i=r-e+1,u=n-e+1,a=Math.log(i),c=.5*Math.exp(2*a/3),f=.5*Math.sqrt(a*c*(i-c)/i)*(u-i/2<0?-1:1);X(t,n,Math.max(e,Math.floor(n-u*c/i+f)),Math.min(r,Math.floor(n+(i-u)*c/i+f)),o)}const i=t[n];let u=e,a=r;for(V(t,e,n),o(t[r],i)>0&&V(t,e,r);u<a;){for(V(t,u,a),++u,--a;o(t[u],i)<0;)++u;for(;o(t[a],i)>0;)--a}0===o(t[e],i)?V(t,e,a):(++a,V(t,a,r)),a<=n&&(e=a+1),n<=a&&(r=a-1)}return t}function V(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function K(t,n,e){if(r=(t=Float64Array.from(function*(t,n){if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(yield n);else{let e=-1;for(let r of t)null!=(r=n(r,++e,t))&&(r=+r)>=r&&(yield r)}}(t,e))).length){if((n=+n)<=0||r<2)return G(t);if(n>=1)return j(t);var r,i=(r-1)*n,o=Math.floor(i),u=j(X(t,o).subarray(0,o+1));return u+(G(t.subarray(o+1))-u)*(i-o)}}function W(t,n,e=u){if(r=t.length){if((n=+n)<=0||r<2)return+e(t[0],0,t);if(n>=1)return+e(t[r-1],r-1,t);var r,i=(r-1)*n,o=Math.floor(i),a=+e(t[o],o,t);return a+(+e(t[o+1],o+1,t)-a)*(i-o)}}var Z=function(t,n,e){return Math.ceil((e-n)/(2*(K(t,.75)-K(t,.25))*Math.pow(h(t),-1/3)))},$=function(t,n,e){return Math.ceil((e-n)/(3.5*m(t)*Math.pow(h(t),-1/3)))};function Q(t,n){let e,r=-1,i=-1;if(void 0===n)for(const n of t)++i,null!=n&&(e<n||void 0===e&&n>=n)&&(e=n,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e<o||void 0===e&&o>=o)&&(e=o,r=i);return r}function J(t,n){let e=0,r=0;if(void 0===n)for(let n of t)null!=n&&(n=+n)>=n&&(++e,r+=n);else{let i=-1;for(let o of t)null!=(o=n(o,++i,t))&&(o=+o)>=o&&(++e,r+=o)}if(e)return r/e}var tt=function(t,n){return K(t,.5,n)};function nt(t){return Array.from(function*(t){for(const n of t)yield*n}(t))}function et(t,n){let e,r=-1,i=-1;if(void 0===n)for(const n of t)++i,null!=n&&(e>n||void 0===e&&n>=n)&&(e=n,r=i);else for(let o of t)null!=(o=n(o,++i,t))&&(e>o||void 0===e&&o>=o)&&(e=o,r=i);return r}function rt(t,n=it){const e=[];let r,i=!1;for(const o of t)i&&e.push(n(r,o)),r=o,i=!0;return e}function it(t,n){return[t,n]}var ot=function(t,n){return Array.from(n,n=>t[n])},ut=function(t,n,e){t=+t,n=+n,e=(i=arguments.length)<2?(n=t,t=0,1):i<3?1:+e;for(var r=-1,i=0|Math.max(0,Math.ceil((n-t)/e)),o=new Array(i);++r<i;)o[r]=t+r*e;return o};function at(t,n=i){let e,r=!1;if(1===n.length){let o;for(const u of t){const t=n(u);(r?i(t,o)<0:0===i(t,t))&&(e=u,o=t,r=!0)}}else for(const i of t)(r?n(i,e)<0:0===n(i,i))&&(e=i,r=!0);return e}function ct(t,n=i){if(1===n.length)return et(t,n);let e,r=-1,o=-1;for(const i of t)++o,(r<0?0===n(i,i):n(i,e)<0)&&(e=i,r=o);return r}function ft(t,n=i){let e,r=!1;if(1===n.length){let o;for(const u of t){const t=n(u);(r?i(t,o)>0:0===i(t,t))&&(e=u,o=t,r=!0)}}else for(const i of t)(r?n(i,e)>0:0===n(i,i))&&(e=i,r=!0);return e}function st(t,n=i){if(1===n.length)return Q(t,n);let e,r=-1,o=-1;for(const i of t)++o,(r<0?0===n(i,i):n(i,e)>0)&&(e=i,r=o);return r}function lt(t,n){const e=ct(t,n);return e<0?void 0:e}var ht=dt(Math.random);function dt(t){return function(n,e=0,r=n.length){let i=r-(e=+e);for(;i;){const r=t()*i--|0,o=n[i+e];n[i+e]=n[r+e],n[r+e]=o}return n}}function pt(t,n){let e=0;if(void 0===n)for(let n of t)(n=+n)&&(e+=n);else{let r=-1;for(let i of t)(i=+n(i,++r,t))&&(e+=i)}return e}var gt=function(t){if(!(i=t.length))return[];for(var n=-1,e=G(t,_t),r=new Array(e);++n<e;)for(var i,o=-1,u=r[n]=new Array(i);++o<i;)u[o]=t[o][n];return r};function _t(t){return t.length}var yt=function(){return gt(arguments)},vt=Array.prototype.slice,bt=function(t){return t};function mt(t){return"translate("+(t+.5)+",0)"}function xt(t){return"translate(0,"+(t+.5)+")"}function wt(t){return n=>+t(n)}function Mt(t){var n=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(n=Math.round(n)),function(e){return+t(e)+n}}function Et(){return!this.__axis}function Ct(t,n){var e=[],r=null,i=null,o=6,u=6,a=3,c=1===t||4===t?-1:1,f=4===t||2===t?"x":"y",s=1===t||3===t?mt:xt;function l(l){var h=null==r?n.ticks?n.ticks.apply(n,e):n.domain():r,d=null==i?n.tickFormat?n.tickFormat.apply(n,e):bt:i,p=Math.max(o,0)+a,g=n.range(),_=+g[0]+.5,y=+g[g.length-1]+.5,v=(n.bandwidth?Mt:wt)(n.copy()),b=l.selection?l.selection():l,m=b.selectAll(".domain").data([null]),x=b.selectAll(".tick").data(h,n).order(),w=x.exit(),M=x.enter().append("g").attr("class","tick"),E=x.select("line"),C=x.select("text");m=m.merge(m.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(M),E=E.merge(M.append("line").attr("stroke","currentColor").attr(f+"2",c*o)),C=C.merge(M.append("text").attr("fill","currentColor").attr(f,c*p).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),l!==b&&(m=m.transition(l),x=x.transition(l),E=E.transition(l),C=C.transition(l),w=w.transition(l).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=v(t))?s(t):this.getAttribute("transform")})),M.attr("opacity",1e-6).attr("transform",(function(t){var n=this.parentNode.__axis;return s(n&&isFinite(n=n(t))?n:v(t))}))),w.remove(),m.attr("d",4===t||2==t?u?"M"+c*u+","+_+"H0.5V"+y+"H"+c*u:"M0.5,"+_+"V"+y:u?"M"+_+","+c*u+"V0.5H"+y+"V"+c*u:"M"+_+",0.5H"+y),x.attr("opacity",1).attr("transform",(function(t){return s(v(t))})),E.attr(f+"2",c*o),C.attr(f,c*p).text(d),b.filter(Et).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),b.each((function(){this.__axis=v}))}return l.scale=function(t){return arguments.length?(n=t,l):n},l.ticks=function(){return e=vt.call(arguments),l},l.tickArguments=function(t){return arguments.length?(e=null==t?[]:vt.call(t),l):e.slice()},l.tickValues=function(t){return arguments.length?(r=null==t?null:vt.call(t),l):r&&r.slice()},l.tickFormat=function(t){return arguments.length?(i=t,l):i},l.tickSize=function(t){return arguments.length?(o=u=+t,l):o},l.tickSizeInner=function(t){return arguments.length?(o=+t,l):o},l.tickSizeOuter=function(t){return arguments.length?(u=+t,l):u},l.tickPadding=function(t){return arguments.length?(a=+t,l):a},l}function Rt(t){return Ct(1,t)}function Nt(t){return Ct(2,t)}function Tt(t){return Ct(3,t)}function At(t){return Ct(4,t)}var St={value:()=>{}};function kt(){for(var t,n=0,e=arguments.length,r={};n<e;++n){if(!(t=arguments[n]+"")||t in r||/[\s.]/.test(t))throw new Error("illegal type: "+t);r[t]=[]}return new Ut(r)}function Ut(t){this._=t}function Yt(t,n){return t.trim().split(/^|\s+/).map((function(t){var e="",r=t.indexOf(".");if(r>=0&&(e=t.slice(r+1),t=t.slice(0,r)),t&&!n.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}}))}function Dt(t,n){for(var e,r=0,i=t.length;r<i;++r)if((e=t[r]).name===n)return e.value}function Ot(t,n,e){for(var r=0,i=t.length;r<i;++r)if(t[r].name===n){t[r]=St,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=e&&t.push({name:n,value:e}),t}Ut.prototype=kt.prototype={constructor:Ut,on:function(t,n){var e,r=this._,i=Yt(t+"",r),o=-1,u=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++o<u;)if(e=(t=i[o]).type)r[e]=Ot(r[e],t.name,n);else if(null==n)for(e in r)r[e]=Ot(r[e],t.name,null);return this}for(;++o<u;)if((e=(t=i[o]).type)&&(e=Dt(r[e],t.name)))return e},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Ut(t)},call:function(t,n){if((e=arguments.length-2)>0)for(var e,r,i=new Array(e),o=0;o<e;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,e=(r=this._[t]).length;o<e;++o)r[o].value.apply(n,i)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(n,e)}};var It=kt;function Pt(){}var zt=function(t){return null==t?Pt:function(){return this.querySelector(t)}},Lt=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)};function Ft(){return[]}var Bt=function(t){return null==t?Ft:function(){return this.querySelectorAll(t)}};var qt=function(t){return function(){return this.matches(t)}};function Ht(t){return function(n){return n.matches(t)}}var jt=Array.prototype.find;function Gt(){return this.firstElementChild}var Xt=Array.prototype.filter;function Vt(){return this.children}var Kt=function(t){return new Array(t.length)};function Wt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}Wt.prototype={constructor:Wt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var Zt=function(t){return function(){return t}};function $t(t,n,e,r,i,o){for(var u,a=0,c=n.length,f=o.length;a<f;++a)(u=n[a])?(u.__data__=o[a],r[a]=u):e[a]=new Wt(t,o[a]);for(;a<c;++a)(u=n[a])&&(i[a]=u)}function Qt(t,n,e,r,i,o,u){var a,c,f,s=new Map,l=n.length,h=o.length,d=new Array(l);for(a=0;a<l;++a)(c=n[a])&&(d[a]=f=u.call(c,c.__data__,a,n)+"",s.has(f)?i[a]=c:s.set(f,c));for(a=0;a<h;++a)f=u.call(t,o[a],a,o)+"",(c=s.get(f))?(r[a]=c,c.__data__=o[a],s.delete(f)):e[a]=new Wt(t,o[a]);for(a=0;a<l;++a)(c=n[a])&&s.get(d[a])===c&&(i[a]=c)}function Jt(t){return t.__data__}function tn(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}var nn="http://www.w3.org/1999/xhtml",en={svg:"http://www.w3.org/2000/svg",xhtml:nn,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},rn=function(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),en.hasOwnProperty(n)?{space:en[n],local:t}:t};function on(t){return function(){this.removeAttribute(t)}}function un(t){return function(){this.removeAttributeNS(t.space,t.local)}}function an(t,n){return function(){this.setAttribute(t,n)}}function cn(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function fn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function sn(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}var ln=function(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView};function hn(t){return function(){this.style.removeProperty(t)}}function dn(t,n,e){return function(){this.style.setProperty(t,n,e)}}function pn(t,n,e){return function(){var r=n.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,e)}}function gn(t,n){return t.style.getPropertyValue(n)||ln(t).getComputedStyle(t,null).getPropertyValue(n)}function _n(t){return function(){delete this[t]}}function yn(t,n){return function(){this[t]=n}}function vn(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function bn(t){return t.trim().split(/^|\s+/)}function mn(t){return t.classList||new xn(t)}function xn(t){this._node=t,this._names=bn(t.getAttribute("class")||"")}function wn(t,n){for(var e=mn(t),r=-1,i=n.length;++r<i;)e.add(n[r])}function Mn(t,n){for(var e=mn(t),r=-1,i=n.length;++r<i;)e.remove(n[r])}function En(t){return function(){wn(this,t)}}function Cn(t){return function(){Mn(this,t)}}function Rn(t,n){return function(){(n.apply(this,arguments)?wn:Mn)(this,t)}}xn.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function Nn(){this.textContent=""}function Tn(t){return function(){this.textContent=t}}function An(t){return function(){var n=t.apply(this,arguments);this.textContent=null==n?"":n}}function Sn(){this.innerHTML=""}function kn(t){return function(){this.innerHTML=t}}function Un(t){return function(){var n=t.apply(this,arguments);this.innerHTML=null==n?"":n}}function Yn(){this.nextSibling&&this.parentNode.appendChild(this)}function Dn(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function On(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===nn&&n.documentElement.namespaceURI===nn?n.createElement(t):n.createElementNS(e,t)}}function In(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}var Pn=function(t){var n=rn(t);return(n.local?In:On)(n)};function zn(){return null}function Ln(){var t=this.parentNode;t&&t.removeChild(this)}function Fn(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Bn(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function qn(t){return t.trim().split(/^|\s+/).map((function(t){var n="",e=t.indexOf(".");return e>=0&&(n=t.slice(e+1),t=t.slice(0,e)),{type:t,name:n}}))}function Hn(t){return function(){var n=this.__on;if(n){for(var e,r=0,i=-1,o=n.length;r<o;++r)e=n[r],t.type&&e.type!==t.type||e.name!==t.name?n[++i]=e:this.removeEventListener(e.type,e.listener,e.options);++i?n.length=i:delete this.__on}}}function jn(t,n,e){return function(){var r,i=this.__on,o=function(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var u=0,a=i.length;u<a;++u)if((r=i[u]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=e),void(r.value=n);this.addEventListener(t.type,o,e),r={type:t.type,name:t.name,value:n,listener:o,options:e},i?i.push(r):this.__on=[r]}}function Gn(t,n,e){var r=ln(t),i=r.CustomEvent;"function"==typeof i?i=new i(n,e):(i=r.document.createEvent("Event"),e?(i.initEvent(n,e.bubbles,e.cancelable),i.detail=e.detail):i.initEvent(n,!1,!1)),t.dispatchEvent(i)}function Xn(t,n){return function(){return Gn(this,t,n)}}function Vn(t,n){return function(){return Gn(this,t,n.apply(this,arguments))}}var Kn=[null];function Wn(t,n){this._groups=t,this._parents=n}function Zn(){return new Wn([[document.documentElement]],Kn)}Wn.prototype=Zn.prototype={constructor:Wn,select:function(t){"function"!=typeof t&&(t=zt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u,a=n[i],c=a.length,f=r[i]=new Array(c),s=0;s<c;++s)(o=a[s])&&(u=t.call(o,o.__data__,s,a))&&("__data__"in o&&(u.__data__=o.__data__),f[s]=u);return new Wn(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var n=t.apply(this,arguments);return null==n?[]:Lt(n)}}(t):Bt(t);for(var n=this._groups,e=n.length,r=[],i=[],o=0;o<e;++o)for(var u,a=n[o],c=a.length,f=0;f<c;++f)(u=a[f])&&(r.push(t.call(u,u.__data__,f,a)),i.push(u));return new Wn(r,i)},selectChild:function(t){return this.select(null==t?Gt:function(t){return function(){return jt.call(this.children,t)}}("function"==typeof t?t:Ht(t)))},selectChildren:function(t){return this.selectAll(null==t?Vt:function(t){return function(){return Xt.call(this.children,t)}}("function"==typeof t?t:Ht(t)))},filter:function(t){"function"!=typeof t&&(t=qt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],f=0;f<a;++f)(o=u[f])&&t.call(o,o.__data__,f,u)&&c.push(o);return new Wn(r,this._parents)},data:function(t,n){if(!arguments.length)return Array.from(this,Jt);var e=n?Qt:$t,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Zt(t));for(var o=i.length,u=new Array(o),a=new Array(o),c=new Array(o),f=0;f<o;++f){var s=r[f],l=i[f],h=l.length,d=Lt(t.call(s,s&&s.__data__,f,r)),p=d.length,g=a[f]=new Array(p),_=u[f]=new Array(p),y=c[f]=new Array(h);e(s,l,g,_,y,d,n);for(var v,b,m=0,x=0;m<p;++m)if(v=g[m]){for(m>=x&&(x=m+1);!(b=_[x])&&++x<p;);v._next=b||null}}return(u=new Wn(u,r))._enter=a,u._exit=c,u},enter:function(){return new Wn(this._enter||this._groups.map(Kt),this._parents)},exit:function(){return new Wn(this._exit||this._groups.map(Kt),this._parents)},join:function(t,n,e){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=n&&(i=n(i)),null==e?o.remove():e(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof Wn))throw new Error("invalid merge");for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,f=n[a],s=e[a],l=f.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=f[d]||s[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new Wn(u,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var r,i=t[n],o=i.length-1,u=i[o];--o>=0;)(r=i[o])&&(u&&4^r.compareDocumentPosition(u)&&u.parentNode.insertBefore(r,u),u=r);return this},sort:function(t){function n(n,e){return n&&e?t(n.__data__,e.__data__):!n-!e}t||(t=tn);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var u,a=e[o],c=a.length,f=i[o]=new Array(c),s=0;s<c;++s)(u=a[s])&&(f[s]=u);f.sort(n)}return new Wn(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r=t[n],i=0,o=r.length;i<o;++i){var u=r[i];if(u)return u}return null},size:function(){let t=0;for(const n of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var n=this._groups,e=0,r=n.length;e<r;++e)for(var i,o=n[e],u=0,a=o.length;u<a;++u)(i=o[u])&&t.call(i,i.__data__,u,o);return this},attr:function(t,n){var e=rn(t);if(arguments.length<2){var r=this.node();return e.local?r.getAttributeNS(e.space,e.local):r.getAttribute(e)}return this.each((null==n?e.local?un:on:"function"==typeof n?e.local?sn:fn:e.local?cn:an)(e,n))},style:function(t,n,e){return arguments.length>1?this.each((null==n?hn:"function"==typeof n?pn:dn)(t,n,null==e?"":e)):gn(this.node(),t)},property:function(t,n){return arguments.length>1?this.each((null==n?_n:"function"==typeof n?vn:yn)(t,n)):this.node()[t]},classed:function(t,n){var e=bn(t+"");if(arguments.length<2){for(var r=mn(this.node()),i=-1,o=e.length;++i<o;)if(!r.contains(e[i]))return!1;return!0}return this.each(("function"==typeof n?Rn:n?En:Cn)(e,n))},text:function(t){return arguments.length?this.each(null==t?Nn:("function"==typeof t?An:Tn)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Sn:("function"==typeof t?Un:kn)(t)):this.node().innerHTML},raise:function(){return this.each(Yn)},lower:function(){return this.each(Dn)},append:function(t){var n="function"==typeof t?t:Pn(t);return this.select((function(){return this.appendChild(n.apply(this,arguments))}))},insert:function(t,n){var e="function"==typeof t?t:Pn(t),r=null==n?zn:"function"==typeof n?n:zt(n);return this.select((function(){return this.insertBefore(e.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Ln)},clone:function(t){return this.select(t?Bn:Fn)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,n,e){var r,i,o=qn(t+""),u=o.length;if(!(arguments.length<2)){for(a=n?jn:Hn,r=0;r<u;++r)this.each(a(o[r],n,e));return this}var a=this.node().__on;if(a)for(var c,f=0,s=a.length;f<s;++f)for(r=0,c=a[f];r<u;++r)if((i=o[r]).type===c.type&&i.name===c.name)return c.value},dispatch:function(t,n){return this.each(("function"==typeof n?Vn:Xn)(t,n))},[Symbol.iterator]:function*(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var r,i=t[n],o=0,u=i.length;o<u;++o)(r=i[o])&&(yield r)}};var $n=Zn,Qn=function(t){return"string"==typeof t?new Wn([[document.querySelector(t)]],[document.documentElement]):new Wn([[t]],Kn)};function Jn(t){t.stopImmediatePropagation()}var te=function(t){t.preventDefault(),t.stopImmediatePropagation()},ne=function(t){var n=t.document.documentElement,e=Qn(t).on("dragstart.drag",te,!0);"onselectstart"in n?e.on("selectstart.drag",te,!0):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")};function ee(t,n){var e=t.document.documentElement,r=Qn(t).on("dragstart.drag",null);n&&(r.on("click.drag",te,!0),setTimeout((function(){r.on("click.drag",null)}),0)),"onselectstart"in e?r.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}var re=function(t,n,e){t.prototype=n.prototype=e,e.constructor=t};function ie(t,n){var e=Object.create(t.prototype);for(var r in n)e[r]=n[r];return e}function oe(){}var ue="\\s*([+-]?\\d+)\\s*",ae="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ce="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",fe=/^#([0-9a-f]{3,8})$/,se=new RegExp("^rgb\\("+[ue,ue,ue]+"\\)$"),le=new RegExp("^rgb\\("+[ce,ce,ce]+"\\)$"),he=new RegExp("^rgba\\("+[ue,ue,ue,ae]+"\\)$"),de=new RegExp("^rgba\\("+[ce,ce,ce,ae]+"\\)$"),pe=new RegExp("^hsl\\("+[ae,ce,ce]+"\\)$"),ge=new RegExp("^hsla\\("+[ae,ce,ce,ae]+"\\)$"),_e={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function ye(){return this.rgb().formatHex()}function ve(){return this.rgb().formatRgb()}function be(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=fe.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?me(n):3===e?new Ee(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?xe(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?xe(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=se.exec(t))?new Ee(n[1],n[2],n[3],1):(n=le.exec(t))?new Ee(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=he.exec(t))?xe(n[1],n[2],n[3],n[4]):(n=de.exec(t))?xe(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=pe.exec(t))?Te(n[1],n[2]/100,n[3]/100,1):(n=ge.exec(t))?Te(n[1],n[2]/100,n[3]/100,n[4]):_e.hasOwnProperty(t)?me(_e[t]):"transparent"===t?new Ee(NaN,NaN,NaN,0):null}function me(t){return new Ee(t>>16&255,t>>8&255,255&t,1)}function xe(t,n,e,r){return r<=0&&(t=n=e=NaN),new Ee(t,n,e,r)}function we(t){return t instanceof oe||(t=be(t)),t?new Ee((t=t.rgb()).r,t.g,t.b,t.opacity):new Ee}function Me(t,n,e,r){return 1===arguments.length?we(t):new Ee(t,n,e,null==r?1:r)}function Ee(t,n,e,r){this.r=+t,this.g=+n,this.b=+e,this.opacity=+r}function Ce(){return"#"+Ne(this.r)+Ne(this.g)+Ne(this.b)}function Re(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Ne(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Te(t,n,e,r){return r<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new ke(t,n,e,r)}function Ae(t){if(t instanceof ke)return new ke(t.h,t.s,t.l,t.opacity);if(t instanceof oe||(t=be(t)),!t)return new ke;if(t instanceof ke)return t;var n=(t=t.rgb()).r/255,e=t.g/255,r=t.b/255,i=Math.min(n,e,r),o=Math.max(n,e,r),u=NaN,a=o-i,c=(o+i)/2;return a?(u=n===o?(e-r)/a+6*(e<r):e===o?(r-n)/a+2:(n-e)/a+4,a/=c<.5?o+i:2-o-i,u*=60):a=c>0&&c<1?0:u,new ke(u,a,c,t.opacity)}function Se(t,n,e,r){return 1===arguments.length?Ae(t):new ke(t,n,e,null==r?1:r)}function ke(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}function Ue(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Ye(t,n,e,r,i){var o=t*t,u=o*t;return((1-3*t+3*o-u)*n+(4-6*o+3*u)*e+(1+3*t+3*o-3*u)*r+u*i)/6}re(oe,be,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:ye,formatHex:ye,formatHsl:function(){return Ae(this).formatHsl()},formatRgb:ve,toString:ve}),re(Ee,Me,ie(oe,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Ee(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ee(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ce,formatHex:Ce,formatRgb:Re,toString:Re})),re(ke,Se,ie(oe,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new ke(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new ke(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,r=e+(e<.5?e:1-e)*n,i=2*e-r;return new Ee(Ue(t>=240?t-240:t+120,i,r),Ue(t,i,r),Ue(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var De=function(t){var n=t.length-1;return function(e){var r=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),i=t[r],o=t[r+1],u=r>0?t[r-1]:2*i-o,a=r<n-1?t[r+2]:2*o-i;return Ye((e-r/n)*n,u,i,o,a)}},Oe=function(t){var n=t.length;return function(e){var r=Math.floor(((e%=1)<0?++e:e)*n),i=t[(r+n-1)%n],o=t[r%n],u=t[(r+1)%n],a=t[(r+2)%n];return Ye((e-r/n)*n,i,o,u,a)}},Ie=t=>()=>t;function Pe(t,n){return function(e){return t+e*n}}function ze(t,n){var e=n-t;return e?Pe(t,e>180||e<-180?e-360*Math.round(e/360):e):Ie(isNaN(t)?n:t)}function Le(t){return 1==(t=+t)?Fe:function(n,e){return e-n?function(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(r){return Math.pow(t+r*n,e)}}(n,e,t):Ie(isNaN(n)?e:n)}}function Fe(t,n){var e=n-t;return e?Pe(t,e):Ie(isNaN(t)?n:t)}var Be=function t(n){var e=Le(n);function r(t,n){var r=e((t=Me(t)).r,(n=Me(n)).r),i=e(t.g,n.g),o=e(t.b,n.b),u=Fe(t.opacity,n.opacity);return function(n){return t.r=r(n),t.g=i(n),t.b=o(n),t.opacity=u(n),t+""}}return r.gamma=t,r}(1);function qe(t){return function(n){var e,r,i=n.length,o=new Array(i),u=new Array(i),a=new Array(i);for(e=0;e<i;++e)r=Me(n[e]),o[e]=r.r||0,u[e]=r.g||0,a[e]=r.b||0;return o=t(o),u=t(u),a=t(a),r.opacity=1,function(t){return r.r=o(t),r.g=u(t),r.b=a(t),r+""}}}var He=qe(De),je=qe(Oe),Ge=function(t,n){n||(n=[]);var e,r=t?Math.min(n.length,t.length):0,i=n.slice();return function(o){for(e=0;e<r;++e)i[e]=t[e]*(1-o)+n[e]*o;return i}};function Xe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}var Ve=function(t,n){return(Xe(n)?Ge:Ke)(t,n)};function Ke(t,n){var e,r=n?n.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),u=new Array(r);for(e=0;e<i;++e)o[e]=rr(t[e],n[e]);for(;e<r;++e)u[e]=n[e];return function(t){for(e=0;e<i;++e)u[e]=o[e](t);return u}}var We=function(t,n){var e=new Date;return t=+t,n=+n,function(r){return e.setTime(t*(1-r)+n*r),e}},Ze=function(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}},$e=function(t,n){var e,r={},i={};for(e in null!==t&&"object"==typeof t||(t={}),null!==n&&"object"==typeof n||(n={}),n)e in t?r[e]=rr(t[e],n[e]):i[e]=n[e];return function(t){for(e in r)i[e]=r[e](t);return i}},Qe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Je=new RegExp(Qe.source,"g");var tr,nr,er=function(t,n){var e,r,i,o=Qe.lastIndex=Je.lastIndex=0,u=-1,a=[],c=[];for(t+="",n+="";(e=Qe.exec(t))&&(r=Je.exec(n));)(i=r.index)>o&&(i=n.slice(o,i),a[u]?a[u]+=i:a[++u]=i),(e=e[0])===(r=r[0])?a[u]?a[u]+=r:a[++u]=r:(a[++u]=null,c.push({i:u,x:Ze(e,r)})),o=Je.lastIndex;return o<n.length&&(i=n.slice(o),a[u]?a[u]+=i:a[++u]=i),a.length<2?c[0]?function(t){return function(n){return t(n)+""}}(c[0].x):function(t){return function(){return t}}(n):(n=c.length,function(t){for(var e,r=0;r<n;++r)a[(e=c[r]).i]=e.x(t);return a.join("")})},rr=function(t,n){var e,r=typeof n;return null==n||"boolean"===r?Ie(n):("number"===r?Ze:"string"===r?(e=be(n))?(n=e,Be):er:n instanceof be?Be:n instanceof Date?We:Xe(n)?Ge:Array.isArray(n)?Ke:"function"!=typeof n.valueOf&&"function"!=typeof n.toString||isNaN(n)?$e:Ze)(t,n)},ir=function(t){let n;for(;n=t.sourceEvent;)t=n;return t},or=function(t,n){if(t=ir(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var r=e.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,[(r=r.matrixTransform(n.getScreenCTM().inverse())).x,r.y]}if(n.getBoundingClientRect){var i=n.getBoundingClientRect();return[t.clientX-i.left-n.clientLeft,t.clientY-i.top-n.clientTop]}}return[t.pageX,t.pageY]},ur=0,ar=0,cr=0,fr=0,sr=0,lr=0,hr="object"==typeof performance&&performance.now?performance:Date,dr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function pr(){return sr||(dr(gr),sr=hr.now()+lr)}function gr(){sr=0}function _r(){this._call=this._time=this._next=null}function yr(t,n,e){var r=new _r;return r.restart(t,n,e),r}function vr(){pr(),++ur;for(var t,n=tr;n;)(t=sr-n._time)>=0&&n._call.call(null,t),n=n._next;--ur}function br(){sr=(fr=hr.now())+lr,ur=ar=0;try{vr()}finally{ur=0,function(){var t,n,e=tr,r=1/0;for(;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:tr=n);nr=t,xr(r)}(),sr=0}}function mr(){var t=hr.now(),n=t-fr;n>1e3&&(lr-=n,fr=t)}function xr(t){ur||(ar&&(ar=clearTimeout(ar)),t-sr>24?(t<1/0&&(ar=setTimeout(br,t-hr.now()-lr)),cr&&(cr=clearInterval(cr))):(cr||(fr=hr.now(),cr=setInterval(mr,1e3)),ur=1,dr(br)))}_r.prototype=yr.prototype={constructor:_r,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?pr():+e)+(null==n?0:+n),this._next||nr===this||(nr?nr._next=this:tr=this,nr=this),this._call=t,this._time=e,xr()},stop:function(){this._call&&(this._call=null,this._time=1/0,xr())}};var wr=function(t,n,e){var r=new _r;return n=null==n?0:+n,r.restart(e=>{r.stop(),t(e+n)},n,e),r},Mr=It("start","end","cancel","interrupt"),Er=[],Cr=function(t,n,e,r,i,o){var u=t.__transition;if(u){if(e in u)return}else t.__transition={};!function(t,n,e){var r,i=t.__transition;function o(c){var f,s,l,h;if(1!==e.state)return a();for(f in i)if((h=i[f]).name===e.name){if(3===h.state)return wr(o);4===h.state?(h.state=6,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete i[f]):+f<n&&(h.state=6,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete i[f])}if(wr((function(){3===e.state&&(e.state=4,e.timer.restart(u,e.delay,e.time),u(c))})),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=3,r=new Array(l=e.tween.length),f=0,s=-1;f<l;++f)(h=e.tween[f].value.call(t,t.__data__,e.index,e.group))&&(r[++s]=h);r.length=s+1}}function u(n){for(var i=n<e.duration?e.ease.call(null,n/e.duration):(e.timer.restart(a),e.state=5,1),o=-1,u=r.length;++o<u;)r[o].call(t,i);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),a())}function a(){for(var r in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=yr((function(t){e.state=1,e.timer.restart(o,e.delay,e.time),e.delay<=t&&o(t-e.delay)}),0,e.time)}(t,e,{name:n,index:r,group:i,on:Mr,tween:Er,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:0})};function Rr(t,n){var e=Tr(t,n);if(e.state>0)throw new Error("too late; already scheduled");return e}function Nr(t,n){var e=Tr(t,n);if(e.state>3)throw new Error("too late; already running");return e}function Tr(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}var Ar,Sr=function(t,n){var e,r,i,o=t.__transition,u=!0;if(o){for(i in n=null==n?null:n+"",o)(e=o[i]).name===n?(r=e.state>2&&e.state<5,e.state=6,e.timer.stop(),e.on.call(r?"interrupt":"cancel",t,t.__data__,e.index,e.group),delete o[i]):u=!1;u&&delete t.__transition}},kr=180/Math.PI,Ur={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1},Yr=function(t,n,e,r,i,o){var u,a,c;return(u=Math.sqrt(t*t+n*n))&&(t/=u,n/=u),(c=t*e+n*r)&&(e-=t*c,r-=n*c),(a=Math.sqrt(e*e+r*r))&&(e/=a,r/=a,c/=a),t*r<n*e&&(t=-t,n=-n,c=-c,u=-u),{translateX:i,translateY:o,rotate:Math.atan2(n,t)*kr,skewX:Math.atan(c)*kr,scaleX:u,scaleY:a}};function Dr(t,n,e,r){function i(t){return t.length?t.pop()+" ":""}return function(o,u){var a=[],c=[];return o=t(o),u=t(u),function(t,r,i,o,u,a){if(t!==i||r!==o){var c=u.push("translate(",null,n,null,e);a.push({i:c-4,x:Ze(t,i)},{i:c-2,x:Ze(r,o)})}else(i||o)&&u.push("translate("+i+n+o+e)}(o.translateX,o.translateY,u.translateX,u.translateY,a,c),function(t,n,e,o){t!==n?(t-n>180?n+=360:n-t>180&&(t+=360),o.push({i:e.push(i(e)+"rotate(",null,r)-2,x:Ze(t,n)})):n&&e.push(i(e)+"rotate("+n+r)}(o.rotate,u.rotate,a,c),function(t,n,e,o){t!==n?o.push({i:e.push(i(e)+"skewX(",null,r)-2,x:Ze(t,n)}):n&&e.push(i(e)+"skewX("+n+r)}(o.skewX,u.skewX,a,c),function(t,n,e,r,o,u){if(t!==e||n!==r){var a=o.push(i(o)+"scale(",null,",",null,")");u.push({i:a-4,x:Ze(t,e)},{i:a-2,x:Ze(n,r)})}else 1===e&&1===r||o.push(i(o)+"scale("+e+","+r+")")}(o.scaleX,o.scaleY,u.scaleX,u.scaleY,a,c),o=u=null,function(t){for(var n,e=-1,r=c.length;++e<r;)a[(n=c[e]).i]=n.x(t);return a.join("")}}}var Or=Dr((function(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?Ur:Yr(n.a,n.b,n.c,n.d,n.e,n.f)}),"px, ","px)","deg)"),Ir=Dr((function(t){return null==t?Ur:(Ar||(Ar=document.createElementNS("http://www.w3.org/2000/svg","g")),Ar.setAttribute("transform",t),(t=Ar.transform.baseVal.consolidate())?(t=t.matrix,Yr(t.a,t.b,t.c,t.d,t.e,t.f)):Ur)}),", ",")",")");function Pr(t,n){var e,r;return function(){var i=Nr(this,t),o=i.tween;if(o!==e)for(var u=0,a=(r=e=o).length;u<a;++u)if(r[u].name===n){(r=r.slice()).splice(u,1);break}i.tween=r}}function zr(t,n,e){var r,i;if("function"!=typeof e)throw new Error;return function(){var o=Nr(this,t),u=o.tween;if(u!==r){i=(r=u).slice();for(var a={name:n,value:e},c=0,f=i.length;c<f;++c)if(i[c].name===n){i[c]=a;break}c===f&&i.push(a)}o.tween=i}}function Lr(t,n,e){var r=t._id;return t.each((function(){var t=Nr(this,r);(t.value||(t.value={}))[n]=e.apply(this,arguments)})),function(t){return Tr(t,r).value[n]}}var Fr=function(t,n){var e;return("number"==typeof n?Ze:n instanceof be?Be:(e=be(n))?(n=e,Be):er)(t,n)};function Br(t){return function(){this.removeAttribute(t)}}function qr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Hr(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttribute(t);return u===o?null:u===r?i:i=n(r=u,e)}}function jr(t,n,e){var r,i,o=e+"";return function(){var u=this.getAttributeNS(t.space,t.local);return u===o?null:u===r?i:i=n(r=u,e)}}function Gr(t,n,e){var r,i,o;return function(){var u,a,c=e(this);if(null!=c)return(u=this.getAttribute(t))===(a=c+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,c));this.removeAttribute(t)}}function Xr(t,n,e){var r,i,o;return function(){var u,a,c=e(this);if(null!=c)return(u=this.getAttributeNS(t.space,t.local))===(a=c+"")?null:u===r&&a===i?o:(i=a,o=n(r=u,c));this.removeAttributeNS(t.space,t.local)}}function Vr(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}function Kr(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}function Wr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Kr(t,i)),e}return i._value=n,i}function Zr(t,n){var e,r;function i(){var i=n.apply(this,arguments);return i!==r&&(e=(r=i)&&Vr(t,i)),e}return i._value=n,i}function $r(t,n){return function(){Rr(this,t).delay=+n.apply(this,arguments)}}function Qr(t,n){return n=+n,function(){Rr(this,t).delay=n}}function Jr(t,n){return function(){Nr(this,t).duration=+n.apply(this,arguments)}}function ti(t,n){return n=+n,function(){Nr(this,t).duration=n}}function ni(t,n){if("function"!=typeof n)throw new Error;return function(){Nr(this,t).ease=n}}function ei(t,n,e){var r,i,o=function(t){return(t+"").trim().split(/^|\s+/).every((function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||"start"===t}))}(n)?Rr:Nr;return function(){var u=o(this,t),a=u.on;a!==r&&(i=(r=a).copy()).on(n,e),u.on=i}}var ri=$n.prototype.constructor;function ii(t){return function(){this.style.removeProperty(t)}}function oi(t,n,e){return function(r){this.style.setProperty(t,n.call(this,r),e)}}function ui(t,n,e){var r,i;function o(){var o=n.apply(this,arguments);return o!==i&&(r=(i=o)&&oi(t,o,e)),r}return o._value=n,o}function ai(t){return function(n){this.textContent=t.call(this,n)}}function ci(t){var n,e;function r(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&ai(r)),n}return r._value=t,r}var fi=0;function si(t,n,e,r){this._groups=t,this._parents=n,this._name=e,this._id=r}function li(t){return $n().transition(t)}function hi(){return++fi}var di=$n.prototype;function pi(t){return t*t*t}function gi(t){return--t*t*t+1}function _i(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}si.prototype=li.prototype={constructor:si,select:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=zt(t));for(var r=this._groups,i=r.length,o=new Array(i),u=0;u<i;++u)for(var a,c,f=r[u],s=f.length,l=o[u]=new Array(s),h=0;h<s;++h)(a=f[h])&&(c=t.call(a,a.__data__,h,f))&&("__data__"in a&&(c.__data__=a.__data__),l[h]=c,Cr(l[h],n,e,h,l,Tr(a,e)));return new si(o,this._parents,n,e)},selectAll:function(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Bt(t));for(var r=this._groups,i=r.length,o=[],u=[],a=0;a<i;++a)for(var c,f=r[a],s=f.length,l=0;l<s;++l)if(c=f[l]){for(var h,d=t.call(c,c.__data__,l,f),p=Tr(c,e),g=0,_=d.length;g<_;++g)(h=d[g])&&Cr(h,n,e,g,d,p);o.push(d),u.push(c)}return new si(o,u,n,e)},filter:function(t){"function"!=typeof t&&(t=qt(t));for(var n=this._groups,e=n.length,r=new Array(e),i=0;i<e;++i)for(var o,u=n[i],a=u.length,c=r[i]=[],f=0;f<a;++f)(o=u[f])&&t.call(o,o.__data__,f,u)&&c.push(o);return new si(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,r=n.length,i=e.length,o=Math.min(r,i),u=new Array(r),a=0;a<o;++a)for(var c,f=n[a],s=e[a],l=f.length,h=u[a]=new Array(l),d=0;d<l;++d)(c=f[d]||s[d])&&(h[d]=c);for(;a<r;++a)u[a]=n[a];return new si(u,this._parents,this._name,this._id)},selection:function(){return new ri(this._groups,this._parents)},transition:function(){for(var t=this._name,n=this._id,e=hi(),r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,f=0;f<c;++f)if(u=a[f]){var s=Tr(u,n);Cr(u,t,e,f,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new si(r,this._parents,t,e)},call:di.call,nodes:di.nodes,node:di.node,size:di.size,empty:di.empty,each:di.each,on:function(t,n){var e=this._id;return arguments.length<2?Tr(this.node(),e).on.on(t):this.each(ei(e,t,n))},attr:function(t,n){var e=rn(t),r="transform"===e?Ir:Fr;return this.attrTween(t,"function"==typeof n?(e.local?Xr:Gr)(e,r,Lr(this,"attr."+t,n)):null==n?(e.local?qr:Br)(e):(e.local?jr:Hr)(e,r,n))},attrTween:function(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var r=rn(t);return this.tween(e,(r.local?Wr:Zr)(r,n))},style:function(t,n,e){var r="transform"==(t+="")?Or:Fr;return null==n?this.styleTween(t,function(t,n){var e,r,i;return function(){var o=gn(this,t),u=(this.style.removeProperty(t),gn(this,t));return o===u?null:o===e&&u===r?i:i=n(e=o,r=u)}}(t,r)).on("end.style."+t,ii(t)):"function"==typeof n?this.styleTween(t,function(t,n,e){var r,i,o;return function(){var u=gn(this,t),a=e(this),c=a+"";return null==a&&(this.style.removeProperty(t),c=a=gn(this,t)),u===c?null:u===r&&c===i?o:(i=c,o=n(r=u,a))}}(t,r,Lr(this,"style."+t,n))).each(function(t,n){var e,r,i,o,u="style."+n,a="end."+u;return function(){var c=Nr(this,t),f=c.on,s=null==c.value[u]?o||(o=ii(n)):void 0;f===e&&i===s||(r=(e=f).copy()).on(a,i=s),c.on=r}}(this._id,t)):this.styleTween(t,function(t,n,e){var r,i,o=e+"";return function(){var u=gn(this,t);return u===o?null:u===r?i:i=n(r=u,e)}}(t,r,n),e).on("end.style."+t,null)},styleTween:function(t,n,e){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==n)return this.tween(r,null);if("function"!=typeof n)throw new Error;return this.tween(r,ui(t,n,null==e?"":e))},text:function(t){return this.tween("text","function"==typeof t?function(t){return function(){var n=t(this);this.textContent=null==n?"":n}}(Lr(this,"text",t)):function(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,ci(t))},remove:function(){return this.on("end.remove",(t=this._id,function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}));var t},tween:function(t,n){var e=this._id;if(t+="",arguments.length<2){for(var r,i=Tr(this.node(),e).tween,o=0,u=i.length;o<u;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==n?Pr:zr)(e,t,n))},delay:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?$r:Qr)(n,t)):Tr(this.node(),n).delay},duration:function(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?Jr:ti)(n,t)):Tr(this.node(),n).duration},ease:function(t){var n=this._id;return arguments.length?this.each(ni(n,t)):Tr(this.node(),n).ease},easeVarying:function(t){if("function"!=typeof t)throw new Error;return this.each(function(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;Nr(this,t).ease=e}}(this._id,t))},end:function(){var t,n,e=this,r=e._id,i=e.size();return new Promise((function(o,u){var a={value:u},c={value:function(){0==--i&&o()}};e.each((function(){var e=Nr(this,r),i=e.on;i!==t&&((n=(t=i).copy())._.cancel.push(a),n._.interrupt.push(a),n._.end.push(c)),e.on=n})),0===i&&o()}))},[Symbol.iterator]:di[Symbol.iterator]};var yi={time:null,delay:0,duration:250,ease:_i};function vi(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}$n.prototype.interrupt=function(t){return this.each((function(){Sr(this,t)}))},$n.prototype.transition=function(t){var n,e;t instanceof si?(n=t._id,t=t._name):(n=hi(),(e=yi).time=pr(),t=null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var u,a=r[o],c=a.length,f=0;f<c;++f)(u=a[f])&&Cr(u,t,n,f,a,e||vi(u,n));return new si(r,this._parents,t,n)};var bi=[null],mi=function(t,n){var e,r,i=t.__transition;if(i)for(r in n=null==n?null:n+"",i)if((e=i[r]).state>1&&e.name===n)return new si([[t]],bi,n,+r);return null},xi=t=>()=>t;function wi(t,{sourceEvent:n,target:e,selection:r,mode:i,dispatch:o}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},selection:{value:r,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:o}})}function Mi(t){t.stopImmediatePropagation()}var Ei=function(t){t.preventDefault(),t.stopImmediatePropagation()},Ci={name:"drag"},Ri={name:"space"},Ni={name:"handle"},Ti={name:"center"};const{abs:Ai,max:Si,min:ki}=Math;function Ui(t){return[+t[0],+t[1]]}function Yi(t){return[Ui(t[0]),Ui(t[1])]}var Di={name:"x",handles:["w","e"].map(qi),input:function(t,n){return null==t?null:[[+t[0],n[0][1]],[+t[1],n[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},Oi={name:"y",handles:["n","s"].map(qi),input:function(t,n){return null==t?null:[[n[0][0],+t[0]],[n[1][0],+t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},Ii={name:"xy",handles:["n","w","e","s","nw","ne","sw","se"].map(qi),input:function(t){return null==t?null:Yi(t)},output:function(t){return t}},Pi={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},zi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Li={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Fi={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Bi={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function qi(t){return{type:t}}function Hi(t){return!t.ctrlKey&&!t.button}function ji(){var t=this.ownerSVGElement||this;return t.hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Gi(){return navigator.maxTouchPoints||"ontouchstart"in this}function Xi(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Vi(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ki(t){var n=t.__brush;return n?n.dim.output(n.selection):null}function Wi(){return Qi(Di)}function Zi(){return Qi(Oi)}var $i=function(){return Qi(Ii)};function Qi(t){var n,e=ji,r=Hi,i=Gi,o=!0,u=It("start","brush","end"),a=6;function c(n){var e=n.property("__brush",g).selectAll(".overlay").data([qi("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Pi.overlay).merge(e).each((function(){var t=Xi(this).extent;Qn(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])})),n.selectAll(".selection").data([qi("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Pi.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var r=n.selectAll(".handle").data(t.handles,(function(t){return t.type}));r.exit().remove(),r.enter().append("rect").attr("class",(function(t){return"handle handle--"+t.type})).attr("cursor",(function(t){return Pi[t.type]})),n.each(f).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",h).filter(i).on("touchstart.brush",h).on("touchmove.brush",d).on("touchend.brush touchcancel.brush",p).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function f(){var t=Qn(this),n=Xi(this).selection;n?(t.selectAll(".selection").style("display",null).attr("x",n[0][0]).attr("y",n[0][1]).attr("width",n[1][0]-n[0][0]).attr("height",n[1][1]-n[0][1]),t.selectAll(".handle").style("display",null).attr("x",(function(t){return"e"===t.type[t.type.length-1]?n[1][0]-a/2:n[0][0]-a/2})).attr("y",(function(t){return"s"===t.type[0]?n[1][1]-a/2:n[0][1]-a/2})).attr("width",(function(t){return"n"===t.type||"s"===t.type?n[1][0]-n[0][0]+a:a})).attr("height",(function(t){return"e"===t.type||"w"===t.type?n[1][1]-n[0][1]+a:a}))):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function s(t,n,e){var r=t.__brush.emitter;return!r||e&&r.clean?new l(t,n,e):r}function l(t,n,e){this.that=t,this.args=n,this.state=t.__brush,this.active=0,this.clean=e}function h(e){if((!n||e.touches)&&r.apply(this,arguments)){var i,u,a,c,l,h,d,p,g,_,y,v=this,b=e.target.__data__.type,m="selection"===(o&&e.metaKey?b="overlay":b)?Ci:o&&e.altKey?Ti:Ni,x=t===Oi?null:Fi[b],w=t===Di?null:Bi[b],M=Xi(v),E=M.extent,C=M.selection,R=E[0][0],N=E[0][1],T=E[1][0],A=E[1][1],S=0,k=0,U=x&&w&&o&&e.shiftKey,Y=Array.from(e.touches||[e],t=>{const n=t.identifier;return(t=or(t,v)).point0=t.slice(),t.identifier=n,t});if("overlay"===b){C&&(g=!0);const n=[Y[0],Y[1]||Y[0]];M.selection=C=[[i=t===Oi?R:ki(n[0][0],n[1][0]),a=t===Di?N:ki(n[0][1],n[1][1])],[l=t===Oi?T:Si(n[0][0],n[1][0]),d=t===Di?A:Si(n[0][1],n[1][1])]],Y.length>1&&L()}else i=C[0][0],a=C[0][1],l=C[1][0],d=C[1][1];u=i,c=a,h=l,p=d;var D=Qn(v).attr("pointer-events","none"),O=D.selectAll(".overlay").attr("cursor",Pi[b]);Sr(v);var I=s(v,arguments,!0).beforestart();if(e.touches)I.moved=z,I.ended=F;else{var P=Qn(e.view).on("mousemove.brush",z,!0).on("mouseup.brush",F,!0);o&&P.on("keydown.brush",B,!0).on("keyup.brush",q,!0),ne(e.view)}f.call(v),I.start(e,m.name)}function z(t){for(const n of t.changedTouches||[t])for(const t of Y)t.identifier===n.identifier&&(t.cur=or(n,v));if(U&&!_&&!y&&1===Y.length){const t=Y[0];Ai(t.cur[0]-t[0])>Ai(t.cur[1]-t[1])?y=!0:_=!0}for(const t of Y)t.cur&&(t[0]=t.cur[0],t[1]=t.cur[1]);g=!0,Ei(t),L(t)}function L(t){const n=Y[0],e=n.point0;var r;switch(S=n[0]-e[0],k=n[1]-e[1],m){case Ri:case Ci:x&&(S=Si(R-i,ki(T-l,S)),u=i+S,h=l+S),w&&(k=Si(N-a,ki(A-d,k)),c=a+k,p=d+k);break;case Ni:Y[1]?(x&&(u=Si(R,ki(T,Y[0][0])),h=Si(R,ki(T,Y[1][0])),x=1),w&&(c=Si(N,ki(A,Y[0][1])),p=Si(N,ki(A,Y[1][1])),w=1)):(x<0?(S=Si(R-i,ki(T-i,S)),u=i+S,h=l):x>0&&(S=Si(R-l,ki(T-l,S)),u=i,h=l+S),w<0?(k=Si(N-a,ki(A-a,k)),c=a+k,p=d):w>0&&(k=Si(N-d,ki(A-d,k)),c=a,p=d+k));break;case Ti:x&&(u=Si(R,ki(T,i-S*x)),h=Si(R,ki(T,l+S*x))),w&&(c=Si(N,ki(A,a-k*w)),p=Si(N,ki(A,d+k*w)))}h<u&&(x*=-1,r=i,i=l,l=r,r=u,u=h,h=r,b in zi&&O.attr("cursor",Pi[b=zi[b]])),p<c&&(w*=-1,r=a,a=d,d=r,r=c,c=p,p=r,b in Li&&O.attr("cursor",Pi[b=Li[b]])),M.selection&&(C=M.selection),_&&(u=C[0][0],h=C[1][0]),y&&(c=C[0][1],p=C[1][1]),C[0][0]===u&&C[0][1]===c&&C[1][0]===h&&C[1][1]===p||(M.selection=[[u,c],[h,p]],f.call(v),I.brush(t,m.name))}function F(t){if(Mi(t),t.touches){if(t.touches.length)return;n&&clearTimeout(n),n=setTimeout((function(){n=null}),500)}else ee(t.view,g),P.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),O.attr("cursor",Pi.overlay),M.selection&&(C=M.selection),Vi(C)&&(M.selection=null,f.call(v)),I.end(t,m.name)}function B(t){switch(t.keyCode){case 16:U=x&&w;break;case 18:m===Ni&&(x&&(l=h-S*x,i=u+S*x),w&&(d=p-k*w,a=c+k*w),m=Ti,L());break;case 32:m!==Ni&&m!==Ti||(x<0?l=h-S:x>0&&(i=u-S),w<0?d=p-k:w>0&&(a=c-k),m=Ri,O.attr("cursor",Pi.selection),L());break;default:return}Ei(t)}function q(t){switch(t.keyCode){case 16:U&&(_=y=U=!1,L());break;case 18:m===Ti&&(x<0?l=h:x>0&&(i=u),w<0?d=p:w>0&&(a=c),m=Ni,L());break;case 32:m===Ri&&(t.altKey?(x&&(l=h-S*x,i=u+S*x),w&&(d=p-k*w,a=c+k*w),m=Ti):(x<0?l=h:x>0&&(i=u),w<0?d=p:w>0&&(a=c),m=Ni),O.attr("cursor",Pi[b]),L());break;default:return}Ei(t)}}function d(t){s(this,arguments).moved(t)}function p(t){s(this,arguments).ended(t)}function g(){var n=this.__brush||{selection:null};return n.extent=Yi(e.apply(this,arguments)),n.dim=t,n}return c.move=function(n,e){n.tween?n.on("start.brush",(function(t){s(this,arguments).beforestart().start(t)})).on("interrupt.brush end.brush",(function(t){s(this,arguments).end(t)})).tween("brush",(function(){var n=this,r=n.__brush,i=s(n,arguments),o=r.selection,u=t.input("function"==typeof e?e.apply(this,arguments):e,r.extent),a=rr(o,u);function c(t){r.selection=1===t&&null===u?null:a(t),f.call(n),i.brush()}return null!==o&&null!==u?c:c(1)})):n.each((function(){var n=this,r=arguments,i=n.__brush,o=t.input("function"==typeof e?e.apply(n,r):e,i.extent),u=s(n,r).beforestart();Sr(n),i.selection=null===o?null:o,f.call(n),u.start().brush().end()}))},c.clear=function(t){c.move(t,null)},l.prototype={beforestart:function(){return 1==++this.active&&(this.state.emitter=this,this.starting=!0),this},start:function(t,n){return this.starting?(this.starting=!1,this.emit("start",t,n)):this.emit("brush",t),this},brush:function(t,n){return this.emit("brush",t,n),this},end:function(t,n){return 0==--this.active&&(delete this.state.emitter,this.emit("end",t,n)),this},emit:function(n,e,r){var i=Qn(this.that).datum();u.call(n,this.that,new wi(n,{sourceEvent:e,target:c,selection:t.output(this.state.selection),mode:r,dispatch:u}),i)}},c.extent=function(t){return arguments.length?(e="function"==typeof t?t:xi(Yi(t)),c):e},c.filter=function(t){return arguments.length?(r="function"==typeof t?t:xi(!!t),c):r},c.touchable=function(t){return arguments.length?(i="function"==typeof t?t:xi(!!t),c):i},c.handleSize=function(t){return arguments.length?(a=+t,c):a},c.keyModifiers=function(t){return arguments.length?(o=!!t,c):o},c.on=function(){var t=u.on.apply(u,arguments);return t===u?c:t},c}var Ji=Math.abs,to=Math.cos,no=Math.sin,eo=Math.PI,ro=eo/2,io=2*eo,oo=Math.max;function uo(t,n){return Array.from({length:n-t},(n,e)=>t+e)}function ao(t){return function(n,e){return t(n.source.value+n.target.value,e.source.value+e.target.value)}}var co=function(){return lo(!1,!1)};function fo(){return lo(!1,!0)}function so(){return lo(!0,!1)}function lo(t,n){var e=0,r=null,i=null,o=null;function u(u){var a,c=u.length,f=new Array(c),s=uo(0,c),l=new Array(c*c),h=new Array(c),d=0;u=Float64Array.from({length:c*c},n?(t,n)=>u[n%c][n/c|0]:(t,n)=>u[n/c|0][n%c]);for(let n=0;n<c;++n){let e=0;for(let r=0;r<c;++r)e+=u[n*c+r]+t*u[r*c+n];d+=f[n]=e}a=(d=oo(0,io-e*c)/d)?e:io/c;{let n=0;r&&s.sort((t,n)=>r(f[t],f[n]));for(const e of s){const r=n;if(t){const t=uo(1+~c,c).filter(t=>t<0?u[~t*c+e]:u[e*c+t]);i&&t.sort((t,n)=>i(t<0?-u[~t*c+e]:u[e*c+t],n<0?-u[~n*c+e]:u[e*c+n]));for(const r of t)if(r<0){(l[~r*c+e]||(l[~r*c+e]={source:null,target:null})).target={index:e,startAngle:n,endAngle:n+=u[~r*c+e]*d,value:u[~r*c+e]}}else{(l[e*c+r]||(l[e*c+r]={source:null,target:null})).source={index:e,startAngle:n,endAngle:n+=u[e*c+r]*d,value:u[e*c+r]}}h[e]={index:e,startAngle:r,endAngle:n,value:f[e]}}else{const t=uo(0,c).filter(t=>u[e*c+t]||u[t*c+e]);i&&t.sort((t,n)=>i(u[e*c+t],u[e*c+n]));for(const r of t){let t;if(e<r?(t=l[e*c+r]||(l[e*c+r]={source:null,target:null}),t.source={index:e,startAngle:n,endAngle:n+=u[e*c+r]*d,value:u[e*c+r]}):(t=l[r*c+e]||(l[r*c+e]={source:null,target:null}),t.target={index:e,startAngle:n,endAngle:n+=u[e*c+r]*d,value:u[e*c+r]},e===r&&(t.source=t.target)),t.source&&t.target&&t.source.value<t.target.value){const n=t.source;t.source=t.target,t.target=n}}h[e]={index:e,startAngle:r,endAngle:n,value:f[e]}}n+=a}}return(l=Object.values(l)).groups=h,o?l.sort(o):l}return u.padAngle=function(t){return arguments.length?(e=oo(0,t),u):e},u.sortGroups=function(t){return arguments.length?(r=t,u):r},u.sortSubgroups=function(t){return arguments.length?(i=t,u):i},u.sortChords=function(t){return arguments.length?(null==t?o=null:(o=ao(t))._=t,u):o&&o._},u}const ho=Math.PI,po=2*ho,go=po-1e-6;function _o(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function yo(){return new _o}_o.prototype=yo.prototype={constructor:_o,moveTo:function(t,n){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,n){this._+="L"+(this._x1=+t)+","+(this._y1=+n)},quadraticCurveTo:function(t,n,e,r){this._+="Q"+ +t+","+ +n+","+(this._x1=+e)+","+(this._y1=+r)},bezierCurveTo:function(t,n,e,r,i,o){this._+="C"+ +t+","+ +n+","+ +e+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,n,e,r,i){t=+t,n=+n,e=+e,r=+r,i=+i;var o=this._x1,u=this._y1,a=e-t,c=r-n,f=o-t,s=u-n,l=f*f+s*s;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=n);else if(l>1e-6)if(Math.abs(s*a-c*f)>1e-6&&i){var h=e-o,d=r-u,p=a*a+c*c,g=h*h+d*d,_=Math.sqrt(p),y=Math.sqrt(l),v=i*Math.tan((ho-Math.acos((p+l-g)/(2*_*y)))/2),b=v/y,m=v/_;Math.abs(b-1)>1e-6&&(this._+="L"+(t+b*f)+","+(n+b*s)),this._+="A"+i+","+i+",0,0,"+ +(s*h>f*d)+","+(this._x1=t+m*a)+","+(this._y1=n+m*c)}else this._+="L"+(this._x1=t)+","+(this._y1=n);else;},arc:function(t,n,e,r,i,o){t=+t,n=+n,o=!!o;var u=(e=+e)*Math.cos(r),a=e*Math.sin(r),c=t+u,f=n+a,s=1^o,l=o?r-i:i-r;if(e<0)throw new Error("negative radius: "+e);null===this._x1?this._+="M"+c+","+f:(Math.abs(this._x1-c)>1e-6||Math.abs(this._y1-f)>1e-6)&&(this._+="L"+c+","+f),e&&(l<0&&(l=l%po+po),l>go?this._+="A"+e+","+e+",0,1,"+s+","+(t-u)+","+(n-a)+"A"+e+","+e+",0,1,"+s+","+(this._x1=c)+","+(this._y1=f):l>1e-6&&(this._+="A"+e+","+e+",0,"+ +(l>=ho)+","+s+","+(this._x1=t+e*Math.cos(i))+","+(this._y1=n+e*Math.sin(i))))},rect:function(t,n,e,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+n)+"h"+ +e+"v"+ +r+"h"+-e+"Z"},toString:function(){return this._}};var vo=yo,bo=Array.prototype.slice,mo=function(t){return function(){return t}};function xo(t){return t.source}function wo(t){return t.target}function Mo(t){return t.radius}function Eo(t){return t.startAngle}function Co(t){return t.endAngle}function Ro(){return 0}function No(){return 10}function To(t){var n=xo,e=wo,r=Mo,i=Mo,o=Eo,u=Co,a=Ro,c=null;function f(){var f,s=n.apply(this,arguments),l=e.apply(this,arguments),h=a.apply(this,arguments)/2,d=bo.call(arguments),p=+r.apply(this,(d[0]=s,d)),g=o.apply(this,d)-ro,_=u.apply(this,d)-ro,y=+i.apply(this,(d[0]=l,d)),v=o.apply(this,d)-ro,b=u.apply(this,d)-ro;if(c||(c=f=vo()),h>1e-12&&(Ji(_-g)>2*h+1e-12?_>g?(g+=h,_-=h):(g-=h,_+=h):g=_=(g+_)/2,Ji(b-v)>2*h+1e-12?b>v?(v+=h,b-=h):(v-=h,b+=h):v=b=(v+b)/2),c.moveTo(p*to(g),p*no(g)),c.arc(0,0,p,g,_),g!==v||_!==b)if(t){var m=+t.apply(this,arguments),x=y-m,w=(v+b)/2;c.quadraticCurveTo(0,0,x*to(v),x*no(v)),c.lineTo(y*to(w),y*no(w)),c.lineTo(x*to(b),x*no(b))}else c.quadraticCurveTo(0,0,y*to(v),y*no(v)),c.arc(0,0,y,v,b);if(c.quadraticCurveTo(0,0,p*to(g),p*no(g)),c.closePath(),f)return c=null,f+""||null}return t&&(f.headRadius=function(n){return arguments.length?(t="function"==typeof n?n:mo(+n),f):t}),f.radius=function(t){return arguments.length?(r=i="function"==typeof t?t:mo(+t),f):r},f.sourceRadius=function(t){return arguments.length?(r="function"==typeof t?t:mo(+t),f):r},f.targetRadius=function(t){return arguments.length?(i="function"==typeof t?t:mo(+t),f):i},f.startAngle=function(t){return arguments.length?(o="function"==typeof t?t:mo(+t),f):o},f.endAngle=function(t){return arguments.length?(u="function"==typeof t?t:mo(+t),f):u},f.padAngle=function(t){return arguments.length?(a="function"==typeof t?t:mo(+t),f):a},f.source=function(t){return arguments.length?(n=t,f):n},f.target=function(t){return arguments.length?(e=t,f):e},f.context=function(t){return arguments.length?(c=null==t?null:t,f):c},f}var Ao=function(){return To()};function So(){return To(No)}const ko=Math.PI/180,Uo=180/Math.PI;function Yo(t){if(t instanceof Io)return new Io(t.l,t.a,t.b,t.opacity);if(t instanceof jo)return Go(t);t instanceof Ee||(t=we(t));var n,e,r=Fo(t.r),i=Fo(t.g),o=Fo(t.b),u=Po((.2225045*r+.7168786*i+.0606169*o)/1);return r===i&&i===o?n=e=u:(n=Po((.4360747*r+.3850649*i+.1430804*o)/.96422),e=Po((.0139322*r+.0971045*i+.7141733*o)/.82521)),new Io(116*u-16,500*(n-u),200*(u-e),t.opacity)}function Do(t,n){return new Io(t,0,0,null==n?1:n)}function Oo(t,n,e,r){return 1===arguments.length?Yo(t):new Io(t,n,e,null==r?1:r)}function Io(t,n,e,r){this.l=+t,this.a=+n,this.b=+e,this.opacity=+r}function Po(t){return t>6/29*(6/29)*(6/29)?Math.pow(t,1/3):t/(6/29*3*(6/29))+4/29}function zo(t){return t>6/29?t*t*t:6/29*3*(6/29)*(t-4/29)}function Lo(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Fo(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Bo(t){if(t instanceof jo)return new jo(t.h,t.c,t.l,t.opacity);if(t instanceof Io||(t=Yo(t)),0===t.a&&0===t.b)return new jo(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var n=Math.atan2(t.b,t.a)*Uo;return new jo(n<0?n+360:n,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function qo(t,n,e,r){return 1===arguments.length?Bo(t):new jo(e,n,t,null==r?1:r)}function Ho(t,n,e,r){return 1===arguments.length?Bo(t):new jo(t,n,e,null==r?1:r)}function jo(t,n,e,r){this.h=+t,this.c=+n,this.l=+e,this.opacity=+r}function Go(t){if(isNaN(t.h))return new Io(t.l,0,0,t.opacity);var n=t.h*ko;return new Io(t.l,Math.cos(n)*t.c,Math.sin(n)*t.c,t.opacity)}re(Io,Oo,ie(oe,{brighter:function(t){return new Io(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Io(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,n=isNaN(this.a)?t:t+this.a/500,e=isNaN(this.b)?t:t-this.b/200;return new Ee(Lo(3.1338561*(n=.96422*zo(n))-1.6168667*(t=1*zo(t))-.4906146*(e=.82521*zo(e))),Lo(-.9787684*n+1.9161415*t+.033454*e),Lo(.0719453*n-.2289914*t+1.4052427*e),this.opacity)}})),re(jo,Ho,ie(oe,{brighter:function(t){return new jo(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new jo(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Go(this).rgb()}}));var Xo=-.29227,Vo=-1.7884503806,Ko=3.5172982438,Wo=-.6557636667999999;function Zo(t){if(t instanceof Qo)return new Qo(t.h,t.s,t.l,t.opacity);t instanceof Ee||(t=we(t));var n=t.r/255,e=t.g/255,r=t.b/255,i=(Wo*r+Vo*n-Ko*e)/(Wo+Vo-Ko),o=r-i,u=(1.97294*(e-i)-Xo*o)/-.90649,a=Math.sqrt(u*u+o*o)/(1.97294*i*(1-i)),c=a?Math.atan2(u,o)*Uo-120:NaN;return new Qo(c<0?c+360:c,a,i,t.opacity)}function $o(t,n,e,r){return 1===arguments.length?Zo(t):new Qo(t,n,e,null==r?1:r)}function Qo(t,n,e,r){this.h=+t,this.s=+n,this.l=+e,this.opacity=+r}re(Qo,$o,ie(oe,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new Qo(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Qo(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*ko,n=+this.l,e=isNaN(this.s)?0:this.s*n*(1-n),r=Math.cos(t),i=Math.sin(t);return new Ee(255*(n+e*(-.14861*r+1.78277*i)),255*(n+e*(Xo*r+-.90649*i)),255*(n+e*(1.97294*r)),this.opacity)}}));var Jo=Array.prototype.slice,tu=function(t,n){return t-n},nu=t=>()=>t,eu=function(t,n){for(var e,r=-1,i=n.length;++r<i;)if(e=ru(t,n[r]))return e;return 0};function ru(t,n){for(var e=n[0],r=n[1],i=-1,o=0,u=t.length,a=u-1;o<u;a=o++){var c=t[o],f=c[0],s=c[1],l=t[a],h=l[0],d=l[1];if(iu(c,l,n))return 0;s>r!=d>r&&e<(h-f)*(r-s)/(d-s)+f&&(i=-i)}return i}function iu(t,n,e){var r,i,o,u;return function(t,n,e){return(n[0]-t[0])*(e[1]-t[1])==(e[0]-t[0])*(n[1]-t[1])}(t,n,e)&&(i=t[r=+(t[0]===n[0])],o=e[r],u=n[r],i<=o&&o<=u||u<=o&&o<=i)}var ou=function(){},uu=[[],[[[1,1.5],[.5,1]]],[[[1.5,1],[1,1.5]]],[[[1.5,1],[.5,1]]],[[[1,.5],[1.5,1]]],[[[1,1.5],[.5,1]],[[1,.5],[1.5,1]]],[[[1,.5],[1,1.5]]],[[[1,.5],[.5,1]]],[[[.5,1],[1,.5]]],[[[1,1.5],[1,.5]]],[[[.5,1],[1,.5]],[[1.5,1],[1,1.5]]],[[[1.5,1],[1,.5]]],[[[.5,1],[1.5,1]]],[[[1,1.5],[1.5,1]]],[[[.5,1],[1,1.5]]],[]],au=function(){var t=1,n=1,e=q,r=a;function i(t){var n=e(t);if(Array.isArray(n))n=n.slice().sort(tu);else{var r=x(t),i=r[0],u=r[1];n=B(i,u,n),n=ut(Math.floor(i/n)*n,Math.floor(u/n)*n,n)}return n.map((function(n){return o(t,n)}))}function o(e,i){var o=[],a=[];return function(e,r,i){var o,a,c,f,s,l,h=new Array,d=new Array;o=a=-1,f=e[0]>=r,uu[f<<1].forEach(p);for(;++o<t-1;)c=f,f=e[o+1]>=r,uu[c|f<<1].forEach(p);uu[f<<0].forEach(p);for(;++a<n-1;){for(o=-1,f=e[a*t+t]>=r,s=e[a*t]>=r,uu[f<<1|s<<2].forEach(p);++o<t-1;)c=f,f=e[a*t+t+o+1]>=r,l=s,s=e[a*t+o+1]>=r,uu[c|f<<1|s<<2|l<<3].forEach(p);uu[f|s<<3].forEach(p)}o=-1,s=e[a*t]>=r,uu[s<<2].forEach(p);for(;++o<t-1;)l=s,s=e[a*t+o+1]>=r,uu[s<<2|l<<3].forEach(p);function p(t){var n,e,r=[t[0][0]+o,t[0][1]+a],c=[t[1][0]+o,t[1][1]+a],f=u(r),s=u(c);(n=d[f])?(e=h[s])?(delete d[n.end],delete h[e.start],n===e?(n.ring.push(c),i(n.ring)):h[n.start]=d[e.end]={start:n.start,end:e.end,ring:n.ring.concat(e.ring)}):(delete d[n.end],n.ring.push(c),d[n.end=s]=n):(n=h[s])?(e=d[f])?(delete h[n.start],delete d[e.end],n===e?(n.ring.push(c),i(n.ring)):h[e.start]=d[n.end]={start:e.start,end:n.end,ring:e.ring.concat(n.ring)}):(delete h[n.start],n.ring.unshift(r),h[n.start=f]=n):h[f]=d[s]={start:f,end:s,ring:[r,c]}}uu[s<<3].forEach(p)}(e,i,(function(t){r(t,e,i),function(t){for(var n=0,e=t.length,r=t[e-1][1]*t[0][0]-t[e-1][0]*t[0][1];++n<e;)r+=t[n-1][1]*t[n][0]-t[n-1][0]*t[n][1];return r}(t)>0?o.push([t]):a.push(t)})),a.forEach((function(t){for(var n,e=0,r=o.length;e<r;++e)if(-1!==eu((n=o[e])[0],t))return void n.push(t)})),{type:"MultiPolygon",value:i,coordinates:o}}function u(n){return 2*n[0]+n[1]*(t+1)*4}function a(e,r,i){e.forEach((function(e){var o,u=e[0],a=e[1],c=0|u,f=0|a,s=r[f*t+c];u>0&&u<t&&c===u&&(o=r[f*t+c-1],e[0]=u+(i-o)/(s-o)-.5),a>0&&a<n&&f===a&&(o=r[(f-1)*t+c],e[1]=a+(i-o)/(s-o)-.5)}))}return i.contour=o,i.size=function(e){if(!arguments.length)return[t,n];var r=Math.floor(e[0]),o=Math.floor(e[1]);if(!(r>=0&&o>=0))throw new Error("invalid size");return t=r,n=o,i},i.thresholds=function(t){return arguments.length?(e="function"==typeof t?t:Array.isArray(t)?nu(Jo.call(t)):nu(t),i):e},i.smooth=function(t){return arguments.length?(r=t?a:ou,i):r===a},i};function cu(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),u=0;u<i;++u)for(var a=0,c=0;a<r+e;++a)a<r&&(c+=t.data[a+u*r]),a>=e&&(a>=o&&(c-=t.data[a-o+u*r]),n.data[a-e+u*r]=c/Math.min(a+1,r-1+o-a,o))}function fu(t,n,e){for(var r=t.width,i=t.height,o=1+(e<<1),u=0;u<r;++u)for(var a=0,c=0;a<i+e;++a)a<i&&(c+=t.data[u+a*r]),a>=e&&(a>=o&&(c-=t.data[u+(a-o)*r]),n.data[u+(a-e)*r]=c/Math.min(a+1,i-1+o-a,o))}function su(t){return t[0]}function lu(t){return t[1]}function hu(){return 1}var du=function(){var t=su,n=lu,e=hu,r=960,i=500,o=20,u=2,a=3*o,c=r+2*a>>u,f=i+2*a>>u,s=nu(20);function l(r){var i=new Float32Array(c*f),l=new Float32Array(c*f);r.forEach((function(r,o,s){var l=+t(r,o,s)+a>>u,h=+n(r,o,s)+a>>u,d=+e(r,o,s);l>=0&&l<c&&h>=0&&h<f&&(i[l+h*c]+=d)})),cu({width:c,height:f,data:i},{width:c,height:f,data:l},o>>u),fu({width:c,height:f,data:l},{width:c,height:f,data:i},o>>u),cu({width:c,height:f,data:i},{width:c,height:f,data:l},o>>u),fu({width:c,height:f,data:l},{width:c,height:f,data:i},o>>u),cu({width:c,height:f,data:i},{width:c,height:f,data:l},o>>u),fu({width:c,height:f,data:l},{width:c,height:f,data:i},o>>u);var d=s(i);if(!Array.isArray(d)){var p=j(i);d=B(0,p,d),(d=ut(0,Math.floor(p/d)*d,d)).shift()}return au().thresholds(d).size([c,f])(i).map(h)}function h(t){return t.value*=Math.pow(2,-2*u),t.coordinates.forEach(d),t}function d(t){t.forEach(p)}function p(t){t.forEach(g)}function g(t){t[0]=t[0]*Math.pow(2,u)-a,t[1]=t[1]*Math.pow(2,u)-a}function _(){return c=r+2*(a=3*o)>>u,f=i+2*a>>u,l}return l.x=function(n){return arguments.length?(t="function"==typeof n?n:nu(+n),l):t},l.y=function(t){return arguments.length?(n="function"==typeof t?t:nu(+t),l):n},l.weight=function(t){return arguments.length?(e="function"==typeof t?t:nu(+t),l):e},l.size=function(t){if(!arguments.length)return[r,i];var n=+t[0],e=+t[1];if(!(n>=0&&e>=0))throw new Error("invalid size");return r=n,i=e,_()},l.cellSize=function(t){if(!arguments.length)return 1<<u;if(!((t=+t)>=1))throw new Error("invalid cell size");return u=Math.floor(Math.log(t)/Math.LN2),_()},l.thresholds=function(t){return arguments.length?(s="function"==typeof t?t:Array.isArray(t)?nu(Jo.call(t)):nu(t),l):s},l.bandwidth=function(t){if(!arguments.length)return Math.sqrt(o*(o+1));if(!((t=+t)>=0))throw new Error("invalid bandwidth");return o=Math.round((Math.sqrt(4*t*t+1)-1)/2),_()},l};const pu=Math.pow(2,-52),gu=new Uint32Array(512);class _u{static from(t,n=Eu,e=Cu){const r=t.length,i=new Float64Array(2*r);for(let o=0;o<r;o++){const r=t[o];i[2*o]=n(r),i[2*o+1]=e(r)}return new _u(i)}constructor(t){const n=t.length>>1;if(n>0&&"number"!=typeof t[0])throw new Error("Expected coords to contain numbers.");this.coords=t;const e=Math.max(2*n-5,0);this._triangles=new Uint32Array(3*e),this._halfedges=new Int32Array(3*e),this._hashSize=Math.ceil(Math.sqrt(n)),this._hullPrev=new Uint32Array(n),this._hullNext=new Uint32Array(n),this._hullTri=new Uint32Array(n),this._hullHash=new Int32Array(this._hashSize).fill(-1),this._ids=new Uint32Array(n),this._dists=new Float64Array(n),this.update()}update(){const{coords:t,_hullPrev:n,_hullNext:e,_hullTri:r,_hullHash:i}=this,o=t.length>>1;let u=1/0,a=1/0,c=-1/0,f=-1/0;for(let n=0;n<o;n++){const e=t[2*n],r=t[2*n+1];e<u&&(u=e),r<a&&(a=r),e>c&&(c=e),r>f&&(f=r),this._ids[n]=n}const s=(u+c)/2,l=(a+f)/2;let h,d,p,g=1/0;for(let n=0;n<o;n++){const e=yu(s,l,t[2*n],t[2*n+1]);e<g&&(h=n,g=e)}const _=t[2*h],y=t[2*h+1];g=1/0;for(let n=0;n<o;n++){if(n===h)continue;const e=yu(_,y,t[2*n],t[2*n+1]);e<g&&e>0&&(d=n,g=e)}let v=t[2*d],b=t[2*d+1],m=1/0;for(let n=0;n<o;n++){if(n===h||n===d)continue;const e=xu(_,y,v,b,t[2*n],t[2*n+1]);e<m&&(p=n,m=e)}let x=t[2*p],w=t[2*p+1];if(m===1/0){for(let n=0;n<o;n++)this._dists[n]=t[2*n]-t[0]||t[2*n+1]-t[1];wu(this._ids,this._dists,0,o-1);const n=new Uint32Array(o);let e=0;for(let t=0,r=-1/0;t<o;t++){const i=this._ids[t];this._dists[i]>r&&(n[e++]=i,r=this._dists[i])}return this.hull=n.subarray(0,e),this.triangles=new Uint32Array(0),void(this.halfedges=new Uint32Array(0))}if(bu(_,y,v,b,x,w)){const t=d,n=v,e=b;d=p,v=x,b=w,p=t,x=n,w=e}const M=function(t,n,e,r,i,o){const u=e-t,a=r-n,c=i-t,f=o-n,s=u*u+a*a,l=c*c+f*f,h=.5/(u*f-a*c);return{x:t+(f*s-a*l)*h,y:n+(u*l-c*s)*h}}(_,y,v,b,x,w);this._cx=M.x,this._cy=M.y;for(let n=0;n<o;n++)this._dists[n]=yu(t[2*n],t[2*n+1],M.x,M.y);wu(this._ids,this._dists,0,o-1),this._hullStart=h;let E=3;e[h]=n[p]=d,e[d]=n[h]=p,e[p]=n[d]=h,r[h]=0,r[d]=1,r[p]=2,i.fill(-1),i[this._hashKey(_,y)]=h,i[this._hashKey(v,b)]=d,i[this._hashKey(x,w)]=p,this.trianglesLen=0,this._addTriangle(h,d,p,-1,-1,-1);for(let o,u,a=0;a<this._ids.length;a++){const c=this._ids[a],f=t[2*c],s=t[2*c+1];if(a>0&&Math.abs(f-o)<=pu&&Math.abs(s-u)<=pu)continue;if(o=f,u=s,c===h||c===d||c===p)continue;let l=0;for(let t=0,n=this._hashKey(f,s);t<this._hashSize&&(l=i[(n+t)%this._hashSize],-1===l||l===e[l]);t++);l=n[l];let g,_=l;for(;g=e[_],!bu(f,s,t[2*_],t[2*_+1],t[2*g],t[2*g+1]);)if(_=g,_===l){_=-1;break}if(-1===_)continue;let y=this._addTriangle(_,c,e[_],-1,-1,r[_]);r[c]=this._legalize(y+2),r[_]=y,E++;let v=e[_];for(;g=e[v],bu(f,s,t[2*v],t[2*v+1],t[2*g],t[2*g+1]);)y=this._addTriangle(v,c,g,r[c],-1,r[v]),r[c]=this._legalize(y+2),e[v]=v,E--,v=g;if(_===l)for(;g=n[_],bu(f,s,t[2*g],t[2*g+1],t[2*_],t[2*_+1]);)y=this._addTriangle(g,c,_,-1,r[_],r[g]),this._legalize(y+2),r[g]=y,e[_]=_,E--,_=g;this._hullStart=n[c]=_,e[_]=n[v]=c,e[c]=v,i[this._hashKey(f,s)]=c,i[this._hashKey(t[2*_],t[2*_+1])]=_}this.hull=new Uint32Array(E);for(let t=0,n=this._hullStart;t<E;t++)this.hull[t]=n,n=e[n];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(t,n){return Math.floor(function(t,n){const e=t/(Math.abs(t)+Math.abs(n));return(n>0?3-e:1+e)/4}(t-this._cx,n-this._cy)*this._hashSize)%this._hashSize}_legalize(t){const{_triangles:n,_halfedges:e,coords:r}=this;let i=0,o=0;for(;;){const u=e[t],a=t-t%3;if(o=a+(t+2)%3,-1===u){if(0===i)break;t=gu[--i];continue}const c=u-u%3,f=a+(t+1)%3,s=c+(u+2)%3,l=n[o],h=n[t],d=n[f],p=n[s];if(mu(r[2*l],r[2*l+1],r[2*h],r[2*h+1],r[2*d],r[2*d+1],r[2*p],r[2*p+1])){n[t]=p,n[u]=l;const r=e[s];if(-1===r){let n=this._hullStart;do{if(this._hullTri[n]===s){this._hullTri[n]=t;break}n=this._hullPrev[n]}while(n!==this._hullStart)}this._link(t,r),this._link(u,e[o]),this._link(o,s);const a=c+(u+1)%3;i<gu.length&&(gu[i++]=a)}else{if(0===i)break;t=gu[--i]}}return o}_link(t,n){this._halfedges[t]=n,-1!==n&&(this._halfedges[n]=t)}_addTriangle(t,n,e,r,i,o){const u=this.trianglesLen;return this._triangles[u]=t,this._triangles[u+1]=n,this._triangles[u+2]=e,this._link(u,r),this._link(u+1,i),this._link(u+2,o),this.trianglesLen+=3,u}}function yu(t,n,e,r){const i=t-e,o=n-r;return i*i+o*o}function vu(t,n,e,r,i,o){const u=(r-n)*(i-t),a=(e-t)*(o-n);return Math.abs(u-a)>=33306690738754716e-32*Math.abs(u+a)?u-a:0}function bu(t,n,e,r,i,o){return(vu(i,o,t,n,e,r)||vu(t,n,e,r,i,o)||vu(e,r,i,o,t,n))<0}function mu(t,n,e,r,i,o,u,a){const c=t-u,f=n-a,s=e-u,l=r-a,h=i-u,d=o-a,p=s*s+l*l,g=h*h+d*d;return c*(l*g-p*d)-f*(s*g-p*h)+(c*c+f*f)*(s*d-l*h)<0}function xu(t,n,e,r,i,o){const u=e-t,a=r-n,c=i-t,f=o-n,s=u*u+a*a,l=c*c+f*f,h=.5/(u*f-a*c),d=(f*s-a*l)*h,p=(u*l-c*s)*h;return d*d+p*p}function wu(t,n,e,r){if(r-e<=20)for(let i=e+1;i<=r;i++){const r=t[i],o=n[r];let u=i-1;for(;u>=e&&n[t[u]]>o;)t[u+1]=t[u--];t[u+1]=r}else{let i=e+1,o=r;Mu(t,e+r>>1,i),n[t[e]]>n[t[r]]&&Mu(t,e,r),n[t[i]]>n[t[r]]&&Mu(t,i,r),n[t[e]]>n[t[i]]&&Mu(t,e,i);const u=t[i],a=n[u];for(;;){do{i++}while(n[t[i]]<a);do{o--}while(n[t[o]]>a);if(o<i)break;Mu(t,i,o)}t[e+1]=t[o],t[o]=u,r-i+1>=o-e?(wu(t,n,i,r),wu(t,n,e,o-1)):(wu(t,n,e,o-1),wu(t,n,i,r))}}function Mu(t,n,e){const r=t[n];t[n]=t[e],t[e]=r}function Eu(t){return t[0]}function Cu(t){return t[1]}class Ru{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(t,n){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(t,n){this._+=`L${this._x1=+t},${this._y1=+n}`}arc(t,n,e){const r=(t=+t)+(e=+e),i=n=+n;if(e<0)throw new Error("negative radius");null===this._x1?this._+=`M${r},${i}`:(Math.abs(this._x1-r)>1e-6||Math.abs(this._y1-i)>1e-6)&&(this._+="L"+r+","+i),e&&(this._+=`A${e},${e},0,1,1,${t-e},${n}A${e},${e},0,1,1,${this._x1=r},${this._y1=i}`)}rect(t,n,e,r){this._+=`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${+e}v${+r}h${-e}Z`}value(){return this._||null}}class Nu{constructor(){this._=[]}moveTo(t,n){this._.push([t,n])}closePath(){this._.push(this._[0].slice())}lineTo(t,n){this._.push([t,n])}value(){return this._.length?this._:null}}class Tu{constructor(t,[n,e,r,i]=[0,0,960,500]){if(!((r=+r)>=(n=+n)&&(i=+i)>=(e=+e)))throw new Error("invalid bounds");this.delaunay=t,this._circumcenters=new Float64Array(2*t.points.length),this.vectors=new Float64Array(2*t.points.length),this.xmax=r,this.xmin=n,this.ymax=i,this.ymin=e,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:t,hull:n,triangles:e},vectors:r}=this,i=this.circumcenters=this._circumcenters.subarray(0,e.length/3*2);for(let n,r,o=0,u=0,a=e.length;o<a;o+=3,u+=2){const a=2*e[o],c=2*e[o+1],f=2*e[o+2],s=t[a],l=t[a+1],h=t[c],d=t[c+1],p=t[f],g=t[f+1],_=h-s,y=d-l,v=p-s,b=g-l,m=_*_+y*y,x=v*v+b*b,w=2*(_*b-y*v);if(w)if(Math.abs(w)<1e-8)n=(s+p)/2,r=(l+g)/2;else{const t=1/w;n=s+(b*m-y*x)*t,r=l+(_*x-v*m)*t}else n=(s+p)/2-1e8*b,r=(l+g)/2+1e8*v;i[u]=n,i[u+1]=r}let o,u,a,c=n[n.length-1],f=4*c,s=t[2*c],l=t[2*c+1];r.fill(0);for(let e=0;e<n.length;++e)c=n[e],o=f,u=s,a=l,f=4*c,s=t[2*c],l=t[2*c+1],r[o+2]=r[f]=a-l,r[o+3]=r[f+1]=s-u}render(t){const n=null==t?t=new Ru:void 0,{delaunay:{halfedges:e,inedges:r,hull:i},circumcenters:o,vectors:u}=this;if(i.length<=1)return null;for(let n=0,r=e.length;n<r;++n){const r=e[n];if(r<n)continue;const i=2*Math.floor(n/3),u=2*Math.floor(r/3),a=o[i],c=o[i+1],f=o[u],s=o[u+1];this._renderSegment(a,c,f,s,t)}let a,c=i[i.length-1];for(let n=0;n<i.length;++n){a=c,c=i[n];const e=2*Math.floor(r[c]/3),f=o[e],s=o[e+1],l=4*a,h=this._project(f,s,u[l+2],u[l+3]);h&&this._renderSegment(f,s,h[0],h[1],t)}return n&&n.value()}renderBounds(t){const n=null==t?t=new Ru:void 0;return t.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),n&&n.value()}renderCell(t,n){const e=null==n?n=new Ru:void 0,r=this._clip(t);if(null===r||!r.length)return;n.moveTo(r[0],r[1]);let i=r.length;for(;r[0]===r[i-2]&&r[1]===r[i-1]&&i>1;)i-=2;for(let t=2;t<i;t+=2)r[t]===r[t-2]&&r[t+1]===r[t-1]||n.lineTo(r[t],r[t+1]);return n.closePath(),e&&e.value()}*cellPolygons(){const{delaunay:{points:t}}=this;for(let n=0,e=t.length/2;n<e;++n){const t=this.cellPolygon(n);t&&(t.index=n,yield t)}}cellPolygon(t){const n=new Nu;return this.renderCell(t,n),n.value()}_renderSegment(t,n,e,r,i){let o;const u=this._regioncode(t,n),a=this._regioncode(e,r);0===u&&0===a?(i.moveTo(t,n),i.lineTo(e,r)):(o=this._clipSegment(t,n,e,r,u,a))&&(i.moveTo(o[0],o[1]),i.lineTo(o[2],o[3]))}contains(t,n,e){return(n=+n)==n&&(e=+e)==e&&this.delaunay._step(t,n,e)===t}*neighbors(t){const n=this._clip(t);if(n)for(const e of this.delaunay.neighbors(t)){const t=this._clip(e);if(t)t:for(let r=0,i=n.length;r<i;r+=2)for(let o=0,u=t.length;o<u;o+=2)if(n[r]==t[o]&&n[r+1]==t[o+1]&&n[(r+2)%i]==t[(o+u-2)%u]&&n[(r+3)%i]==t[(o+u-1)%u]){yield e;break t}}}_cell(t){const{circumcenters:n,delaunay:{inedges:e,halfedges:r,triangles:i}}=this,o=e[t];if(-1===o)return null;const u=[];let a=o;do{const e=Math.floor(a/3);if(u.push(n[2*e],n[2*e+1]),a=a%3==2?a-2:a+1,i[a]!==t)break;a=r[a]}while(a!==o&&-1!==a);return u}_clip(t){if(0===t&&1===this.delaunay.hull.length)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const n=this._cell(t);if(null===n)return null;const{vectors:e}=this,r=4*t;return e[r]||e[r+1]?this._clipInfinite(t,n,e[r],e[r+1],e[r+2],e[r+3]):this._clipFinite(t,n)}_clipFinite(t,n){const e=n.length;let r,i,o,u,a,c=null,f=n[e-2],s=n[e-1],l=this._regioncode(f,s);for(let h=0;h<e;h+=2)if(r=f,i=s,f=n[h],s=n[h+1],o=l,l=this._regioncode(f,s),0===o&&0===l)u=a,a=0,c?c.push(f,s):c=[f,s];else{let n,e,h,d,p;if(0===o){if(null===(n=this._clipSegment(r,i,f,s,o,l)))continue;[e,h,d,p]=n}else{if(null===(n=this._clipSegment(f,s,r,i,l,o)))continue;[d,p,e,h]=n,u=a,a=this._edgecode(e,h),u&&a&&this._edge(t,u,a,c,c.length),c?c.push(e,h):c=[e,h]}u=a,a=this._edgecode(d,p),u&&a&&this._edge(t,u,a,c,c.length),c?c.push(d,p):c=[d,p]}if(c)u=a,a=this._edgecode(c[0],c[1]),u&&a&&this._edge(t,u,a,c,c.length);else if(this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return c}_clipSegment(t,n,e,r,i,o){for(;;){if(0===i&&0===o)return[t,n,e,r];if(i&o)return null;let u,a,c=i||o;8&c?(u=t+(e-t)*(this.ymax-n)/(r-n),a=this.ymax):4&c?(u=t+(e-t)*(this.ymin-n)/(r-n),a=this.ymin):2&c?(a=n+(r-n)*(this.xmax-t)/(e-t),u=this.xmax):(a=n+(r-n)*(this.xmin-t)/(e-t),u=this.xmin),i?(t=u,n=a,i=this._regioncode(t,n)):(e=u,r=a,o=this._regioncode(e,r))}}_clipInfinite(t,n,e,r,i,o){let u,a=Array.from(n);if((u=this._project(a[0],a[1],e,r))&&a.unshift(u[0],u[1]),(u=this._project(a[a.length-2],a[a.length-1],i,o))&&a.push(u[0],u[1]),a=this._clipFinite(t,a))for(let n,e=0,r=a.length,i=this._edgecode(a[r-2],a[r-1]);e<r;e+=2)n=i,i=this._edgecode(a[e],a[e+1]),n&&i&&(e=this._edge(t,n,i,a,e),r=a.length);else this.contains(t,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(a=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return a}_edge(t,n,e,r,i){for(;n!==e;){let e,o;switch(n){case 5:n=4;continue;case 4:n=6,e=this.xmax,o=this.ymin;break;case 6:n=2;continue;case 2:n=10,e=this.xmax,o=this.ymax;break;case 10:n=8;continue;case 8:n=9,e=this.xmin,o=this.ymax;break;case 9:n=1;continue;case 1:n=5,e=this.xmin,o=this.ymin}r[i]===e&&r[i+1]===o||!this.contains(t,e,o)||(r.splice(i,0,e,o),i+=2)}if(r.length>4)for(let t=0;t<r.length;t+=2){const n=(t+2)%r.length,e=(t+4)%r.length;(r[t]===r[n]&&r[n]===r[e]||r[t+1]===r[n+1]&&r[n+1]===r[e+1])&&(r.splice(n,2),t-=2)}return i}_project(t,n,e,r){let i,o,u,a=1/0;if(r<0){if(n<=this.ymin)return null;(i=(this.ymin-n)/r)<a&&(u=this.ymin,o=t+(a=i)*e)}else if(r>0){if(n>=this.ymax)return null;(i=(this.ymax-n)/r)<a&&(u=this.ymax,o=t+(a=i)*e)}if(e>0){if(t>=this.xmax)return null;(i=(this.xmax-t)/e)<a&&(o=this.xmax,u=n+(a=i)*r)}else if(e<0){if(t<=this.xmin)return null;(i=(this.xmin-t)/e)<a&&(o=this.xmin,u=n+(a=i)*r)}return[o,u]}_edgecode(t,n){return(t===this.xmin?1:t===this.xmax?2:0)|(n===this.ymin?4:n===this.ymax?8:0)}_regioncode(t,n){return(t<this.xmin?1:t>this.xmax?2:0)|(n<this.ymin?4:n>this.ymax?8:0)}}const Au=2*Math.PI,Su=Math.pow;function ku(t){return t[0]}function Uu(t){return t[1]}function Yu(t,n,e){return[t+Math.sin(t+n)*e,n+Math.cos(t-n)*e]}class Du{static from(t,n=ku,e=Uu,r){return new Du("length"in t?function(t,n,e,r){const i=t.length,o=new Float64Array(2*i);for(let u=0;u<i;++u){const i=t[u];o[2*u]=n.call(r,i,u,t),o[2*u+1]=e.call(r,i,u,t)}return o}(t,n,e,r):Float64Array.from(function*(t,n,e,r){let i=0;for(const o of t)yield n.call(r,o,i,t),yield e.call(r,o,i,t),++i}(t,n,e,r)))}constructor(t){this._delaunator=new _u(t),this.inedges=new Int32Array(t.length/2),this._hullIndex=new Int32Array(t.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const t=this._delaunator,n=this.points;if(t.hull&&t.hull.length>2&&function(t){const{triangles:n,coords:e}=t;for(let t=0;t<n.length;t+=3){const r=2*n[t],i=2*n[t+1],o=2*n[t+2];if((e[o]-e[r])*(e[i+1]-e[r+1])-(e[i]-e[r])*(e[o+1]-e[r+1])>1e-10)return!1}return!0}(t)){this.collinear=Int32Array.from({length:n.length/2},(t,n)=>n).sort((t,e)=>n[2*t]-n[2*e]||n[2*t+1]-n[2*e+1]);const t=this.collinear[0],e=this.collinear[this.collinear.length-1],r=[n[2*t],n[2*t+1],n[2*e],n[2*e+1]],i=1e-8*Math.hypot(r[3]-r[1],r[2]-r[0]);for(let t=0,e=n.length/2;t<e;++t){const e=Yu(n[2*t],n[2*t+1],i);n[2*t]=e[0],n[2*t+1]=e[1]}this._delaunator=new _u(n)}else delete this.collinear;const e=this.halfedges=this._delaunator.halfedges,r=this.hull=this._delaunator.hull,i=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),u=this._hullIndex.fill(-1);for(let t=0,n=e.length;t<n;++t){const n=i[t%3==2?t-2:t+1];-1!==e[t]&&-1!==o[n]||(o[n]=t)}for(let t=0,n=r.length;t<n;++t)u[r[t]]=t;r.length<=2&&r.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=r[0],this.triangles[1]=r[1],this.triangles[2]=r[1],o[r[0]]=1,2===r.length&&(o[r[1]]=0))}voronoi(t){return new Tu(this,t)}*neighbors(t){const{inedges:n,hull:e,_hullIndex:r,halfedges:i,triangles:o,collinear:u}=this;if(u){const n=u.indexOf(t);return n>0&&(yield u[n-1]),void(n<u.length-1&&(yield u[n+1]))}const a=n[t];if(-1===a)return;let c=a,f=-1;do{if(yield f=o[c],c=c%3==2?c-2:c+1,o[c]!==t)return;if(c=i[c],-1===c){const n=e[(r[t]+1)%e.length];return void(n!==f&&(yield n))}}while(c!==a)}find(t,n,e=0){if((t=+t)!=t||(n=+n)!=n)return-1;const r=e;let i;for(;(i=this._step(e,t,n))>=0&&i!==e&&i!==r;)e=i;return i}_step(t,n,e){const{inedges:r,hull:i,_hullIndex:o,halfedges:u,triangles:a,points:c}=this;if(-1===r[t]||!c.length)return(t+1)%(c.length>>1);let f=t,s=Su(n-c[2*t],2)+Su(e-c[2*t+1],2);const l=r[t];let h=l;do{let r=a[h];const l=Su(n-c[2*r],2)+Su(e-c[2*r+1],2);if(l<s&&(s=l,f=r),h=h%3==2?h-2:h+1,a[h]!==t)break;if(h=u[h],-1===h){if(h=i[(o[t]+1)%i.length],h!==r&&Su(n-c[2*h],2)+Su(e-c[2*h+1],2)<s)return h;break}}while(h!==l);return f}render(t){const n=null==t?t=new Ru:void 0,{points:e,halfedges:r,triangles:i}=this;for(let n=0,o=r.length;n<o;++n){const o=r[n];if(o<n)continue;const u=2*i[n],a=2*i[o];t.moveTo(e[u],e[u+1]),t.lineTo(e[a],e[a+1])}return this.renderHull(t),n&&n.value()}renderPoints(t,n=2){const e=null==t?t=new Ru:void 0,{points:r}=this;for(let e=0,i=r.length;e<i;e+=2){const i=r[e],o=r[e+1];t.moveTo(i+n,o),t.arc(i,o,n,0,Au)}return e&&e.value()}renderHull(t){const n=null==t?t=new Ru:void 0,{hull:e,points:r}=this,i=2*e[0],o=e.length;t.moveTo(r[i],r[i+1]);for(let n=1;n<o;++n){const i=2*e[n];t.lineTo(r[i],r[i+1])}return t.closePath(),n&&n.value()}hullPolygon(){const t=new Nu;return this.renderHull(t),t.value()}renderTriangle(t,n){const e=null==n?n=new Ru:void 0,{points:r,triangles:i}=this,o=2*i[t*=3],u=2*i[t+1],a=2*i[t+2];return n.moveTo(r[o],r[o+1]),n.lineTo(r[u],r[u+1]),n.lineTo(r[a],r[a+1]),n.closePath(),e&&e.value()}*trianglePolygons(){const{triangles:t}=this;for(let n=0,e=t.length/3;n<e;++n)yield this.trianglePolygon(n)}trianglePolygon(t){const n=new Nu;return this.renderTriangle(t,n),n.value()}}var Ou=t=>()=>t;function Iu(t,{sourceEvent:n,subject:e,target:r,identifier:i,active:o,x:u,y:a,dx:c,dy:f,dispatch:s}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},subject:{value:e,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:i,enumerable:!0,configurable:!0},active:{value:o,enumerable:!0,configurable:!0},x:{value:u,enumerable:!0,configurable:!0},y:{value:a,enumerable:!0,configurable:!0},dx:{value:c,enumerable:!0,configurable:!0},dy:{value:f,enumerable:!0,configurable:!0},_:{value:s}})}function Pu(t){return!t.ctrlKey&&!t.button}function zu(){return this.parentNode}function Lu(t,n){return null==n?{x:t.x,y:t.y}:n}function Fu(){return navigator.maxTouchPoints||"ontouchstart"in this}Iu.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var Bu=function(){var t,n,e,r,i=Pu,o=zu,u=Lu,a=Fu,c={},f=It("start","drag","end"),s=0,l=0;function h(t){t.on("mousedown.drag",d).filter(a).on("touchstart.drag",_).on("touchmove.drag",y).on("touchend.drag touchcancel.drag",v).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function d(u,a){if(!r&&i.call(this,u,a)){var c=b(this,o.call(this,u,a),u,a,"mouse");c&&(Qn(u.view).on("mousemove.drag",p,!0).on("mouseup.drag",g,!0),ne(u.view),Jn(u),e=!1,t=u.clientX,n=u.clientY,c("start",u))}}function p(r){if(te(r),!e){var i=r.clientX-t,o=r.clientY-n;e=i*i+o*o>l}c.mouse("drag",r)}function g(t){Qn(t.view).on("mousemove.drag mouseup.drag",null),ee(t.view,e),te(t),c.mouse("end",t)}function _(t,n){if(i.call(this,t,n)){var e,r,u=t.changedTouches,a=o.call(this,t,n),c=u.length;for(e=0;e<c;++e)(r=b(this,a,t,n,u[e].identifier,u[e]))&&(Jn(t),r("start",t,u[e]))}}function y(t){var n,e,r=t.changedTouches,i=r.length;for(n=0;n<i;++n)(e=c[r[n].identifier])&&(te(t),e("drag",t,r[n]))}function v(t){var n,e,i=t.changedTouches,o=i.length;for(r&&clearTimeout(r),r=setTimeout((function(){r=null}),500),n=0;n<o;++n)(e=c[i[n].identifier])&&(Jn(t),e("end",t,i[n]))}function b(t,n,e,r,i,o){var a,l,d,p=f.copy(),g=or(o||e,n);if(null!=(d=u.call(t,new Iu("beforestart",{sourceEvent:e,target:h,identifier:i,active:s,x:g[0],y:g[1],dx:0,dy:0,dispatch:p}),r)))return a=d.x-g[0]||0,l=d.y-g[1]||0,function e(o,u,f){var _,y=g;switch(o){case"start":c[i]=e,_=s++;break;case"end":delete c[i],--s;case"drag":g=or(f||u,n),_=s}p.call(o,t,new Iu(o,{sourceEvent:u,subject:d,target:h,identifier:i,active:_,x:g[0]+a,y:g[1]+l,dx:g[0]-y[0],dy:g[1]-y[1],dispatch:p}),r)}}return h.filter=function(t){return arguments.length?(i="function"==typeof t?t:Ou(!!t),h):i},h.container=function(t){return arguments.length?(o="function"==typeof t?t:Ou(t),h):o},h.subject=function(t){return arguments.length?(u="function"==typeof t?t:Ou(t),h):u},h.touchable=function(t){return arguments.length?(a="function"==typeof t?t:Ou(!!t),h):a},h.on=function(){var t=f.on.apply(f,arguments);return t===f?h:t},h.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,h):Math.sqrt(l)},h},qu={},Hu={};function ju(t){return new Function("d","return {"+t.map((function(t,n){return JSON.stringify(t)+": d["+n+'] || ""'})).join(",")+"}")}function Gu(t){var n=Object.create(null),e=[];return t.forEach((function(t){for(var r in t)r in n||e.push(n[r]=r)})),e}function Xu(t,n){var e=t+"",r=e.length;return r<n?new Array(n-r+1).join(0)+e:e}function Vu(t){var n,e=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return isNaN(t)?"Invalid Date":((n=t.getUTCFullYear())<0?"-"+Xu(-n,6):n>9999?"+"+Xu(n,6):Xu(n,4))+"-"+Xu(t.getUTCMonth()+1,2)+"-"+Xu(t.getUTCDate(),2)+(o?"T"+Xu(e,2)+":"+Xu(r,2)+":"+Xu(i,2)+"."+Xu(o,3)+"Z":i?"T"+Xu(e,2)+":"+Xu(r,2)+":"+Xu(i,2)+"Z":r||e?"T"+Xu(e,2)+":"+Xu(r,2)+"Z":"")}var Ku=function(t){var n=new RegExp('["'+t+"\n\r]"),e=t.charCodeAt(0);function r(t,n){var r,i=[],o=t.length,u=0,a=0,c=o<=0,f=!1;function s(){if(c)return Hu;if(f)return f=!1,qu;var n,r,i=u;if(34===t.charCodeAt(i)){for(;u++<o&&34!==t.charCodeAt(u)||34===t.charCodeAt(++u););return(n=u)>=o?c=!0:10===(r=t.charCodeAt(u++))?f=!0:13===r&&(f=!0,10===t.charCodeAt(u)&&++u),t.slice(i+1,n-1).replace(/""/g,'"')}for(;u<o;){if(10===(r=t.charCodeAt(n=u++)))f=!0;else if(13===r)f=!0,10===t.charCodeAt(u)&&++u;else if(r!==e)continue;return t.slice(i,n)}return c=!0,t.slice(i,o)}for(10===t.charCodeAt(o-1)&&--o,13===t.charCodeAt(o-1)&&--o;(r=s())!==Hu;){for(var l=[];r!==qu&&r!==Hu;)l.push(r),r=s();n&&null==(l=n(l,a++))||i.push(l)}return i}function i(n,e){return n.map((function(n){return e.map((function(t){return u(n[t])})).join(t)}))}function o(n){return n.map(u).join(t)}function u(t){return null==t?"":t instanceof Date?Vu(t):n.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,n){var e,i,o=r(t,(function(t,r){if(e)return e(t,r-1);i=t,e=n?function(t,n){var e=ju(t);return function(r,i){return n(e(r),i,t)}}(t,n):ju(t)}));return o.columns=i||[],o},parseRows:r,format:function(n,e){return null==e&&(e=Gu(n)),[e.map(u).join(t)].concat(i(n,e)).join("\n")},formatBody:function(t,n){return null==n&&(n=Gu(t)),i(t,n).join("\n")},formatRows:function(t){return t.map(o).join("\n")},formatRow:o,formatValue:u}},Wu=Ku(","),Zu=Wu.parse,$u=Wu.parseRows,Qu=Wu.format,Ju=Wu.formatBody,ta=Wu.formatRows,na=Wu.formatRow,ea=Wu.formatValue,ra=Ku("\t"),ia=ra.parse,oa=ra.parseRows,ua=ra.format,aa=ra.formatBody,ca=ra.formatRows,fa=ra.formatRow,sa=ra.formatValue;function la(t){for(var n in t){var e,r,i=t[n].trim();if(i)if("true"===i)i=!0;else if("false"===i)i=!1;else if("NaN"===i)i=NaN;else if(isNaN(e=+i)){if(!(r=i.match(/^([-+]\d{2})?\d{4}(-\d{2}(-\d{2})?)?(T\d{2}:\d{2}(:\d{2}(\.\d{3})?)?(Z|[-+]\d{2}:\d{2})?)?$/)))continue;ha&&r[4]&&!r[7]&&(i=i.replace(/-/g,"/").replace(/T/," ")),i=new Date(i)}else i=e;else i=null;t[n]=i}return t}const ha=new Date("2019-01-01T00:00").getHours()||new Date("2019-07-01T00:00").getHours(),da=t=>+t;function pa(t){return t*t}function ga(t){return t*(2-t)}function _a(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}var ya=function t(n){function e(t){return Math.pow(t,n)}return n=+n,e.exponent=t,e}(3),va=function t(n){function e(t){return 1-Math.pow(1-t,n)}return n=+n,e.exponent=t,e}(3),ba=function t(n){function e(t){return((t*=2)<=1?Math.pow(t,n):2-Math.pow(2-t,n))/2}return n=+n,e.exponent=t,e}(3),ma=Math.PI,xa=ma/2;function wa(t){return 1==+t?1:1-Math.cos(t*xa)}function Ma(t){return Math.sin(t*xa)}function Ea(t){return(1-Math.cos(ma*t))/2}function Ca(t){return 1.0009775171065494*(Math.pow(2,-10*t)-.0009765625)}function Ra(t){return Ca(1-+t)}function Na(t){return 1-Ca(t)}function Ta(t){return((t*=2)<=1?Ca(1-t):2-Ca(t-1))/2}function Aa(t){return 1-Math.sqrt(1-t*t)}function Sa(t){return Math.sqrt(1- --t*t)}function ka(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}function Ua(t){return 1-Ya(1-t)}function Ya(t){return(t=+t)<4/11?7.5625*t*t:t<8/11?7.5625*(t-=6/11)*t+3/4:t<10/11?7.5625*(t-=9/11)*t+15/16:7.5625*(t-=21/22)*t+63/64}function Da(t){return((t*=2)<=1?1-Ya(1-t):Ya(t-1)+1)/2}var Oa=function t(n){function e(t){return(t=+t)*t*(n*(t-1)+t)}return n=+n,e.overshoot=t,e}(1.70158),Ia=function t(n){function e(t){return--t*t*((t+1)*n+t)+1}return n=+n,e.overshoot=t,e}(1.70158),Pa=function t(n){function e(t){return((t*=2)<1?t*t*((n+1)*t-n):(t-=2)*t*((n+1)*t+n)+2)/2}return n=+n,e.overshoot=t,e}(1.70158),za=2*Math.PI,La=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=za);function i(t){return n*Ca(- --t)*Math.sin((r-t)/e)}return i.amplitude=function(n){return t(n,e*za)},i.period=function(e){return t(n,e)},i}(1,.3),Fa=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=za);function i(t){return 1-n*Ca(t=+t)*Math.sin((t+r)/e)}return i.amplitude=function(n){return t(n,e*za)},i.period=function(e){return t(n,e)},i}(1,.3),Ba=function t(n,e){var r=Math.asin(1/(n=Math.max(1,n)))*(e/=za);function i(t){return((t=2*t-1)<0?n*Ca(-t)*Math.sin((r-t)/e):2-n*Ca(t)*Math.sin((r+t)/e))/2}return i.amplitude=function(n){return t(n,e*za)},i.period=function(e){return t(n,e)},i}(1,.3);function qa(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.blob()}var Ha=function(t,n){return fetch(t,n).then(qa)};function ja(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.arrayBuffer()}var Ga=function(t,n){return fetch(t,n).then(ja)};function Xa(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);return t.text()}var Va=function(t,n){return fetch(t,n).then(Xa)};function Ka(t){return function(n,e,r){return 2===arguments.length&&"function"==typeof e&&(r=e,e=void 0),Va(n,e).then((function(n){return t(n,r)}))}}function Wa(t,n,e,r){3===arguments.length&&"function"==typeof e&&(r=e,e=void 0);var i=Ku(t);return Va(n,e).then((function(t){return i.parse(t,r)}))}var Za=Ka(Zu),$a=Ka(ia),Qa=function(t,n){return new Promise((function(e,r){var i=new Image;for(var o in n)i[o]=n[o];i.onerror=r,i.onload=function(){e(i)},i.src=t}))};function Ja(t){if(!t.ok)throw new Error(t.status+" "+t.statusText);if(204!==t.status&&205!==t.status)return t.json()}var tc=function(t,n){return fetch(t,n).then(Ja)};function nc(t){return(n,e)=>Va(n,e).then(n=>(new DOMParser).parseFromString(n,t))}var ec=nc("application/xml"),rc=nc("text/html"),ic=nc("image/svg+xml"),oc=function(t,n){var e,r=1;function i(){var i,o,u=e.length,a=0,c=0;for(i=0;i<u;++i)a+=(o=e[i]).x,c+=o.y;for(a=(a/u-t)*r,c=(c/u-n)*r,i=0;i<u;++i)(o=e[i]).x-=a,o.y-=c}return null==t&&(t=0),null==n&&(n=0),i.initialize=function(t){e=t},i.x=function(n){return arguments.length?(t=+n,i):t},i.y=function(t){return arguments.length?(n=+t,i):n},i.strength=function(t){return arguments.length?(r=+t,i):r},i};function uc(t,n,e,r){if(isNaN(n)||isNaN(e))return t;var i,o,u,a,c,f,s,l,h,d=t._root,p={data:r},g=t._x0,_=t._y0,y=t._x1,v=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((f=n>=(o=(g+y)/2))?g=o:y=o,(s=e>=(u=(_+v)/2))?_=u:v=u,i=d,!(d=d[l=s<<1|f]))return i[l]=p,t;if(a=+t._x.call(null,d.data),c=+t._y.call(null,d.data),n===a&&e===c)return p.next=d,i?i[l]=p:t._root=p,t;do{i=i?i[l]=new Array(4):t._root=new Array(4),(f=n>=(o=(g+y)/2))?g=o:y=o,(s=e>=(u=(_+v)/2))?_=u:v=u}while((l=s<<1|f)==(h=(c>=u)<<1|a>=o));return i[h]=d,i[l]=p,t}var ac=function(t,n,e,r,i){this.node=t,this.x0=n,this.y0=e,this.x1=r,this.y1=i};function cc(t){return t[0]}function fc(t){return t[1]}function sc(t,n,e){var r=new lc(null==n?cc:n,null==e?fc:e,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function lc(t,n,e,r,i,o){this._x=t,this._y=n,this._x0=e,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function hc(t){for(var n={data:t.data},e=n;t=t.next;)e=e.next={data:t.data};return n}var dc=sc.prototype=lc.prototype;dc.copy=function(){var t,n,e=new lc(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return e;if(!r.length)return e._root=hc(r),e;for(t=[{source:r,target:e._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(n=r.source[i])&&(n.length?t.push({source:n,target:r.target[i]=new Array(4)}):r.target[i]=hc(n));return e},dc.add=function(t){const n=+this._x.call(null,t),e=+this._y.call(null,t);return uc(this.cover(n,e),n,e,t)},dc.addAll=function(t){var n,e,r,i,o=t.length,u=new Array(o),a=new Array(o),c=1/0,f=1/0,s=-1/0,l=-1/0;for(e=0;e<o;++e)isNaN(r=+this._x.call(null,n=t[e]))||isNaN(i=+this._y.call(null,n))||(u[e]=r,a[e]=i,r<c&&(c=r),r>s&&(s=r),i<f&&(f=i),i>l&&(l=i));if(c>s||f>l)return this;for(this.cover(c,f).cover(s,l),e=0;e<o;++e)uc(this,u[e],a[e],t[e]);return this},dc.cover=function(t,n){if(isNaN(t=+t)||isNaN(n=+n))return this;var e=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(e))i=(e=Math.floor(t))+1,o=(r=Math.floor(n))+1;else{for(var u,a,c=i-e||1,f=this._root;e>t||t>=i||r>n||n>=o;)switch(a=(n<r)<<1|t<e,(u=new Array(4))[a]=f,f=u,c*=2,a){case 0:i=e+c,o=r+c;break;case 1:e=i-c,o=r+c;break;case 2:i=e+c,r=o-c;break;case 3:e=i-c,r=o-c}this._root&&this._root.length&&(this._root=f)}return this._x0=e,this._y0=r,this._x1=i,this._y1=o,this},dc.data=function(){var t=[];return this.visit((function(n){if(!n.length)do{t.push(n.data)}while(n=n.next)})),t},dc.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},dc.find=function(t,n,e){var r,i,o,u,a,c,f,s=this._x0,l=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new ac(g,s,l,h,d)),null==e?e=1/0:(s=t-e,l=n-e,h=t+e,d=n+e,e*=e);c=p.pop();)if(!(!(g=c.node)||(i=c.x0)>h||(o=c.y0)>d||(u=c.x1)<s||(a=c.y1)<l))if(g.length){var _=(i+u)/2,y=(o+a)/2;p.push(new ac(g[3],_,y,u,a),new ac(g[2],i,y,_,a),new ac(g[1],_,o,u,y),new ac(g[0],i,o,_,y)),(f=(n>=y)<<1|t>=_)&&(c=p[p.length-1],p[p.length-1]=p[p.length-1-f],p[p.length-1-f]=c)}else{var v=t-+this._x.call(null,g.data),b=n-+this._y.call(null,g.data),m=v*v+b*b;if(m<e){var x=Math.sqrt(e=m);s=t-x,l=n-x,h=t+x,d=n+x,r=g.data}}return r},dc.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(u=+this._y.call(null,t)))return this;var n,e,r,i,o,u,a,c,f,s,l,h,d=this._root,p=this._x0,g=this._y0,_=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((f=o>=(a=(p+_)/2))?p=a:_=a,(s=u>=(c=(g+y)/2))?g=c:y=c,n=d,!(d=d[l=s<<1|f]))return this;if(!d.length)break;(n[l+1&3]||n[l+2&3]||n[l+3&3])&&(e=n,h=l)}for(;d.data!==t;)if(r=d,!(d=d.next))return this;return(i=d.next)&&delete d.next,r?(i?r.next=i:delete r.next,this):n?(i?n[l]=i:delete n[l],(d=n[0]||n[1]||n[2]||n[3])&&d===(n[3]||n[2]||n[1]||n[0])&&!d.length&&(e?e[h]=d:this._root=d),this):(this._root=i,this)},dc.removeAll=function(t){for(var n=0,e=t.length;n<e;++n)this.remove(t[n]);return this},dc.root=function(){return this._root},dc.size=function(){var t=0;return this.visit((function(n){if(!n.length)do{++t}while(n=n.next)})),t},dc.visit=function(t){var n,e,r,i,o,u,a=[],c=this._root;for(c&&a.push(new ac(c,this._x0,this._y0,this._x1,this._y1));n=a.pop();)if(!t(c=n.node,r=n.x0,i=n.y0,o=n.x1,u=n.y1)&&c.length){var f=(r+o)/2,s=(i+u)/2;(e=c[3])&&a.push(new ac(e,f,s,o,u)),(e=c[2])&&a.push(new ac(e,r,s,f,u)),(e=c[1])&&a.push(new ac(e,f,i,o,s)),(e=c[0])&&a.push(new ac(e,r,i,f,s))}return this},dc.visitAfter=function(t){var n,e=[],r=[];for(this._root&&e.push(new ac(this._root,this._x0,this._y0,this._x1,this._y1));n=e.pop();){var i=n.node;if(i.length){var o,u=n.x0,a=n.y0,c=n.x1,f=n.y1,s=(u+c)/2,l=(a+f)/2;(o=i[0])&&e.push(new ac(o,u,a,s,l)),(o=i[1])&&e.push(new ac(o,s,a,c,l)),(o=i[2])&&e.push(new ac(o,u,l,s,f)),(o=i[3])&&e.push(new ac(o,s,l,c,f))}r.push(n)}for(;n=r.pop();)t(n.node,n.x0,n.y0,n.x1,n.y1);return this},dc.x=function(t){return arguments.length?(this._x=t,this):this._x},dc.y=function(t){return arguments.length?(this._y=t,this):this._y};var pc=function(t){return function(){return t}},gc=function(t){return 1e-6*(t()-.5)};function _c(t){return t.x+t.vx}function yc(t){return t.y+t.vy}var vc=function(t){var n,e,r,i=1,o=1;function u(){for(var t,u,c,f,s,l,h,d=n.length,p=0;p<o;++p)for(u=sc(n,_c,yc).visitAfter(a),t=0;t<d;++t)c=n[t],l=e[c.index],h=l*l,f=c.x+c.vx,s=c.y+c.vy,u.visit(g);function g(t,n,e,o,u){var a=t.data,d=t.r,p=l+d;if(!a)return n>f+p||o<f-p||e>s+p||u<s-p;if(a.index>c.index){var g=f-a.x-a.vx,_=s-a.y-a.vy,y=g*g+_*_;y<p*p&&(0===g&&(y+=(g=gc(r))*g),0===_&&(y+=(_=gc(r))*_),y=(p-(y=Math.sqrt(y)))/y*i,c.vx+=(g*=y)*(p=(d*=d)/(h+d)),c.vy+=(_*=y)*p,a.vx-=g*(p=1-p),a.vy-=_*p)}}}function a(t){if(t.data)return t.r=e[t.data.index];for(var n=t.r=0;n<4;++n)t[n]&&t[n].r>t.r&&(t.r=t[n].r)}function c(){if(n){var r,i,o=n.length;for(e=new Array(o),r=0;r<o;++r)i=n[r],e[i.index]=+t(i,r,n)}}return"function"!=typeof t&&(t=pc(null==t?1:+t)),u.initialize=function(t,e){n=t,r=e,c()},u.iterations=function(t){return arguments.length?(o=+t,u):o},u.strength=function(t){return arguments.length?(i=+t,u):i},u.radius=function(n){return arguments.length?(t="function"==typeof n?n:pc(+n),c(),u):t},u};function bc(t){return t.index}function mc(t,n){var e=t.get(n);if(!e)throw new Error("node not found: "+n);return e}var xc=function(t){var n,e,r,i,o,u,a=bc,c=function(t){return 1/Math.min(i[t.source.index],i[t.target.index])},f=pc(30),s=1;function l(r){for(var i=0,a=t.length;i<s;++i)for(var c,f,l,h,d,p,g,_=0;_<a;++_)f=(c=t[_]).source,h=(l=c.target).x+l.vx-f.x-f.vx||gc(u),d=l.y+l.vy-f.y-f.vy||gc(u),h*=p=((p=Math.sqrt(h*h+d*d))-e[_])/p*r*n[_],d*=p,l.vx-=h*(g=o[_]),l.vy-=d*g,f.vx+=h*(g=1-g),f.vy+=d*g}function h(){if(r){var u,c,f=r.length,s=t.length,l=new Map(r.map((t,n)=>[a(t,n,r),t]));for(u=0,i=new Array(f);u<s;++u)(c=t[u]).index=u,"object"!=typeof c.source&&(c.source=mc(l,c.source)),"object"!=typeof c.target&&(c.target=mc(l,c.target)),i[c.source.index]=(i[c.source.index]||0)+1,i[c.target.index]=(i[c.target.index]||0)+1;for(u=0,o=new Array(s);u<s;++u)c=t[u],o[u]=i[c.source.index]/(i[c.source.index]+i[c.target.index]);n=new Array(s),d(),e=new Array(s),p()}}function d(){if(r)for(var e=0,i=t.length;e<i;++e)n[e]=+c(t[e],e,t)}function p(){if(r)for(var n=0,i=t.length;n<i;++n)e[n]=+f(t[n],n,t)}return null==t&&(t=[]),l.initialize=function(t,n){r=t,u=n,h()},l.links=function(n){return arguments.length?(t=n,h(),l):t},l.id=function(t){return arguments.length?(a=t,l):a},l.iterations=function(t){return arguments.length?(s=+t,l):s},l.strength=function(t){return arguments.length?(c="function"==typeof t?t:pc(+t),d(),l):c},l.distance=function(t){return arguments.length?(f="function"==typeof t?t:pc(+t),p(),l):f},l};function wc(t){return t.x}function Mc(t){return t.y}var Ec=Math.PI*(3-Math.sqrt(5)),Cc=function(t){var n,e=1,r=.001,i=1-Math.pow(r,1/300),o=0,u=.6,a=new Map,c=yr(l),f=It("tick","end"),s=function(){let t=1;return()=>(t=(1664525*t+1013904223)%4294967296)/4294967296}();function l(){h(),f.call("tick",n),e<r&&(c.stop(),f.call("end",n))}function h(r){var c,f,s=t.length;void 0===r&&(r=1);for(var l=0;l<r;++l)for(e+=(o-e)*i,a.forEach((function(t){t(e)})),c=0;c<s;++c)null==(f=t[c]).fx?f.x+=f.vx*=u:(f.x=f.fx,f.vx=0),null==f.fy?f.y+=f.vy*=u:(f.y=f.fy,f.vy=0);return n}function d(){for(var n,e=0,r=t.length;e<r;++e){if((n=t[e]).index=e,null!=n.fx&&(n.x=n.fx),null!=n.fy&&(n.y=n.fy),isNaN(n.x)||isNaN(n.y)){var i=10*Math.sqrt(.5+e),o=e*Ec;n.x=i*Math.cos(o),n.y=i*Math.sin(o)}(isNaN(n.vx)||isNaN(n.vy))&&(n.vx=n.vy=0)}}function p(n){return n.initialize&&n.initialize(t,s),n}return null==t&&(t=[]),d(),n={tick:h,restart:function(){return c.restart(l),n},stop:function(){return c.stop(),n},nodes:function(e){return arguments.length?(t=e,d(),a.forEach(p),n):t},alpha:function(t){return arguments.length?(e=+t,n):e},alphaMin:function(t){return arguments.length?(r=+t,n):r},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(u=1-t,n):1-u},randomSource:function(t){return arguments.length?(s=t,a.forEach(p),n):s},force:function(t,e){return arguments.length>1?(null==e?a.delete(t):a.set(t,p(e)),n):a.get(t)},find:function(n,e,r){var i,o,u,a,c,f=0,s=t.length;for(null==r?r=1/0:r*=r,f=0;f<s;++f)(u=(i=n-(a=t[f]).x)*i+(o=e-a.y)*o)<r&&(c=a,r=u);return c},on:function(t,e){return arguments.length>1?(f.on(t,e),n):f.on(t)}}},Rc=function(){var t,n,e,r,i,o=pc(-30),u=1,a=1/0,c=.81;function f(e){var i,o=t.length,u=sc(t,wc,Mc).visitAfter(l);for(r=e,i=0;i<o;++i)n=t[i],u.visit(h)}function s(){if(t){var n,e,r=t.length;for(i=new Array(r),n=0;n<r;++n)e=t[n],i[e.index]=+o(e,n,t)}}function l(t){var n,e,r,o,u,a=0,c=0;if(t.length){for(r=o=u=0;u<4;++u)(n=t[u])&&(e=Math.abs(n.value))&&(a+=n.value,c+=e,r+=e*n.x,o+=e*n.y);t.x=r/c,t.y=o/c}else{(n=t).x=n.data.x,n.y=n.data.y;do{a+=i[n.data.index]}while(n=n.next)}t.value=a}function h(t,o,f,s){if(!t.value)return!0;var l=t.x-n.x,h=t.y-n.y,d=s-o,p=l*l+h*h;if(d*d/c<p)return p<a&&(0===l&&(p+=(l=gc(e))*l),0===h&&(p+=(h=gc(e))*h),p<u&&(p=Math.sqrt(u*p)),n.vx+=l*t.value*r/p,n.vy+=h*t.value*r/p),!0;if(!(t.length||p>=a)){(t.data!==n||t.next)&&(0===l&&(p+=(l=gc(e))*l),0===h&&(p+=(h=gc(e))*h),p<u&&(p=Math.sqrt(u*p)));do{t.data!==n&&(d=i[t.data.index]*r/p,n.vx+=l*d,n.vy+=h*d)}while(t=t.next)}}return f.initialize=function(n,r){t=n,e=r,s()},f.strength=function(t){return arguments.length?(o="function"==typeof t?t:pc(+t),s(),f):o},f.distanceMin=function(t){return arguments.length?(u=t*t,f):Math.sqrt(u)},f.distanceMax=function(t){return arguments.length?(a=t*t,f):Math.sqrt(a)},f.theta=function(t){return arguments.length?(c=t*t,f):Math.sqrt(c)},f},Nc=function(t,n,e){var r,i,o,u=pc(.1);function a(t){for(var u=0,a=r.length;u<a;++u){var c=r[u],f=c.x-n||1e-6,s=c.y-e||1e-6,l=Math.sqrt(f*f+s*s),h=(o[u]-l)*i[u]*t/l;c.vx+=f*h,c.vy+=s*h}}function c(){if(r){var n,e=r.length;for(i=new Array(e),o=new Array(e),n=0;n<e;++n)o[n]=+t(r[n],n,r),i[n]=isNaN(o[n])?0:+u(r[n],n,r)}}return"function"!=typeof t&&(t=pc(+t)),null==n&&(n=0),null==e&&(e=0),a.initialize=function(t){r=t,c()},a.strength=function(t){return arguments.length?(u="function"==typeof t?t:pc(+t),c(),a):u},a.radius=function(n){return arguments.length?(t="function"==typeof n?n:pc(+n),c(),a):t},a.x=function(t){return arguments.length?(n=+t,a):n},a.y=function(t){return arguments.length?(e=+t,a):e},a},Tc=function(t){var n,e,r,i=pc(.1);function o(t){for(var i,o=0,u=n.length;o<u;++o)(i=n[o]).vx+=(r[o]-i.x)*e[o]*t}function u(){if(n){var o,u=n.length;for(e=new Array(u),r=new Array(u),o=0;o<u;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=pc(null==t?0:+t)),o.initialize=function(t){n=t,u()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:pc(+t),u(),o):i},o.x=function(n){return arguments.length?(t="function"==typeof n?n:pc(+n),u(),o):t},o},Ac=function(t){var n,e,r,i=pc(.1);function o(t){for(var i,o=0,u=n.length;o<u;++o)(i=n[o]).vy+=(r[o]-i.y)*e[o]*t}function u(){if(n){var o,u=n.length;for(e=new Array(u),r=new Array(u),o=0;o<u;++o)e[o]=isNaN(r[o]=+t(n[o],o,n))?0:+i(n[o],o,n)}}return"function"!=typeof t&&(t=pc(null==t?0:+t)),o.initialize=function(t){n=t,u()},o.strength=function(t){return arguments.length?(i="function"==typeof t?t:pc(+t),u(),o):i},o.y=function(n){return arguments.length?(t="function"==typeof n?n:pc(+n),u(),o):t},o};function Sc(t,n){if((e=(t=n?t.toExponential(n-1):t.toExponential()).indexOf("e"))<0)return null;var e,r=t.slice(0,e);return[r.length>1?r[0]+r.slice(2):r,+t.slice(e+1)]}var kc=function(t){return(t=Sc(Math.abs(t)))?t[1]:NaN},Uc=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Yc(t){if(!(n=Uc.exec(t)))throw new Error("invalid format: "+t);var n;return new Dc({fill:n[1],align:n[2],sign:n[3],symbol:n[4],zero:n[5],width:n[6],comma:n[7],precision:n[8]&&n[8].slice(1),trim:n[9],type:n[10]})}function Dc(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}Yc.prototype=Dc.prototype,Dc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Oc,Ic,Pc,zc,Lc=function(t,n){var e=Sc(t,n);if(!e)return t+"";var r=e[0],i=e[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")},Fc={"%":(t,n)=>(100*t).toFixed(n),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,n)=>t.toExponential(n),f:(t,n)=>t.toFixed(n),g:(t,n)=>t.toPrecision(n),o:t=>Math.round(t).toString(8),p:(t,n)=>Lc(100*t,n),r:Lc,s:function(t,n){var e=Sc(t,n);if(!e)return t+"";var r=e[0],i=e[1],o=i-(Oc=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,u=r.length;return o===u?r:o>u?r+new Array(o-u+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Sc(t,Math.max(0,n+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)},Bc=function(t){return t},qc=Array.prototype.map,Hc=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"],jc=function(t){var n,e,r=void 0===t.grouping||void 0===t.thousands?Bc:(n=qc.call(t.grouping,Number),e=t.thousands+"",function(t,r){for(var i=t.length,o=[],u=0,a=n[0],c=0;i>0&&a>0&&(c+a+1>r&&(a=Math.max(1,r-c)),o.push(t.substring(i-=a,i+a)),!((c+=a+1)>r));)a=n[u=(u+1)%n.length];return o.reverse().join(e)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",u=void 0===t.decimal?".":t.decimal+"",a=void 0===t.numerals?Bc:function(t){return function(n){return n.replace(/[0-9]/g,(function(n){return t[+n]}))}}(qc.call(t.numerals,String)),c=void 0===t.percent?"%":t.percent+"",f=void 0===t.minus?"−":t.minus+"",s=void 0===t.nan?"NaN":t.nan+"";function l(t){var n=(t=Yc(t)).fill,e=t.align,l=t.sign,h=t.symbol,d=t.zero,p=t.width,g=t.comma,_=t.precision,y=t.trim,v=t.type;"n"===v?(g=!0,v="g"):Fc[v]||(void 0===_&&(_=12),y=!0,v="g"),(d||"0"===n&&"="===e)&&(d=!0,n="0",e="=");var b="$"===h?i:"#"===h&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",m="$"===h?o:/[%p]/.test(v)?c:"",x=Fc[v],w=/[defgprs%]/.test(v);function M(t){var i,o,c,h=b,M=m;if("c"===v)M=x(t)+M,t="";else{var E=(t=+t)<0||1/t<0;if(t=isNaN(t)?s:x(Math.abs(t),_),y&&(t=function(t){t:for(var n,e=t.length,r=1,i=-1;r<e;++r)switch(t[r]){case".":i=n=r;break;case"0":0===i&&(i=r),n=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(n+1):t}(t)),E&&0==+t&&"+"!==l&&(E=!1),h=(E?"("===l?l:f:"-"===l||"("===l?"":l)+h,M=("s"===v?Hc[8+Oc/3]:"")+M+(E&&"("===l?")":""),w)for(i=-1,o=t.length;++i<o;)if(48>(c=t.charCodeAt(i))||c>57){M=(46===c?u+t.slice(i+1):t.slice(i))+M,t=t.slice(0,i);break}}g&&!d&&(t=r(t,1/0));var C=h.length+t.length+M.length,R=C<p?new Array(p-C+1).join(n):"";switch(g&&d&&(t=r(R+t,R.length?p-M.length:1/0),R=""),e){case"<":t=h+t+M+R;break;case"=":t=h+R+t+M;break;case"^":t=R.slice(0,C=R.length>>1)+h+t+M+R.slice(C);break;default:t=R+h+t+M}return a(t)}return _=void 0===_?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_)),M.toString=function(){return t+""},M}return{format:l,formatPrefix:function(t,n){var e=l(((t=Yc(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(kc(n)/3))),i=Math.pow(10,-r),o=Hc[8+r/3];return function(t){return e(i*t)+o}}}};function Gc(t){return Ic=jc(t),Pc=Ic.format,zc=Ic.formatPrefix,Ic}Gc({thousands:",",grouping:[3],currency:["$",""]});var Xc=function(t){return Math.max(0,-kc(Math.abs(t)))},Vc=function(t,n){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(kc(n)/3)))-kc(Math.abs(t)))},Kc=function(t,n){return t=Math.abs(t),n=Math.abs(n)-t,Math.max(0,kc(n)-kc(t))+1},Wc=Math.PI,Zc=Wc/2,$c=Wc/4,Qc=2*Wc,Jc=180/Wc,tf=Wc/180,nf=Math.abs,ef=Math.atan,rf=Math.atan2,of=Math.cos,uf=Math.ceil,af=Math.exp,cf=(Math.floor,Math.hypot),ff=Math.log,sf=Math.pow,lf=Math.sin,hf=Math.sign||function(t){return t>0?1:t<0?-1:0},df=Math.sqrt,pf=Math.tan;function gf(t){return t>1?0:t<-1?Wc:Math.acos(t)}function _f(t){return t>1?Zc:t<-1?-Zc:Math.asin(t)}function yf(t){return(t=lf(t/2))*t}function vf(){}function bf(t,n){t&&xf.hasOwnProperty(t.type)&&xf[t.type](t,n)}var mf={Feature:function(t,n){bf(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)bf(e[r].geometry,n)}},xf={Sphere:function(t,n){n.sphere()},Point:function(t,n){t=t.coordinates,n.point(t[0],t[1],t[2])},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)t=e[r],n.point(t[0],t[1],t[2])},LineString:function(t,n){wf(t.coordinates,n,0)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)wf(e[r],n,0)},Polygon:function(t,n){Mf(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)Mf(e[r],n)},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)bf(e[r],n)}};function wf(t,n,e){var r,i=-1,o=t.length-e;for(n.lineStart();++i<o;)r=t[i],n.point(r[0],r[1],r[2]);n.lineEnd()}function Mf(t,n){var e=-1,r=t.length;for(n.polygonStart();++e<r;)wf(t[e],n,1);n.polygonEnd()}var Ef,Cf,Rf,Nf,Tf,Af=function(t,n){t&&mf.hasOwnProperty(t.type)?mf[t.type](t,n):bf(t,n)},Sf=new w,kf=new w,Uf={point:vf,lineStart:vf,lineEnd:vf,polygonStart:function(){Sf=new w,Uf.lineStart=Yf,Uf.lineEnd=Df},polygonEnd:function(){var t=+Sf;kf.add(t<0?Qc+t:t),this.lineStart=this.lineEnd=this.point=vf},sphere:function(){kf.add(Qc)}};function Yf(){Uf.point=Of}function Df(){If(Ef,Cf)}function Of(t,n){Uf.point=If,Ef=t,Cf=n,Rf=t*=tf,Nf=of(n=(n*=tf)/2+$c),Tf=lf(n)}function If(t,n){var e=(t*=tf)-Rf,r=e>=0?1:-1,i=r*e,o=of(n=(n*=tf)/2+$c),u=lf(n),a=Tf*u,c=Nf*o+a*of(i),f=a*r*lf(i);Sf.add(rf(f,c)),Rf=t,Nf=o,Tf=u}var Pf,zf,Lf,Ff,Bf,qf,Hf,jf,Gf,Xf,Vf,Kf=function(t){return kf=new w,Af(t,Uf),2*kf};function Wf(t){return[rf(t[1],t[0]),_f(t[2])]}function Zf(t){var n=t[0],e=t[1],r=of(e);return[r*of(n),r*lf(n),lf(e)]}function $f(t,n){return t[0]*n[0]+t[1]*n[1]+t[2]*n[2]}function Qf(t,n){return[t[1]*n[2]-t[2]*n[1],t[2]*n[0]-t[0]*n[2],t[0]*n[1]-t[1]*n[0]]}function Jf(t,n){t[0]+=n[0],t[1]+=n[1],t[2]+=n[2]}function ts(t,n){return[t[0]*n,t[1]*n,t[2]*n]}function ns(t){var n=df(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=n,t[1]/=n,t[2]/=n}var es={point:rs,lineStart:os,lineEnd:us,polygonStart:function(){es.point=as,es.lineStart=cs,es.lineEnd=fs,Gf=new w,Uf.polygonStart()},polygonEnd:function(){Uf.polygonEnd(),es.point=rs,es.lineStart=os,es.lineEnd=us,Sf<0?(Pf=-(Lf=180),zf=-(Ff=90)):Gf>1e-6?Ff=90:Gf<-1e-6&&(zf=-90),Vf[0]=Pf,Vf[1]=Lf},sphere:function(){Pf=-(Lf=180),zf=-(Ff=90)}};function rs(t,n){Xf.push(Vf=[Pf=t,Lf=t]),n<zf&&(zf=n),n>Ff&&(Ff=n)}function is(t,n){var e=Zf([t*tf,n*tf]);if(jf){var r=Qf(jf,e),i=Qf([r[1],-r[0],0],r);ns(i),i=Wf(i);var o,u=t-Bf,a=u>0?1:-1,c=i[0]*Jc*a,f=nf(u)>180;f^(a*Bf<c&&c<a*t)?(o=i[1]*Jc)>Ff&&(Ff=o):f^(a*Bf<(c=(c+360)%360-180)&&c<a*t)?(o=-i[1]*Jc)<zf&&(zf=o):(n<zf&&(zf=n),n>Ff&&(Ff=n)),f?t<Bf?ss(Pf,t)>ss(Pf,Lf)&&(Lf=t):ss(t,Lf)>ss(Pf,Lf)&&(Pf=t):Lf>=Pf?(t<Pf&&(Pf=t),t>Lf&&(Lf=t)):t>Bf?ss(Pf,t)>ss(Pf,Lf)&&(Lf=t):ss(t,Lf)>ss(Pf,Lf)&&(Pf=t)}else Xf.push(Vf=[Pf=t,Lf=t]);n<zf&&(zf=n),n>Ff&&(Ff=n),jf=e,Bf=t}function os(){es.point=is}function us(){Vf[0]=Pf,Vf[1]=Lf,es.point=rs,jf=null}function as(t,n){if(jf){var e=t-Bf;Gf.add(nf(e)>180?e+(e>0?360:-360):e)}else qf=t,Hf=n;Uf.point(t,n),is(t,n)}function cs(){Uf.lineStart()}function fs(){as(qf,Hf),Uf.lineEnd(),nf(Gf)>1e-6&&(Pf=-(Lf=180)),Vf[0]=Pf,Vf[1]=Lf,jf=null}function ss(t,n){return(n-=t)<0?n+360:n}function ls(t,n){return t[0]-n[0]}function hs(t,n){return t[0]<=t[1]?t[0]<=n&&n<=t[1]:n<t[0]||t[1]<n}var ds,ps,gs,_s,ys,vs,bs,ms,xs,ws,Ms,Es,Cs,Rs,Ns,Ts,As=function(t){var n,e,r,i,o,u,a;if(Ff=Lf=-(Pf=zf=1/0),Xf=[],Af(t,es),e=Xf.length){for(Xf.sort(ls),n=1,o=[r=Xf[0]];n<e;++n)hs(r,(i=Xf[n])[0])||hs(r,i[1])?(ss(r[0],i[1])>ss(r[0],r[1])&&(r[1]=i[1]),ss(i[0],r[1])>ss(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(u=-1/0,n=0,r=o[e=o.length-1];n<=e;r=i,++n)i=o[n],(a=ss(r[1],i[0]))>u&&(u=a,Pf=i[0],Lf=r[1])}return Xf=Vf=null,Pf===1/0||zf===1/0?[[NaN,NaN],[NaN,NaN]]:[[Pf,zf],[Lf,Ff]]},Ss={sphere:vf,point:ks,lineStart:Ys,lineEnd:Is,polygonStart:function(){Ss.lineStart=Ps,Ss.lineEnd=zs},polygonEnd:function(){Ss.lineStart=Ys,Ss.lineEnd=Is}};function ks(t,n){t*=tf;var e=of(n*=tf);Us(e*of(t),e*lf(t),lf(n))}function Us(t,n,e){++ds,gs+=(t-gs)/ds,_s+=(n-_s)/ds,ys+=(e-ys)/ds}function Ys(){Ss.point=Ds}function Ds(t,n){t*=tf;var e=of(n*=tf);Rs=e*of(t),Ns=e*lf(t),Ts=lf(n),Ss.point=Os,Us(Rs,Ns,Ts)}function Os(t,n){t*=tf;var e=of(n*=tf),r=e*of(t),i=e*lf(t),o=lf(n),u=rf(df((u=Ns*o-Ts*i)*u+(u=Ts*r-Rs*o)*u+(u=Rs*i-Ns*r)*u),Rs*r+Ns*i+Ts*o);ps+=u,vs+=u*(Rs+(Rs=r)),bs+=u*(Ns+(Ns=i)),ms+=u*(Ts+(Ts=o)),Us(Rs,Ns,Ts)}function Is(){Ss.point=ks}function Ps(){Ss.point=Ls}function zs(){Fs(Es,Cs),Ss.point=ks}function Ls(t,n){Es=t,Cs=n,t*=tf,n*=tf,Ss.point=Fs;var e=of(n);Rs=e*of(t),Ns=e*lf(t),Ts=lf(n),Us(Rs,Ns,Ts)}function Fs(t,n){t*=tf;var e=of(n*=tf),r=e*of(t),i=e*lf(t),o=lf(n),u=Ns*o-Ts*i,a=Ts*r-Rs*o,c=Rs*i-Ns*r,f=cf(u,a,c),s=_f(f),l=f&&-s/f;xs.add(l*u),ws.add(l*a),Ms.add(l*c),ps+=s,vs+=s*(Rs+(Rs=r)),bs+=s*(Ns+(Ns=i)),ms+=s*(Ts+(Ts=o)),Us(Rs,Ns,Ts)}var Bs=function(t){ds=ps=gs=_s=ys=vs=bs=ms=0,xs=new w,ws=new w,Ms=new w,Af(t,Ss);var n=+xs,e=+ws,r=+Ms,i=cf(n,e,r);return i<1e-12&&(n=vs,e=bs,r=ms,ps<1e-6&&(n=gs,e=_s,r=ys),(i=cf(n,e,r))<1e-12)?[NaN,NaN]:[rf(e,n)*Jc,_f(r/i)*Jc]},qs=function(t){return function(){return t}},Hs=function(t,n){function e(e,r){return e=t(e,r),n(e[0],e[1])}return t.invert&&n.invert&&(e.invert=function(e,r){return(e=n.invert(e,r))&&t.invert(e[0],e[1])}),e};function js(t,n){return[nf(t)>Wc?t+Math.round(-t/Qc)*Qc:t,n]}function Gs(t,n,e){return(t%=Qc)?n||e?Hs(Vs(t),Ks(n,e)):Vs(t):n||e?Ks(n,e):js}function Xs(t){return function(n,e){return[(n+=t)>Wc?n-Qc:n<-Wc?n+Qc:n,e]}}function Vs(t){var n=Xs(t);return n.invert=Xs(-t),n}function Ks(t,n){var e=of(t),r=lf(t),i=of(n),o=lf(n);function u(t,n){var u=of(n),a=of(t)*u,c=lf(t)*u,f=lf(n),s=f*e+a*r;return[rf(c*i-s*o,a*e-f*r),_f(s*i+c*o)]}return u.invert=function(t,n){var u=of(n),a=of(t)*u,c=lf(t)*u,f=lf(n),s=f*i-c*o;return[rf(c*i+f*o,a*e+s*r),_f(s*e-a*r)]},u}js.invert=js;var Ws=function(t){function n(n){return(n=t(n[0]*tf,n[1]*tf))[0]*=Jc,n[1]*=Jc,n}return t=Gs(t[0]*tf,t[1]*tf,t.length>2?t[2]*tf:0),n.invert=function(n){return(n=t.invert(n[0]*tf,n[1]*tf))[0]*=Jc,n[1]*=Jc,n},n};function Zs(t,n,e,r,i,o){if(e){var u=of(n),a=lf(n),c=r*e;null==i?(i=n+r*Qc,o=n-c/2):(i=$s(u,i),o=$s(u,o),(r>0?i<o:i>o)&&(i+=r*Qc));for(var f,s=i;r>0?s>o:s<o;s-=c)f=Wf([u,-a*of(s),-a*lf(s)]),t.point(f[0],f[1])}}function $s(t,n){(n=Zf(n))[0]-=t,ns(n);var e=gf(-n[1]);return((-n[2]<0?-e:e)+Qc-1e-6)%Qc}var Qs=function(){var t,n,e=qs([0,0]),r=qs(90),i=qs(6),o={point:function(e,r){t.push(e=n(e,r)),e[0]*=Jc,e[1]*=Jc}};function u(){var u=e.apply(this,arguments),a=r.apply(this,arguments)*tf,c=i.apply(this,arguments)*tf;return t=[],n=Gs(-u[0]*tf,-u[1]*tf,0).invert,Zs(o,a,c,1),u={type:"Polygon",coordinates:[t]},t=n=null,u}return u.center=function(t){return arguments.length?(e="function"==typeof t?t:qs([+t[0],+t[1]]),u):e},u.radius=function(t){return arguments.length?(r="function"==typeof t?t:qs(+t),u):r},u.precision=function(t){return arguments.length?(i="function"==typeof t?t:qs(+t),u):i},u},Js=function(){var t,n=[];return{point:function(n,e,r){t.push([n,e,r])},lineStart:function(){n.push(t=[])},lineEnd:vf,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var e=n;return n=[],t=null,e}}},tl=function(t,n){return nf(t[0]-n[0])<1e-6&&nf(t[1]-n[1])<1e-6};function nl(t,n,e,r){this.x=t,this.z=n,this.o=e,this.e=r,this.v=!1,this.n=this.p=null}var el=function(t,n,e,r,i){var o,u,a=[],c=[];if(t.forEach((function(t){if(!((n=t.length-1)<=0)){var n,e,r=t[0],u=t[n];if(tl(r,u)){if(!r[2]&&!u[2]){for(i.lineStart(),o=0;o<n;++o)i.point((r=t[o])[0],r[1]);return void i.lineEnd()}u[0]+=2e-6}a.push(e=new nl(r,t,null,!0)),c.push(e.o=new nl(r,null,e,!1)),a.push(e=new nl(u,t,null,!1)),c.push(e.o=new nl(u,null,e,!0))}})),a.length){for(c.sort(n),rl(a),rl(c),o=0,u=c.length;o<u;++o)c[o].e=e=!e;for(var f,s,l=a[0];;){for(var h=l,d=!0;h.v;)if((h=h.n)===l)return;f=h.z,i.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(o=0,u=f.length;o<u;++o)i.point((s=f[o])[0],s[1]);else r(h.x,h.n.x,1,i);h=h.n}else{if(d)for(f=h.p.z,o=f.length-1;o>=0;--o)i.point((s=f[o])[0],s[1]);else r(h.x,h.p.x,-1,i);h=h.p}f=(h=h.o).z,d=!d}while(!h.v);i.lineEnd()}}};function rl(t){if(n=t.length){for(var n,e,r=0,i=t[0];++r<n;)i.n=e=t[r],e.p=i,i=e;i.n=e=t[0],e.p=i}}function il(t){return nf(t[0])<=Wc?t[0]:hf(t[0])*((nf(t[0])+Wc)%Qc-Wc)}var ol=function(t,n){var e=il(n),r=n[1],i=lf(r),o=[lf(e),-of(e),0],u=0,a=0,c=new w;1===i?r=Zc+1e-6:-1===i&&(r=-Zc-1e-6);for(var f=0,s=t.length;f<s;++f)if(h=(l=t[f]).length)for(var l,h,d=l[h-1],p=il(d),g=d[1]/2+$c,_=lf(g),y=of(g),v=0;v<h;++v,p=m,_=M,y=E,d=b){var b=l[v],m=il(b),x=b[1]/2+$c,M=lf(x),E=of(x),C=m-p,R=C>=0?1:-1,N=R*C,T=N>Wc,A=_*M;if(c.add(rf(A*R*lf(N),y*E+A*of(N))),u+=T?C+R*Qc:C,T^p>=e^m>=e){var S=Qf(Zf(d),Zf(b));ns(S);var k=Qf(o,S);ns(k);var U=(T^C>=0?-1:1)*_f(k[2]);(r>U||r===U&&(S[0]||S[1]))&&(a+=T^C>=0?1:-1)}}return(u<-1e-6||u<1e-6&&c<-1e-12)^1&a},ul=function(t,n,e,r){return function(i){var o,u,a,c=n(i),f=Js(),s=n(f),l=!1,h={point:d,lineStart:g,lineEnd:_,polygonStart:function(){h.point=y,h.lineStart=v,h.lineEnd=b,u=[],o=[]},polygonEnd:function(){h.point=d,h.lineStart=g,h.lineEnd=_,u=nt(u);var t=ol(o,r);u.length?(l||(i.polygonStart(),l=!0),el(u,cl,t,e,i)):t&&(l||(i.polygonStart(),l=!0),i.lineStart(),e(null,null,1,i),i.lineEnd()),l&&(i.polygonEnd(),l=!1),u=o=null},sphere:function(){i.polygonStart(),i.lineStart(),e(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function d(n,e){t(n,e)&&i.point(n,e)}function p(t,n){c.point(t,n)}function g(){h.point=p,c.lineStart()}function _(){h.point=d,c.lineEnd()}function y(t,n){a.push([t,n]),s.point(t,n)}function v(){s.lineStart(),a=[]}function b(){y(a[0][0],a[0][1]),s.lineEnd();var t,n,e,r,c=s.clean(),h=f.result(),d=h.length;if(a.pop(),o.push(a),a=null,d)if(1&c){if((n=(e=h[0]).length-1)>0){for(l||(i.polygonStart(),l=!0),i.lineStart(),t=0;t<n;++t)i.point((r=e[t])[0],r[1]);i.lineEnd()}}else d>1&&2&c&&h.push(h.pop().concat(h.shift())),u.push(h.filter(al))}return h}};function al(t){return t.length>1}function cl(t,n){return((t=t.x)[0]<0?t[1]-Zc-1e-6:Zc-t[1])-((n=n.x)[0]<0?n[1]-Zc-1e-6:Zc-n[1])}var fl=ul((function(){return!0}),(function(t){var n,e=NaN,r=NaN,i=NaN;return{lineStart:function(){t.lineStart(),n=1},point:function(o,u){var a=o>0?Wc:-Wc,c=nf(o-e);nf(c-Wc)<1e-6?(t.point(e,r=(r+u)/2>0?Zc:-Zc),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),t.point(o,r),n=0):i!==a&&c>=Wc&&(nf(e-i)<1e-6&&(e-=1e-6*i),nf(o-a)<1e-6&&(o-=1e-6*a),r=function(t,n,e,r){var i,o,u=lf(t-e);return nf(u)>1e-6?ef((lf(n)*(o=of(r))*lf(e)-lf(r)*(i=of(n))*lf(t))/(i*o*u)):(n+r)/2}(e,r,o,u),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(a,r),n=0),t.point(e=o,r=u),i=a},lineEnd:function(){t.lineEnd(),e=r=NaN},clean:function(){return 2-n}}}),(function(t,n,e,r){var i;if(null==t)i=e*Zc,r.point(-Wc,i),r.point(0,i),r.point(Wc,i),r.point(Wc,0),r.point(Wc,-i),r.point(0,-i),r.point(-Wc,-i),r.point(-Wc,0),r.point(-Wc,i);else if(nf(t[0]-n[0])>1e-6){var o=t[0]<n[0]?Wc:-Wc;i=e*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(n[0],n[1])}),[-Wc,-Zc]);var sl=function(t){var n=of(t),e=6*tf,r=n>0,i=nf(n)>1e-6;function o(t,e){return of(t)*of(e)>n}function u(t,e,r){var i=[1,0,0],o=Qf(Zf(t),Zf(e)),u=$f(o,o),a=o[0],c=u-a*a;if(!c)return!r&&t;var f=n*u/c,s=-n*a/c,l=Qf(i,o),h=ts(i,f);Jf(h,ts(o,s));var d=l,p=$f(h,d),g=$f(d,d),_=p*p-g*($f(h,h)-1);if(!(_<0)){var y=df(_),v=ts(d,(-p-y)/g);if(Jf(v,h),v=Wf(v),!r)return v;var b,m=t[0],x=e[0],w=t[1],M=e[1];x<m&&(b=m,m=x,x=b);var E=x-m,C=nf(E-Wc)<1e-6;if(!C&&M<w&&(b=w,w=M,M=b),C||E<1e-6?C?w+M>0^v[1]<(nf(v[0]-m)<1e-6?w:M):w<=v[1]&&v[1]<=M:E>Wc^(m<=v[0]&&v[0]<=x)){var R=ts(d,(-p+y)/g);return Jf(R,h),[v,Wf(R)]}}}function a(n,e){var i=r?t:Wc-t,o=0;return n<-i?o|=1:n>i&&(o|=2),e<-i?o|=4:e>i&&(o|=8),o}return ul(o,(function(t){var n,e,c,f,s;return{lineStart:function(){f=c=!1,s=1},point:function(l,h){var d,p=[l,h],g=o(l,h),_=r?g?0:a(l,h):g?a(l+(l<0?Wc:-Wc),h):0;if(!n&&(f=c=g)&&t.lineStart(),g!==c&&(!(d=u(n,p))||tl(n,d)||tl(p,d))&&(p[2]=1),g!==c)s=0,g?(t.lineStart(),d=u(p,n),t.point(d[0],d[1])):(d=u(n,p),t.point(d[0],d[1],2),t.lineEnd()),n=d;else if(i&&n&&r^g){var y;_&e||!(y=u(p,n,!0))||(s=0,r?(t.lineStart(),t.point(y[0][0],y[0][1]),t.point(y[1][0],y[1][1]),t.lineEnd()):(t.point(y[1][0],y[1][1]),t.lineEnd(),t.lineStart(),t.point(y[0][0],y[0][1],3)))}!g||n&&tl(n,p)||t.point(p[0],p[1]),n=p,c=g,e=_},lineEnd:function(){c&&t.lineEnd(),n=null},clean:function(){return s|(f&&c)<<1}}}),(function(n,r,i,o){Zs(o,t,e,i,n,r)}),r?[0,-t]:[-Wc,t-Wc])};function ll(t,n,e,r){function i(i,o){return t<=i&&i<=e&&n<=o&&o<=r}function o(i,o,a,f){var s=0,l=0;if(null==i||(s=u(i,a))!==(l=u(o,a))||c(i,o)<0^a>0)do{f.point(0===s||3===s?t:e,s>1?r:n)}while((s=(s+a+4)%4)!==l);else f.point(o[0],o[1])}function u(r,i){return nf(r[0]-t)<1e-6?i>0?0:3:nf(r[0]-e)<1e-6?i>0?2:1:nf(r[1]-n)<1e-6?i>0?1:0:i>0?3:2}function a(t,n){return c(t.x,n.x)}function c(t,n){var e=u(t,1),r=u(n,1);return e!==r?e-r:0===e?n[1]-t[1]:1===e?t[0]-n[0]:2===e?t[1]-n[1]:n[0]-t[0]}return function(u){var c,f,s,l,h,d,p,g,_,y,v,b=u,m=Js(),x={point:w,lineStart:function(){x.point=M,f&&f.push(s=[]);y=!0,_=!1,p=g=NaN},lineEnd:function(){c&&(M(l,h),d&&_&&m.rejoin(),c.push(m.result()));x.point=w,_&&b.lineEnd()},polygonStart:function(){b=m,c=[],f=[],v=!0},polygonEnd:function(){var n=function(){for(var n=0,e=0,i=f.length;e<i;++e)for(var o,u,a=f[e],c=1,s=a.length,l=a[0],h=l[0],d=l[1];c<s;++c)o=h,u=d,l=a[c],h=l[0],d=l[1],u<=r?d>r&&(h-o)*(r-u)>(d-u)*(t-o)&&++n:d<=r&&(h-o)*(r-u)<(d-u)*(t-o)&&--n;return n}(),e=v&&n,i=(c=nt(c)).length;(e||i)&&(u.polygonStart(),e&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),i&&el(c,a,n,o,u),u.polygonEnd());b=u,c=f=s=null}};function w(t,n){i(t,n)&&b.point(t,n)}function M(o,u){var a=i(o,u);if(f&&s.push([o,u]),y)l=o,h=u,d=a,y=!1,a&&(b.lineStart(),b.point(o,u));else if(a&&_)b.point(o,u);else{var c=[p=Math.max(-1e9,Math.min(1e9,p)),g=Math.max(-1e9,Math.min(1e9,g))],m=[o=Math.max(-1e9,Math.min(1e9,o)),u=Math.max(-1e9,Math.min(1e9,u))];!function(t,n,e,r,i,o){var u,a=t[0],c=t[1],f=0,s=1,l=n[0]-a,h=n[1]-c;if(u=e-a,l||!(u>0)){if(u/=l,l<0){if(u<f)return;u<s&&(s=u)}else if(l>0){if(u>s)return;u>f&&(f=u)}if(u=i-a,l||!(u<0)){if(u/=l,l<0){if(u>s)return;u>f&&(f=u)}else if(l>0){if(u<f)return;u<s&&(s=u)}if(u=r-c,h||!(u>0)){if(u/=h,h<0){if(u<f)return;u<s&&(s=u)}else if(h>0){if(u>s)return;u>f&&(f=u)}if(u=o-c,h||!(u<0)){if(u/=h,h<0){if(u>s)return;u>f&&(f=u)}else if(h>0){if(u<f)return;u<s&&(s=u)}return f>0&&(t[0]=a+f*l,t[1]=c+f*h),s<1&&(n[0]=a+s*l,n[1]=c+s*h),!0}}}}}(c,m,t,n,e,r)?a&&(b.lineStart(),b.point(o,u),v=!1):(_||(b.lineStart(),b.point(c[0],c[1])),b.point(m[0],m[1]),a||b.lineEnd(),v=!1)}p=o,g=u,_=a}return x}}var hl,dl,pl,gl,_l=function(){var t,n,e,r=0,i=0,o=960,u=500;return e={stream:function(e){return t&&n===e?t:t=ll(r,i,o,u)(n=e)},extent:function(a){return arguments.length?(r=+a[0][0],i=+a[0][1],o=+a[1][0],u=+a[1][1],t=n=null,e):[[r,i],[o,u]]}}},yl={sphere:vf,point:vf,lineStart:function(){yl.point=bl,yl.lineEnd=vl},lineEnd:vf,polygonStart:vf,polygonEnd:vf};function vl(){yl.point=yl.lineEnd=vf}function bl(t,n){dl=t*=tf,pl=lf(n*=tf),gl=of(n),yl.point=ml}function ml(t,n){t*=tf;var e=lf(n*=tf),r=of(n),i=nf(t-dl),o=of(i),u=r*lf(i),a=gl*e-pl*r*o,c=pl*e+gl*r*o;hl.add(rf(df(u*u+a*a),c)),dl=t,pl=e,gl=r}var xl=function(t){return hl=new w,Af(t,yl),+hl},wl=[null,null],Ml={type:"LineString",coordinates:wl},El=function(t,n){return wl[0]=t,wl[1]=n,xl(Ml)},Cl={Feature:function(t,n){return Nl(t.geometry,n)},FeatureCollection:function(t,n){for(var e=t.features,r=-1,i=e.length;++r<i;)if(Nl(e[r].geometry,n))return!0;return!1}},Rl={Sphere:function(){return!0},Point:function(t,n){return Tl(t.coordinates,n)},MultiPoint:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Tl(e[r],n))return!0;return!1},LineString:function(t,n){return Al(t.coordinates,n)},MultiLineString:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Al(e[r],n))return!0;return!1},Polygon:function(t,n){return Sl(t.coordinates,n)},MultiPolygon:function(t,n){for(var e=t.coordinates,r=-1,i=e.length;++r<i;)if(Sl(e[r],n))return!0;return!1},GeometryCollection:function(t,n){for(var e=t.geometries,r=-1,i=e.length;++r<i;)if(Nl(e[r],n))return!0;return!1}};function Nl(t,n){return!(!t||!Rl.hasOwnProperty(t.type))&&Rl[t.type](t,n)}function Tl(t,n){return 0===El(t,n)}function Al(t,n){for(var e,r,i,o=0,u=t.length;o<u;o++){if(0===(r=El(t[o],n)))return!0;if(o>0&&(i=El(t[o],t[o-1]))>0&&e<=i&&r<=i&&(e+r-i)*(1-Math.pow((e-r)/i,2))<1e-12*i)return!0;e=r}return!1}function Sl(t,n){return!!ol(t.map(kl),Ul(n))}function kl(t){return(t=t.map(Ul)).pop(),t}function Ul(t){return[t[0]*tf,t[1]*tf]}var Yl=function(t,n){return(t&&Cl.hasOwnProperty(t.type)?Cl[t.type]:Nl)(t,n)};function Dl(t,n,e){var r=ut(t,n-1e-6,e).concat(n);return function(t){return r.map((function(n){return[t,n]}))}}function Ol(t,n,e){var r=ut(t,n-1e-6,e).concat(n);return function(t){return r.map((function(n){return[n,t]}))}}function Il(){var t,n,e,r,i,o,u,a,c,f,s,l,h=10,d=h,p=90,g=360,_=2.5;function y(){return{type:"MultiLineString",coordinates:v()}}function v(){return ut(uf(r/p)*p,e,p).map(s).concat(ut(uf(a/g)*g,u,g).map(l)).concat(ut(uf(n/h)*h,t,h).filter((function(t){return nf(t%p)>1e-6})).map(c)).concat(ut(uf(o/d)*d,i,d).filter((function(t){return nf(t%g)>1e-6})).map(f))}return y.lines=function(){return v().map((function(t){return{type:"LineString",coordinates:t}}))},y.outline=function(){return{type:"Polygon",coordinates:[s(r).concat(l(u).slice(1),s(e).reverse().slice(1),l(a).reverse().slice(1))]}},y.extent=function(t){return arguments.length?y.extentMajor(t).extentMinor(t):y.extentMinor()},y.extentMajor=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],a=+t[0][1],u=+t[1][1],r>e&&(t=r,r=e,e=t),a>u&&(t=a,a=u,u=t),y.precision(_)):[[r,a],[e,u]]},y.extentMinor=function(e){return arguments.length?(n=+e[0][0],t=+e[1][0],o=+e[0][1],i=+e[1][1],n>t&&(e=n,n=t,t=e),o>i&&(e=o,o=i,i=e),y.precision(_)):[[n,o],[t,i]]},y.step=function(t){return arguments.length?y.stepMajor(t).stepMinor(t):y.stepMinor()},y.stepMajor=function(t){return arguments.length?(p=+t[0],g=+t[1],y):[p,g]},y.stepMinor=function(t){return arguments.length?(h=+t[0],d=+t[1],y):[h,d]},y.precision=function(h){return arguments.length?(_=+h,c=Dl(o,i,90),f=Ol(n,t,_),s=Dl(a,u,90),l=Ol(r,e,_),y):_},y.extentMajor([[-180,-89.999999],[180,89.999999]]).extentMinor([[-180,-80.000001],[180,80.000001]])}function Pl(){return Il()()}var zl,Ll,Fl,Bl,ql=function(t,n){var e=t[0]*tf,r=t[1]*tf,i=n[0]*tf,o=n[1]*tf,u=of(r),a=lf(r),c=of(o),f=lf(o),s=u*of(e),l=u*lf(e),h=c*of(i),d=c*lf(i),p=2*_f(df(yf(o-r)+u*c*yf(i-e))),g=lf(p),_=p?function(t){var n=lf(t*=p)/g,e=lf(p-t)/g,r=e*s+n*h,i=e*l+n*d,o=e*a+n*f;return[rf(i,r)*Jc,rf(o,df(r*r+i*i))*Jc]}:function(){return[e*Jc,r*Jc]};return _.distance=p,_},Hl=t=>t,jl=new w,Gl=new w,Xl={point:vf,lineStart:vf,lineEnd:vf,polygonStart:function(){Xl.lineStart=Vl,Xl.lineEnd=Zl},polygonEnd:function(){Xl.lineStart=Xl.lineEnd=Xl.point=vf,jl.add(nf(Gl)),Gl=new w},result:function(){var t=jl/2;return jl=new w,t}};function Vl(){Xl.point=Kl}function Kl(t,n){Xl.point=Wl,zl=Fl=t,Ll=Bl=n}function Wl(t,n){Gl.add(Bl*t-Fl*n),Fl=t,Bl=n}function Zl(){Wl(zl,Ll)}var $l=Xl,Ql=1/0,Jl=Ql,th=-Ql,nh=th;var eh,rh,ih,oh,uh={point:function(t,n){t<Ql&&(Ql=t);t>th&&(th=t);n<Jl&&(Jl=n);n>nh&&(nh=n)},lineStart:vf,lineEnd:vf,polygonStart:vf,polygonEnd:vf,result:function(){var t=[[Ql,Jl],[th,nh]];return th=nh=-(Jl=Ql=1/0),t}},ah=0,ch=0,fh=0,sh=0,lh=0,hh=0,dh=0,ph=0,gh=0,_h={point:yh,lineStart:vh,lineEnd:xh,polygonStart:function(){_h.lineStart=wh,_h.lineEnd=Mh},polygonEnd:function(){_h.point=yh,_h.lineStart=vh,_h.lineEnd=xh},result:function(){var t=gh?[dh/gh,ph/gh]:hh?[sh/hh,lh/hh]:fh?[ah/fh,ch/fh]:[NaN,NaN];return ah=ch=fh=sh=lh=hh=dh=ph=gh=0,t}};function yh(t,n){ah+=t,ch+=n,++fh}function vh(){_h.point=bh}function bh(t,n){_h.point=mh,yh(ih=t,oh=n)}function mh(t,n){var e=t-ih,r=n-oh,i=df(e*e+r*r);sh+=i*(ih+t)/2,lh+=i*(oh+n)/2,hh+=i,yh(ih=t,oh=n)}function xh(){_h.point=yh}function wh(){_h.point=Eh}function Mh(){Ch(eh,rh)}function Eh(t,n){_h.point=Ch,yh(eh=ih=t,rh=oh=n)}function Ch(t,n){var e=t-ih,r=n-oh,i=df(e*e+r*r);sh+=i*(ih+t)/2,lh+=i*(oh+n)/2,hh+=i,dh+=(i=oh*t-ih*n)*(ih+t),ph+=i*(oh+n),gh+=3*i,yh(ih=t,oh=n)}var Rh=_h;function Nh(t){this._context=t}Nh.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._context.moveTo(t,n),this._point=1;break;case 1:this._context.lineTo(t,n);break;default:this._context.moveTo(t+this._radius,n),this._context.arc(t,n,this._radius,0,Qc)}},result:vf};var Th,Ah,Sh,kh,Uh,Yh=new w,Dh={point:vf,lineStart:function(){Dh.point=Oh},lineEnd:function(){Th&&Ih(Ah,Sh),Dh.point=vf},polygonStart:function(){Th=!0},polygonEnd:function(){Th=null},result:function(){var t=+Yh;return Yh=new w,t}};function Oh(t,n){Dh.point=Ih,Ah=kh=t,Sh=Uh=n}function Ih(t,n){kh-=t,Uh-=n,Yh.add(df(kh*kh+Uh*Uh)),kh=t,Uh=n}var Ph=Dh;function zh(){this._string=[]}function Lh(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}zh.prototype={_radius:4.5,_circle:Lh(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,n){switch(this._point){case 0:this._string.push("M",t,",",n),this._point=1;break;case 1:this._string.push("L",t,",",n);break;default:null==this._circle&&(this._circle=Lh(this._radius)),this._string.push("M",t,",",n,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}};var Fh=function(t,n){var e,r,i=4.5;function o(t){return t&&("function"==typeof i&&r.pointRadius(+i.apply(this,arguments)),Af(t,e(r))),r.result()}return o.area=function(t){return Af(t,e($l)),$l.result()},o.measure=function(t){return Af(t,e(Ph)),Ph.result()},o.bounds=function(t){return Af(t,e(uh)),uh.result()},o.centroid=function(t){return Af(t,e(Rh)),Rh.result()},o.projection=function(n){return arguments.length?(e=null==n?(t=null,Hl):(t=n).stream,o):t},o.context=function(t){return arguments.length?(r=null==t?(n=null,new zh):new Nh(n=t),"function"!=typeof i&&r.pointRadius(i),o):n},o.pointRadius=function(t){return arguments.length?(i="function"==typeof t?t:(r.pointRadius(+t),+t),o):i},o.projection(t).context(n)},Bh=function(t){return{stream:qh(t)}};function qh(t){return function(n){var e=new Hh;for(var r in t)e[r]=t[r];return e.stream=n,e}}function Hh(){}function jh(t,n,e){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Af(e,t.stream(uh)),n(uh.result()),null!=r&&t.clipExtent(r),t}function Gh(t,n,e){return jh(t,(function(e){var r=n[1][0]-n[0][0],i=n[1][1]-n[0][1],o=Math.min(r/(e[1][0]-e[0][0]),i/(e[1][1]-e[0][1])),u=+n[0][0]+(r-o*(e[1][0]+e[0][0]))/2,a=+n[0][1]+(i-o*(e[1][1]+e[0][1]))/2;t.scale(150*o).translate([u,a])}),e)}function Xh(t,n,e){return Gh(t,[[0,0],n],e)}function Vh(t,n,e){return jh(t,(function(e){var r=+n,i=r/(e[1][0]-e[0][0]),o=(r-i*(e[1][0]+e[0][0]))/2,u=-i*e[0][1];t.scale(150*i).translate([o,u])}),e)}function Kh(t,n,e){return jh(t,(function(e){var r=+n,i=r/(e[1][1]-e[0][1]),o=-i*e[0][0],u=(r-i*(e[1][1]+e[0][1]))/2;t.scale(150*i).translate([o,u])}),e)}Hh.prototype={constructor:Hh,point:function(t,n){this.stream.point(t,n)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Wh=of(30*tf),Zh=function(t,n){return+n?function(t,n){function e(r,i,o,u,a,c,f,s,l,h,d,p,g,_){var y=f-r,v=s-i,b=y*y+v*v;if(b>4*n&&g--){var m=u+h,x=a+d,w=c+p,M=df(m*m+x*x+w*w),E=_f(w/=M),C=nf(nf(w)-1)<1e-6||nf(o-l)<1e-6?(o+l)/2:rf(x,m),R=t(C,E),N=R[0],T=R[1],A=N-r,S=T-i,k=v*A-y*S;(k*k/b>n||nf((y*A+v*S)/b-.5)>.3||u*h+a*d+c*p<Wh)&&(e(r,i,o,u,a,c,N,T,C,m/=M,x/=M,w,g,_),_.point(N,T),e(N,T,C,m,x,w,f,s,l,h,d,p,g,_))}}return function(n){var r,i,o,u,a,c,f,s,l,h,d,p,g={point:_,lineStart:y,lineEnd:b,polygonStart:function(){n.polygonStart(),g.lineStart=m},polygonEnd:function(){n.polygonEnd(),g.lineStart=y}};function _(e,r){e=t(e,r),n.point(e[0],e[1])}function y(){s=NaN,g.point=v,n.lineStart()}function v(r,i){var o=Zf([r,i]),u=t(r,i);e(s,l,f,h,d,p,s=u[0],l=u[1],f=r,h=o[0],d=o[1],p=o[2],16,n),n.point(s,l)}function b(){g.point=_,n.lineEnd()}function m(){y(),g.point=x,g.lineEnd=w}function x(t,n){v(r=t,n),i=s,o=l,u=h,a=d,c=p,g.point=v}function w(){e(s,l,f,h,d,p,i,o,r,u,a,c,16,n),g.lineEnd=b,b()}return g}}(t,n):function(t){return qh({point:function(n,e){n=t(n,e),this.stream.point(n[0],n[1])}})}(t)};var $h=qh({point:function(t,n){this.stream.point(t*tf,n*tf)}});function Qh(t,n,e,r,i,o){if(!o)return function(t,n,e,r,i){function o(o,u){return[n+t*(o*=r),e-t*(u*=i)]}return o.invert=function(o,u){return[(o-n)/t*r,(e-u)/t*i]},o}(t,n,e,r,i);var u=of(o),a=lf(o),c=u*t,f=a*t,s=u/t,l=a/t,h=(a*e-u*n)/t,d=(a*n+u*e)/t;function p(t,o){return[c*(t*=r)-f*(o*=i)+n,e-f*t-c*o]}return p.invert=function(t,n){return[r*(s*t-l*n+h),i*(d-l*t-s*n)]},p}function Jh(t){return td((function(){return t}))()}function td(t){var n,e,r,i,o,u,a,c,f,s,l=150,h=480,d=250,p=0,g=0,_=0,y=0,v=0,b=0,m=1,x=1,w=null,M=fl,E=null,C=Hl,R=.5;function N(t){return c(t[0]*tf,t[1]*tf)}function T(t){return(t=c.invert(t[0],t[1]))&&[t[0]*Jc,t[1]*Jc]}function A(){var t=Qh(l,0,0,m,x,b).apply(null,n(p,g)),r=Qh(l,h-t[0],d-t[1],m,x,b);return e=Gs(_,y,v),a=Hs(n,r),c=Hs(e,a),u=Zh(a,R),S()}function S(){return f=s=null,N}return N.stream=function(t){return f&&s===t?f:f=$h(function(t){return qh({point:function(n,e){var r=t(n,e);return this.stream.point(r[0],r[1])}})}(e)(M(u(C(s=t)))))},N.preclip=function(t){return arguments.length?(M=t,w=void 0,S()):M},N.postclip=function(t){return arguments.length?(C=t,E=r=i=o=null,S()):C},N.clipAngle=function(t){return arguments.length?(M=+t?sl(w=t*tf):(w=null,fl),S()):w*Jc},N.clipExtent=function(t){return arguments.length?(C=null==t?(E=r=i=o=null,Hl):ll(E=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),S()):null==E?null:[[E,r],[i,o]]},N.scale=function(t){return arguments.length?(l=+t,A()):l},N.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],A()):[h,d]},N.center=function(t){return arguments.length?(p=t[0]%360*tf,g=t[1]%360*tf,A()):[p*Jc,g*Jc]},N.rotate=function(t){return arguments.length?(_=t[0]%360*tf,y=t[1]%360*tf,v=t.length>2?t[2]%360*tf:0,A()):[_*Jc,y*Jc,v*Jc]},N.angle=function(t){return arguments.length?(b=t%360*tf,A()):b*Jc},N.reflectX=function(t){return arguments.length?(m=t?-1:1,A()):m<0},N.reflectY=function(t){return arguments.length?(x=t?-1:1,A()):x<0},N.precision=function(t){return arguments.length?(u=Zh(a,R=t*t),S()):df(R)},N.fitExtent=function(t,n){return Gh(N,t,n)},N.fitSize=function(t,n){return Xh(N,t,n)},N.fitWidth=function(t,n){return Vh(N,t,n)},N.fitHeight=function(t,n){return Kh(N,t,n)},function(){return n=t.apply(this,arguments),N.invert=n.invert&&T,A()}}function nd(t){var n=0,e=Wc/3,r=td(t),i=r(n,e);return i.parallels=function(t){return arguments.length?r(n=t[0]*tf,e=t[1]*tf):[n*Jc,e*Jc]},i}function ed(t,n){var e=lf(t),r=(e+lf(n))/2;if(nf(r)<1e-6)return function(t){var n=of(t);function e(t,e){return[t*n,lf(e)/n]}return e.invert=function(t,e){return[t/n,_f(e*n)]},e}(t);var i=1+e*(2*r-e),o=df(i)/r;function u(t,n){var e=df(i-2*r*lf(n))/r;return[e*lf(t*=r),o-e*of(t)]}return u.invert=function(t,n){var e=o-n,u=rf(t,nf(e))*hf(e);return e*r<0&&(u-=Wc*hf(t)*hf(e)),[u/r,_f((i-(t*t+e*e)*r*r)/(2*r))]},u}var rd=function(){return nd(ed).scale(155.424).center([0,33.6442])},id=function(){return rd().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};var od=function(){var t,n,e,r,i,o,u=id(),a=rd().rotate([154,0]).center([-2,58.5]).parallels([55,65]),c=rd().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f={point:function(t,n){o=[t,n]}};function s(t){var n=t[0],u=t[1];return o=null,e.point(n,u),o||(r.point(n,u),o)||(i.point(n,u),o)}function l(){return t=n=null,s}return s.invert=function(t){var n=u.scale(),e=u.translate(),r=(t[0]-e[0])/n,i=(t[1]-e[1])/n;return(i>=.12&&i<.234&&r>=-.425&&r<-.214?a:i>=.166&&i<.234&&r>=-.214&&r<-.115?c:u).invert(t)},s.stream=function(e){return t&&n===e?t:(r=[u.stream(n=e),a.stream(e),c.stream(e)],i=r.length,t={point:function(t,n){for(var e=-1;++e<i;)r[e].point(t,n)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},s.precision=function(t){return arguments.length?(u.precision(t),a.precision(t),c.precision(t),l()):u.precision()},s.scale=function(t){return arguments.length?(u.scale(t),a.scale(.35*t),c.scale(t),s.translate(u.translate())):u.scale()},s.translate=function(t){if(!arguments.length)return u.translate();var n=u.scale(),o=+t[0],s=+t[1];return e=u.translate(t).clipExtent([[o-.455*n,s-.238*n],[o+.455*n,s+.238*n]]).stream(f),r=a.translate([o-.307*n,s+.201*n]).clipExtent([[o-.425*n+1e-6,s+.12*n+1e-6],[o-.214*n-1e-6,s+.234*n-1e-6]]).stream(f),i=c.translate([o-.205*n,s+.212*n]).clipExtent([[o-.214*n+1e-6,s+.166*n+1e-6],[o-.115*n-1e-6,s+.234*n-1e-6]]).stream(f),l()},s.fitExtent=function(t,n){return Gh(s,t,n)},s.fitSize=function(t,n){return Xh(s,t,n)},s.fitWidth=function(t,n){return Vh(s,t,n)},s.fitHeight=function(t,n){return Kh(s,t,n)},s.scale(1070)};function ud(t){return function(n,e){var r=of(n),i=of(e),o=t(r*i);return o===1/0?[2,0]:[o*i*lf(n),o*lf(e)]}}function ad(t){return function(n,e){var r=df(n*n+e*e),i=t(r),o=lf(i),u=of(i);return[rf(n*o,r*u),_f(r&&e*o/r)]}}var cd=ud((function(t){return df(2/(1+t))}));cd.invert=ad((function(t){return 2*_f(t/2)}));var fd=function(){return Jh(cd).scale(124.75).clipAngle(179.999)},sd=ud((function(t){return(t=gf(t))&&t/lf(t)}));sd.invert=ad((function(t){return t}));var ld=function(){return Jh(sd).scale(79.4188).clipAngle(179.999)};function hd(t,n){return[t,ff(pf((Zc+n)/2))]}hd.invert=function(t,n){return[t,2*ef(af(n))-Zc]};var dd=function(){return pd(hd).scale(961/Qc)};function pd(t){var n,e,r,i=Jh(t),o=i.center,u=i.scale,a=i.translate,c=i.clipExtent,f=null;function s(){var o=Wc*u(),a=i(Ws(i.rotate()).invert([0,0]));return c(null==f?[[a[0]-o,a[1]-o],[a[0]+o,a[1]+o]]:t===hd?[[Math.max(a[0]-o,f),n],[Math.min(a[0]+o,e),r]]:[[f,Math.max(a[1]-o,n)],[e,Math.min(a[1]+o,r)]])}return i.scale=function(t){return arguments.length?(u(t),s()):u()},i.translate=function(t){return arguments.length?(a(t),s()):a()},i.center=function(t){return arguments.length?(o(t),s()):o()},i.clipExtent=function(t){return arguments.length?(null==t?f=n=e=r=null:(f=+t[0][0],n=+t[0][1],e=+t[1][0],r=+t[1][1]),s()):null==f?null:[[f,n],[e,r]]},s()}function gd(t){return pf((Zc+t)/2)}function _d(t,n){var e=of(t),r=t===n?lf(t):ff(e/of(n))/ff(gd(n)/gd(t)),i=e*sf(gd(t),r)/r;if(!r)return hd;function o(t,n){i>0?n<1e-6-Zc&&(n=1e-6-Zc):n>Zc-1e-6&&(n=Zc-1e-6);var e=i/sf(gd(n),r);return[e*lf(r*t),i-e*of(r*t)]}return o.invert=function(t,n){var e=i-n,o=hf(r)*df(t*t+e*e),u=rf(t,nf(e))*hf(e);return e*r<0&&(u-=Wc*hf(t)*hf(e)),[u/r,2*ef(sf(i/o,1/r))-Zc]},o}var yd=function(){return nd(_d).scale(109.5).parallels([30,30])};function vd(t,n){return[t,n]}vd.invert=vd;var bd=function(){return Jh(vd).scale(152.63)};function md(t,n){var e=of(t),r=t===n?lf(t):(e-of(n))/(n-t),i=e/r+t;if(nf(r)<1e-6)return vd;function o(t,n){var e=i-n,o=r*t;return[e*lf(o),i-e*of(o)]}return o.invert=function(t,n){var e=i-n,o=rf(t,nf(e))*hf(e);return e*r<0&&(o-=Wc*hf(t)*hf(e)),[o/r,i-hf(r)*df(t*t+e*e)]},o}var xd=function(){return nd(md).scale(131.154).center([0,13.9389])},wd=1.340264,Md=-.081106,Ed=893e-6,Cd=.003796,Rd=df(3)/2;function Nd(t,n){var e=_f(Rd*lf(n)),r=e*e,i=r*r*r;return[t*of(e)/(Rd*(wd+3*Md*r+i*(7*Ed+9*Cd*r))),e*(wd+Md*r+i*(Ed+Cd*r))]}Nd.invert=function(t,n){for(var e,r=n,i=r*r,o=i*i*i,u=0;u<12&&(o=(i=(r-=e=(r*(wd+Md*i+o*(Ed+Cd*i))-n)/(wd+3*Md*i+o*(7*Ed+9*Cd*i)))*r)*i*i,!(nf(e)<1e-12));++u);return[Rd*t*(wd+3*Md*i+o*(7*Ed+9*Cd*i))/of(r),_f(lf(r)/Rd)]};var Td=function(){return Jh(Nd).scale(177.158)};function Ad(t,n){var e=of(n),r=of(t)*e;return[e*lf(t)/r,lf(n)/r]}Ad.invert=ad(ef);var Sd=function(){return Jh(Ad).scale(144.049).clipAngle(60)},kd=function(){var t,n,e,r,i,o,u,a=1,c=0,f=0,s=1,l=1,h=0,d=null,p=1,g=1,_=qh({point:function(t,n){var e=b([t,n]);this.stream.point(e[0],e[1])}}),y=Hl;function v(){return p=a*s,g=a*l,o=u=null,b}function b(e){var r=e[0]*p,i=e[1]*g;if(h){var o=i*t-r*n;r=r*t+i*n,i=o}return[r+c,i+f]}return b.invert=function(e){var r=e[0]-c,i=e[1]-f;if(h){var o=i*t+r*n;r=r*t-i*n,i=o}return[r/p,i/g]},b.stream=function(t){return o&&u===t?o:o=_(y(u=t))},b.postclip=function(t){return arguments.length?(y=t,d=e=r=i=null,v()):y},b.clipExtent=function(t){return arguments.length?(y=null==t?(d=e=r=i=null,Hl):ll(d=+t[0][0],e=+t[0][1],r=+t[1][0],i=+t[1][1]),v()):null==d?null:[[d,e],[r,i]]},b.scale=function(t){return arguments.length?(a=+t,v()):a},b.translate=function(t){return arguments.length?(c=+t[0],f=+t[1],v()):[c,f]},b.angle=function(e){return arguments.length?(n=lf(h=e%360*tf),t=of(h),v()):h*Jc},b.reflectX=function(t){return arguments.length?(s=t?-1:1,v()):s<0},b.reflectY=function(t){return arguments.length?(l=t?-1:1,v()):l<0},b.fitExtent=function(t,n){return Gh(b,t,n)},b.fitSize=function(t,n){return Xh(b,t,n)},b.fitWidth=function(t,n){return Vh(b,t,n)},b.fitHeight=function(t,n){return Kh(b,t,n)},b};function Ud(t,n){var e=n*n,r=e*e;return[t*(.8707-.131979*e+r*(r*(.003971*e-.001529*r)-.013791)),n*(1.007226+e*(.015085+r*(.028874*e-.044475-.005916*r)))]}Ud.invert=function(t,n){var e,r=n,i=25;do{var o=r*r,u=o*o;r-=e=(r*(1.007226+o*(.015085+u*(.028874*o-.044475-.005916*u)))-n)/(1.007226+o*(.045255+u*(.259866*o-.311325-.005916*11*u)))}while(nf(e)>1e-6&&--i>0);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]};var Yd=function(){return Jh(Ud).scale(175.295)};function Dd(t,n){return[of(n)*lf(t),lf(n)]}Dd.invert=ad(_f);var Od=function(){return Jh(Dd).scale(249.5).clipAngle(90.000001)};function Id(t,n){var e=of(n),r=1+of(t)*e;return[e*lf(t)/r,lf(n)/r]}Id.invert=ad((function(t){return 2*ef(t)}));var Pd=function(){return Jh(Id).scale(250).clipAngle(142)};function zd(t,n){return[ff(pf((Zc+n)/2)),-t]}zd.invert=function(t,n){return[-n,2*ef(af(t))-Zc]};var Ld=function(){var t=pd(zd),n=t.center,e=t.rotate;return t.center=function(t){return arguments.length?n([-t[1],t[0]]):[(t=n())[1],-t[0]]},t.rotate=function(t){return arguments.length?e([t[0],t[1],t.length>2?t[2]+90:90]):[(t=e())[0],t[1],t[2]-90]},e([0,0,90]).scale(159.155)};function Fd(t,n){return t.parent===n.parent?1:2}function Bd(t,n){return t+n.x}function qd(t,n){return Math.max(t,n.y)}var Hd=function(){var t=Fd,n=1,e=1,r=!1;function i(i){var o,u=0;i.eachAfter((function(n){var e=n.children;e?(n.x=function(t){return t.reduce(Bd,0)/t.length}(e),n.y=function(t){return 1+t.reduce(qd,0)}(e)):(n.x=o?u+=t(n,o):0,n.y=0,o=n)}));var a=function(t){for(var n;n=t.children;)t=n[0];return t}(i),c=function(t){for(var n;n=t.children;)t=n[n.length-1];return t}(i),f=a.x-t(a,c)/2,s=c.x+t(c,a)/2;return i.eachAfter(r?function(t){t.x=(t.x-i.x)*n,t.y=(i.y-t.y)*e}:function(t){t.x=(t.x-f)/(s-f)*n,t.y=(1-(i.y?t.y/i.y:1))*e})}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i};function jd(t){var n=0,e=t.children,r=e&&e.length;if(r)for(;--r>=0;)n+=e[r].value;else n=1;t.value=n}function Gd(t,n){t instanceof Map?(t=[void 0,t],void 0===n&&(n=Vd)):void 0===n&&(n=Xd);for(var e,r,i,o,u,a=new Zd(t),c=[a];e=c.pop();)if((i=n(e.data))&&(u=(i=Array.from(i)).length))for(e.children=i,o=u-1;o>=0;--o)c.push(r=i[o]=new Zd(i[o])),r.parent=e,r.depth=e.depth+1;return a.eachBefore(Wd)}function Xd(t){return t.children}function Vd(t){return Array.isArray(t)?t[1]:null}function Kd(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function Wd(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function Zd(t){this.data=t,this.depth=this.height=0,this.parent=null}Zd.prototype=Gd.prototype={constructor:Zd,count:function(){return this.eachAfter(jd)},each:function(t,n){let e=-1;for(const r of this)t.call(n,r,++e,this);return this},eachAfter:function(t,n){for(var e,r,i,o=this,u=[o],a=[],c=-1;o=u.pop();)if(a.push(o),e=o.children)for(r=0,i=e.length;r<i;++r)u.push(e[r]);for(;o=a.pop();)t.call(n,o,++c,this);return this},eachBefore:function(t,n){for(var e,r,i=this,o=[i],u=-1;i=o.pop();)if(t.call(n,i,++u,this),e=i.children)for(r=e.length-1;r>=0;--r)o.push(e[r]);return this},find:function(t,n){let e=-1;for(const r of this)if(t.call(n,r,++e,this))return r},sum:function(t){return this.eachAfter((function(n){for(var e=+t(n.data)||0,r=n.children,i=r&&r.length;--i>=0;)e+=r[i].value;n.value=e}))},sort:function(t){return this.eachBefore((function(n){n.children&&n.children.sort(t)}))},path:function(t){for(var n=this,e=function(t,n){if(t===n)return t;var e=t.ancestors(),r=n.ancestors(),i=null;t=e.pop(),n=r.pop();for(;t===n;)i=t,t=e.pop(),n=r.pop();return i}(n,t),r=[n];n!==e;)n=n.parent,r.push(n);for(var i=r.length;t!==e;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function(){return Array.from(this)},leaves:function(){var t=[];return this.eachBefore((function(n){n.children||t.push(n)})),t},links:function(){var t=this,n=[];return t.each((function(e){e!==t&&n.push({source:e.parent,target:e})})),n},copy:function(){return Gd(this).eachBefore(Kd)},[Symbol.iterator]:function*(){var t,n,e,r,i=this,o=[i];do{for(t=o.reverse(),o=[];i=t.pop();)if(yield i,n=i.children)for(e=0,r=n.length;e<r;++e)o.push(n[e])}while(o.length)}};var $d=function(t){for(var n,e,r=0,i=(t=function(t){for(var n,e,r=t.length;r;)e=Math.random()*r--|0,n=t[r],t[r]=t[e],t[e]=n;return t}(Array.from(t))).length,o=[];r<i;)n=t[r],e&&tp(e,n)?++r:(e=ep(o=Qd(o,n)),r=0);return e};function Qd(t,n){var e,r;if(np(n,t))return[n];for(e=0;e<t.length;++e)if(Jd(n,t[e])&&np(rp(t[e],n),t))return[t[e],n];for(e=0;e<t.length-1;++e)for(r=e+1;r<t.length;++r)if(Jd(rp(t[e],t[r]),n)&&Jd(rp(t[e],n),t[r])&&Jd(rp(t[r],n),t[e])&&np(ip(t[e],t[r],n),t))return[t[e],t[r],n];throw new Error}function Jd(t,n){var e=t.r-n.r,r=n.x-t.x,i=n.y-t.y;return e<0||e*e<r*r+i*i}function tp(t,n){var e=t.r-n.r+1e-9*Math.max(t.r,n.r,1),r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function np(t,n){for(var e=0;e<n.length;++e)if(!tp(t,n[e]))return!1;return!0}function ep(t){switch(t.length){case 1:return{x:(n=t[0]).x,y:n.y,r:n.r};case 2:return rp(t[0],t[1]);case 3:return ip(t[0],t[1],t[2])}var n}function rp(t,n){var e=t.x,r=t.y,i=t.r,o=n.x,u=n.y,a=n.r,c=o-e,f=u-r,s=a-i,l=Math.sqrt(c*c+f*f);return{x:(e+o+c/l*s)/2,y:(r+u+f/l*s)/2,r:(l+i+a)/2}}function ip(t,n,e){var r=t.x,i=t.y,o=t.r,u=n.x,a=n.y,c=n.r,f=e.x,s=e.y,l=e.r,h=r-u,d=r-f,p=i-a,g=i-s,_=c-o,y=l-o,v=r*r+i*i-o*o,b=v-u*u-a*a+c*c,m=v-f*f-s*s+l*l,x=d*p-h*g,w=(p*m-g*b)/(2*x)-r,M=(g*_-p*y)/x,E=(d*b-h*m)/(2*x)-i,C=(h*y-d*_)/x,R=M*M+C*C-1,N=2*(o+w*M+E*C),T=w*w+E*E-o*o,A=-(R?(N+Math.sqrt(N*N-4*R*T))/(2*R):T/N);return{x:r+w+M*A,y:i+E+C*A,r:A}}function op(t,n,e){var r,i,o,u,a=t.x-n.x,c=t.y-n.y,f=a*a+c*c;f?(i=n.r+e.r,i*=i,u=t.r+e.r,i>(u*=u)?(r=(f+u-i)/(2*f),o=Math.sqrt(Math.max(0,u/f-r*r)),e.x=t.x-r*a-o*c,e.y=t.y-r*c+o*a):(r=(f+i-u)/(2*f),o=Math.sqrt(Math.max(0,i/f-r*r)),e.x=n.x+r*a-o*c,e.y=n.y+r*c+o*a)):(e.x=n.x+e.r,e.y=n.y)}function up(t,n){var e=t.r+n.r-1e-6,r=n.x-t.x,i=n.y-t.y;return e>0&&e*e>r*r+i*i}function ap(t){var n=t._,e=t.next._,r=n.r+e.r,i=(n.x*e.r+e.x*n.r)/r,o=(n.y*e.r+e.y*n.r)/r;return i*i+o*o}function cp(t){this._=t,this.next=null,this.previous=null}function fp(t){if(!(o=(n=t,t="object"==typeof n&&"length"in n?n:Array.from(n)).length))return 0;var n,e,r,i,o,u,a,c,f,s,l,h;if((e=t[0]).x=0,e.y=0,!(o>1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(o>2))return e.r+r.r;op(r,e,i=t[2]),e=new cp(e),r=new cp(r),i=new cp(i),e.next=i.previous=r,r.next=e.previous=i,i.next=r.previous=e;t:for(c=3;c<o;++c){op(e._,r._,i=t[c]),i=new cp(i),f=r.next,s=e.previous,l=r._.r,h=e._.r;do{if(l<=h){if(up(f._,i._)){r=f,e.next=r,r.previous=e,--c;continue t}l+=f._.r,f=f.next}else{if(up(s._,i._)){(e=s).next=r,r.previous=e,--c;continue t}h+=s._.r,s=s.previous}}while(f!==s.next);for(i.previous=e,i.next=r,e.next=r.previous=r=i,u=ap(e);(i=i.next)!==r;)(a=ap(i))<u&&(e=i,u=a);r=e.next}for(e=[r._],i=r;(i=i.next)!==r;)e.push(i._);for(i=$d(e),c=0;c<o;++c)(e=t[c]).x-=i.x,e.y-=i.y;return i.r}var sp=function(t){return fp(t),t};function lp(t){return null==t?null:hp(t)}function hp(t){if("function"!=typeof t)throw new Error;return t}function dp(){return 0}var pp=function(t){return function(){return t}};function gp(t){return Math.sqrt(t.value)}var _p=function(){var t=null,n=1,e=1,r=dp;function i(i){return i.x=n/2,i.y=e/2,t?i.eachBefore(yp(t)).eachAfter(vp(r,.5)).eachBefore(bp(1)):i.eachBefore(yp(gp)).eachAfter(vp(dp,1)).eachAfter(vp(r,i.r/Math.min(n,e))).eachBefore(bp(Math.min(n,e)/(2*i.r))),i}return i.radius=function(n){return arguments.length?(t=lp(n),i):t},i.size=function(t){return arguments.length?(n=+t[0],e=+t[1],i):[n,e]},i.padding=function(t){return arguments.length?(r="function"==typeof t?t:pp(+t),i):r},i};function yp(t){return function(n){n.children||(n.r=Math.max(0,+t(n)||0))}}function vp(t,n){return function(e){if(r=e.children){var r,i,o,u=r.length,a=t(e)*n||0;if(a)for(i=0;i<u;++i)r[i].r+=a;if(o=fp(r),a)for(i=0;i<u;++i)r[i].r-=a;e.r=o+a}}}function bp(t){return function(n){var e=n.parent;n.r*=t,e&&(n.x=e.x+t*n.x,n.y=e.y+t*n.y)}}var mp=function(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)},xp=function(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,f=t.value&&(r-n)/t.value;++a<c;)(o=u[a]).y0=e,o.y1=i,o.x0=n,o.x1=n+=o.value*f},wp=function(){var t=1,n=1,e=0,r=!1;function i(i){var o=i.height+1;return i.x0=i.y0=e,i.x1=t,i.y1=n/o,i.eachBefore(function(t,n){return function(r){r.children&&xp(r,r.x0,t*(r.depth+1)/n,r.x1,t*(r.depth+2)/n);var i=r.x0,o=r.y0,u=r.x1-e,a=r.y1-e;u<i&&(i=u=(i+u)/2),a<o&&(o=a=(o+a)/2),r.x0=i,r.y0=o,r.x1=u,r.y1=a}}(n,o)),r&&i.eachBefore(mp),i}return i.round=function(t){return arguments.length?(r=!!t,i):r},i.size=function(e){return arguments.length?(t=+e[0],n=+e[1],i):[t,n]},i.padding=function(t){return arguments.length?(e=+t,i):e},i},Mp={depth:-1},Ep={};function Cp(t){return t.id}function Rp(t){return t.parentId}var Np=function(){var t=Cp,n=Rp;function e(e){var r,i,o,u,a,c,f,s=Array.from(e),l=s.length,h=new Map;for(i=0;i<l;++i)r=s[i],a=s[i]=new Zd(r),null!=(c=t(r,i,e))&&(c+="")&&(f=a.id=c,h.set(f,h.has(f)?Ep:a)),null!=(c=n(r,i,e))&&(c+="")&&(a.parent=c);for(i=0;i<l;++i)if(c=(a=s[i]).parent){if(!(u=h.get(c)))throw new Error("missing: "+c);if(u===Ep)throw new Error("ambiguous: "+c);u.children?u.children.push(a):u.children=[a],a.parent=u}else{if(o)throw new Error("multiple roots");o=a}if(!o)throw new Error("no root");if(o.parent=Mp,o.eachBefore((function(t){t.depth=t.parent.depth+1,--l})).eachBefore(Wd),o.parent=null,l>0)throw new Error("cycle");return o}return e.id=function(n){return arguments.length?(t=hp(n),e):t},e.parentId=function(t){return arguments.length?(n=hp(t),e):n},e};function Tp(t,n){return t.parent===n.parent?1:2}function Ap(t){var n=t.children;return n?n[0]:t.t}function Sp(t){var n=t.children;return n?n[n.length-1]:t.t}function kp(t,n,e){var r=e/(n.i-t.i);n.c-=r,n.s+=e,t.c+=r,n.z+=e,n.m+=e}function Up(t,n,e){return t.a.parent===n.parent?t.a:e}function Yp(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}Yp.prototype=Object.create(Zd.prototype);var Dp=function(){var t=Tp,n=1,e=1,r=null;function i(i){var c=function(t){for(var n,e,r,i,o,u=new Yp(t,0),a=[u];n=a.pop();)if(r=n._.children)for(n.children=new Array(o=r.length),i=o-1;i>=0;--i)a.push(e=n.children[i]=new Yp(r[i],i)),e.parent=n;return(u.parent=new Yp(null,0)).children=[u],u}(i);if(c.eachAfter(o),c.parent.m=-c.z,c.eachBefore(u),r)i.eachBefore(a);else{var f=i,s=i,l=i;i.eachBefore((function(t){t.x<f.x&&(f=t),t.x>s.x&&(s=t),t.depth>l.depth&&(l=t)}));var h=f===s?1:t(f,s)/2,d=h-f.x,p=n/(s.x+h+d),g=e/(l.depth||1);i.eachBefore((function(t){t.x=(t.x+d)*p,t.y=t.depth*g}))}return i}function o(n){var e=n.children,r=n.parent.children,i=n.i?r[n.i-1]:null;if(e){!function(t){for(var n,e=0,r=0,i=t.children,o=i.length;--o>=0;)(n=i[o]).z+=e,n.m+=e,e+=n.s+(r+=n.c)}(n);var o=(e[0].z+e[e.length-1].z)/2;i?(n.z=i.z+t(n._,i._),n.m=n.z-o):n.z=o}else i&&(n.z=i.z+t(n._,i._));n.parent.A=function(n,e,r){if(e){for(var i,o=n,u=n,a=e,c=o.parent.children[0],f=o.m,s=u.m,l=a.m,h=c.m;a=Sp(a),o=Ap(o),a&&o;)c=Ap(c),(u=Sp(u)).a=n,(i=a.z+l-o.z-f+t(a._,o._))>0&&(kp(Up(a,n,r),n,i),f+=i,s+=i),l+=a.m,f+=o.m,h+=c.m,s+=u.m;a&&!Sp(u)&&(u.t=a,u.m+=l-s),o&&!Ap(c)&&(c.t=o,c.m+=f-h,r=n)}return r}(n,i,n.parent.A||r[0])}function u(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function a(t){t.x*=n,t.y=t.depth*e}return i.separation=function(n){return arguments.length?(t=n,i):t},i.size=function(t){return arguments.length?(r=!1,n=+t[0],e=+t[1],i):r?null:[n,e]},i.nodeSize=function(t){return arguments.length?(r=!0,n=+t[0],e=+t[1],i):r?[n,e]:null},i},Op=function(t,n,e,r,i){for(var o,u=t.children,a=-1,c=u.length,f=t.value&&(i-e)/t.value;++a<c;)(o=u[a]).x0=n,o.x1=r,o.y0=e,o.y1=e+=o.value*f},Ip=(1+Math.sqrt(5))/2;function Pp(t,n,e,r,i,o){for(var u,a,c,f,s,l,h,d,p,g,_,y=[],v=n.children,b=0,m=0,x=v.length,w=n.value;b<x;){c=i-e,f=o-r;do{s=v[m++].value}while(!s&&m<x);for(l=h=s,_=s*s*(g=Math.max(f/c,c/f)/(w*t)),p=Math.max(h/_,_/l);m<x;++m){if(s+=a=v[m].value,a<l&&(l=a),a>h&&(h=a),_=s*s*g,(d=Math.max(h/_,_/l))>p){s-=a;break}p=d}y.push(u={value:s,dice:c<f,children:v.slice(b,m)}),u.dice?xp(u,e,r,i,w?r+=f*s/w:o):Op(u,e,r,w?e+=c*s/w:i,o),w-=s,b=m}return y}var zp=function t(n){function e(t,e,r,i,o){Pp(n,t,e,r,i,o)}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Ip),Lp=function(){var t=zp,n=!1,e=1,r=1,i=[0],o=dp,u=dp,a=dp,c=dp,f=dp;function s(t){return t.x0=t.y0=0,t.x1=e,t.y1=r,t.eachBefore(l),i=[0],n&&t.eachBefore(mp),t}function l(n){var e=i[n.depth],r=n.x0+e,s=n.y0+e,l=n.x1-e,h=n.y1-e;l<r&&(r=l=(r+l)/2),h<s&&(s=h=(s+h)/2),n.x0=r,n.y0=s,n.x1=l,n.y1=h,n.children&&(e=i[n.depth+1]=o(n)/2,r+=f(n)-e,s+=u(n)-e,(l-=a(n)-e)<r&&(r=l=(r+l)/2),(h-=c(n)-e)<s&&(s=h=(s+h)/2),t(n,r,s,l,h))}return s.round=function(t){return arguments.length?(n=!!t,s):n},s.size=function(t){return arguments.length?(e=+t[0],r=+t[1],s):[e,r]},s.tile=function(n){return arguments.length?(t=hp(n),s):t},s.padding=function(t){return arguments.length?s.paddingInner(t).paddingOuter(t):s.paddingInner()},s.paddingInner=function(t){return arguments.length?(o="function"==typeof t?t:pp(+t),s):o},s.paddingOuter=function(t){return arguments.length?s.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):s.paddingTop()},s.paddingTop=function(t){return arguments.length?(u="function"==typeof t?t:pp(+t),s):u},s.paddingRight=function(t){return arguments.length?(a="function"==typeof t?t:pp(+t),s):a},s.paddingBottom=function(t){return arguments.length?(c="function"==typeof t?t:pp(+t),s):c},s.paddingLeft=function(t){return arguments.length?(f="function"==typeof t?t:pp(+t),s):f},s},Fp=function(t,n,e,r,i){var o,u,a=t.children,c=a.length,f=new Array(c+1);for(f[0]=u=o=0;o<c;++o)f[o+1]=u+=a[o].value;!function t(n,e,r,i,o,u,c){if(n>=e-1){var s=a[n];return s.x0=i,s.y0=o,s.x1=u,void(s.y1=c)}var l=f[n],h=r/2+l,d=n+1,p=e-1;for(;d<p;){var g=d+p>>>1;f[g]<h?d=g+1:p=g}h-f[d-1]<f[d]-h&&n+1<d&&--d;var _=f[d]-l,y=r-_;if(u-i>c-o){var v=r?(i*y+u*_)/r:u;t(n,d,_,i,o,v,c),t(d,e,y,v,o,u,c)}else{var b=r?(o*y+c*_)/r:c;t(n,d,_,i,o,u,b),t(d,e,y,i,b,u,c)}}(0,c,t.value,n,e,r,i)},Bp=function(t,n,e,r,i){(1&t.depth?Op:xp)(t,n,e,r,i)},qp=function t(n){function e(t,e,r,i,o){if((u=t._squarify)&&u.ratio===n)for(var u,a,c,f,s,l=-1,h=u.length,d=t.value;++l<h;){for(c=(a=u[l]).children,f=a.value=0,s=c.length;f<s;++f)a.value+=c[f].value;a.dice?xp(a,e,r,i,d?r+=(o-r)*a.value/d:o):Op(a,e,r,d?e+=(i-e)*a.value/d:i,o),d-=a.value}else t._squarify=u=Pp(n,t,e,r,i,o),u.ratio=n}return e.ratio=function(n){return t((n=+n)>1?n:1)},e}(Ip),Hp=function(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}},jp=function(t,n){var e=ze(+t,+n);return function(t){var n=e(t);return n-360*Math.floor(n/360)}},Gp=function(t,n){return t=+t,n=+n,function(e){return Math.round(t*(1-e)+n*e)}};function Xp(t){return((t=Math.exp(t))+1/t)/2}var Vp=function t(n,e,r){function i(t,i){var o,u,a=t[0],c=t[1],f=t[2],s=i[0],l=i[1],h=i[2],d=s-a,p=l-c,g=d*d+p*p;if(g<1e-12)u=Math.log(h/f)/n,o=function(t){return[a+t*d,c+t*p,f*Math.exp(n*t*u)]};else{var _=Math.sqrt(g),y=(h*h-f*f+r*g)/(2*f*e*_),v=(h*h-f*f-r*g)/(2*h*e*_),b=Math.log(Math.sqrt(y*y+1)-y),m=Math.log(Math.sqrt(v*v+1)-v);u=(m-b)/n,o=function(t){var r,i=t*u,o=Xp(b),s=f/(e*_)*(o*(r=n*i+b,((r=Math.exp(2*r))-1)/(r+1))-function(t){return((t=Math.exp(t))-1/t)/2}(b));return[a+s*d,c+s*p,f*o/Xp(n*i+b)]}}return o.duration=1e3*u*n/Math.SQRT2,o}return i.rho=function(n){var e=Math.max(.001,+n),r=e*e;return t(e,r,r*r)},i}(Math.SQRT2,2,4);function Kp(t){return function(n,e){var r=t((n=Se(n)).h,(e=Se(e)).h),i=Fe(n.s,e.s),o=Fe(n.l,e.l),u=Fe(n.opacity,e.opacity);return function(t){return n.h=r(t),n.s=i(t),n.l=o(t),n.opacity=u(t),n+""}}}var Wp=Kp(ze),Zp=Kp(Fe);function $p(t,n){var e=Fe((t=Oo(t)).l,(n=Oo(n)).l),r=Fe(t.a,n.a),i=Fe(t.b,n.b),o=Fe(t.opacity,n.opacity);return function(n){return t.l=e(n),t.a=r(n),t.b=i(n),t.opacity=o(n),t+""}}function Qp(t){return function(n,e){var r=t((n=Ho(n)).h,(e=Ho(e)).h),i=Fe(n.c,e.c),o=Fe(n.l,e.l),u=Fe(n.opacity,e.opacity);return function(t){return n.h=r(t),n.c=i(t),n.l=o(t),n.opacity=u(t),n+""}}}var Jp=Qp(ze),tg=Qp(Fe);function ng(t){return function n(e){function r(n,r){var i=t((n=$o(n)).h,(r=$o(r)).h),o=Fe(n.s,r.s),u=Fe(n.l,r.l),a=Fe(n.opacity,r.opacity);return function(t){return n.h=i(t),n.s=o(t),n.l=u(Math.pow(t,e)),n.opacity=a(t),n+""}}return e=+e,r.gamma=n,r}(1)}var eg=ng(ze),rg=ng(Fe);function ig(t,n){void 0===n&&(n=t,t=rr);for(var e=0,r=n.length-1,i=n[0],o=new Array(r<0?0:r);e<r;)o[e]=t(i,i=n[++e]);return function(t){var n=Math.max(0,Math.min(r-1,Math.floor(t*=r)));return o[n](t-n)}}var og=function(t,n){for(var e=new Array(n),r=0;r<n;++r)e[r]=t(r/(n-1));return e},ug=function(t){for(var n,e=-1,r=t.length,i=t[r-1],o=0;++e<r;)n=i,i=t[e],o+=n[1]*i[0]-n[0]*i[1];return o/2},ag=function(t){for(var n,e,r=-1,i=t.length,o=0,u=0,a=t[i-1],c=0;++r<i;)n=a,a=t[r],c+=e=n[0]*a[1]-a[0]*n[1],o+=(n[0]+a[0])*e,u+=(n[1]+a[1])*e;return[o/(c*=3),u/c]};function cg(t,n){return t[0]-n[0]||t[1]-n[1]}function fg(t){const n=t.length,e=[0,1];let r,i=2;for(r=2;r<n;++r){for(;i>1&&(o=t[e[i-2]],u=t[e[i-1]],a=t[r],(u[0]-o[0])*(a[1]-o[1])-(u[1]-o[1])*(a[0]-o[0])<=0);)--i;e[i++]=r}var o,u,a;return e.slice(0,i)}var sg=function(t){if((e=t.length)<3)return null;var n,e,r=new Array(e),i=new Array(e);for(n=0;n<e;++n)r[n]=[+t[n][0],+t[n][1],n];for(r.sort(cg),n=0;n<e;++n)i[n]=[r[n][0],-r[n][1]];var o=fg(r),u=fg(i),a=u[0]===o[0],c=u[u.length-1]===o[o.length-1],f=[];for(n=o.length-1;n>=0;--n)f.push(t[r[o[n]][2]]);for(n=+a;n<u.length-c;++n)f.push(t[r[u[n]][2]]);return f},lg=function(t,n){for(var e,r,i=t.length,o=t[i-1],u=n[0],a=n[1],c=o[0],f=o[1],s=!1,l=0;l<i;++l)e=(o=t[l])[0],(r=o[1])>a!=f>a&&u<(c-e)*(a-r)/(f-r)+e&&(s=!s),c=e,f=r;return s},hg=function(t){for(var n,e,r=-1,i=t.length,o=t[i-1],u=o[0],a=o[1],c=0;++r<i;)n=u,e=a,n-=u=(o=t[r])[0],e-=a=o[1],c+=Math.hypot(n,e);return c},dg=Math.random,pg=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(dg),gg=function t(n){function e(t,e){return arguments.length<2&&(e=t,t=0),t=Math.floor(t),e=Math.floor(e)-t,function(){return Math.floor(n()*e+t)}}return e.source=t,e}(dg),_g=function t(n){function e(t,e){var r,i;return t=null==t?0:+t,e=null==e?1:+e,function(){var o;if(null!=r)o=r,r=null;else do{r=2*n()-1,o=2*n()-1,i=r*r+o*o}while(!i||i>1);return t+e*o*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(dg),yg=function t(n){var e=_g.source(n);function r(){var t=e.apply(this,arguments);return function(){return Math.exp(t())}}return r.source=t,r}(dg),vg=function t(n){function e(t){return(t=+t)<=0?()=>0:function(){for(var e=0,r=t;r>1;--r)e+=n();return e+r*n()}}return e.source=t,e}(dg),bg=function t(n){var e=vg.source(n);function r(t){if(0==(t=+t))return n;var r=e(t);return function(){return r()/t}}return r.source=t,r}(dg),mg=function t(n){function e(t){return function(){return-Math.log1p(-n())/t}}return e.source=t,e}(dg),xg=function t(n){function e(t){if((t=+t)<0)throw new RangeError("invalid alpha");return t=1/-t,function(){return Math.pow(1-n(),t)}}return e.source=t,e}(dg),wg=function t(n){function e(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return function(){return Math.floor(n()+t)}}return e.source=t,e}(dg),Mg=function t(n){function e(t){if((t=+t)<0||t>1)throw new RangeError("invalid p");return 0===t?()=>1/0:1===t?()=>1:(t=Math.log1p(-t),function(){return 1+Math.floor(Math.log1p(-n())/t)})}return e.source=t,e}(dg),Eg=function t(n){var e=_g.source(n)();function r(t,r){if((t=+t)<0)throw new RangeError("invalid k");if(0===t)return()=>0;if(r=null==r?1:+r,1===t)return()=>-Math.log1p(-n())*r;var i=(t<1?t+1:t)-1/3,o=1/(3*Math.sqrt(i)),u=t<1?()=>Math.pow(n(),1/t):()=>1;return function(){do{do{var t=e(),a=1+o*t}while(a<=0);a*=a*a;var c=1-n()}while(c>=1-.0331*t*t*t*t&&Math.log(c)>=.5*t*t+i*(1-a+Math.log(a)));return i*a*u()*r}}return r.source=t,r}(dg),Cg=function t(n){var e=Eg.source(n);function r(t,n){var r=e(t),i=e(n);return function(){var t=r();return 0===t?0:t/(t+i())}}return r.source=t,r}(dg),Rg=function t(n){var e=Mg.source(n),r=Cg.source(n);function i(t,n){return t=+t,(n=+n)>=1?()=>t:n<=0?()=>0:function(){for(var i=0,o=t,u=n;o*u>16&&o*(1-u)>16;){var a=Math.floor((o+1)*u),c=r(a,o-a+1)();c<=u?(i+=a,o-=a,u=(u-c)/(1-c)):(o=a-1,u/=c)}for(var f=u<.5,s=e(f?u:1-u),l=s(),h=0;l<=o;++h)l+=s();return i+(f?h:o-h)}}return i.source=t,i}(dg),Ng=function t(n){function e(t,e,r){var i;return 0==(t=+t)?i=t=>-Math.log(t):(t=1/t,i=n=>Math.pow(n,t)),e=null==e?0:+e,r=null==r?1:+r,function(){return e+r*i(-Math.log1p(-n()))}}return e.source=t,e}(dg),Tg=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,function(){return t+e*Math.tan(Math.PI*n())}}return e.source=t,e}(dg),Ag=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,function(){var r=n();return t+e*Math.log(r/(1-r))}}return e.source=t,e}(dg),Sg=function t(n){var e=Eg.source(n),r=Rg.source(n);function i(t){return function(){for(var i=0,o=t;o>16;){var u=Math.floor(.875*o),a=e(u)();if(a>o)return i+r(u-1,o/a)();i+=u,o-=a}for(var c=-Math.log1p(-n()),f=0;c<=o;++f)c-=Math.log1p(-n());return i+f}}return i.source=t,i}(dg);const kg=1/4294967296;function Ug(t=Math.random()){let n=0|(0<=t&&t<1?t/kg:Math.abs(t));return()=>(n=1664525*n+1013904223|0,kg*(n>>>0))}function Yg(t,n){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(n).domain(t)}return this}function Dg(t,n){switch(arguments.length){case 0:break;case 1:"function"==typeof t?this.interpolator(t):this.range(t);break;default:this.domain(t),"function"==typeof n?this.interpolator(n):this.range(n)}return this}const Og=Symbol("implicit");function Ig(){var t=new Map,n=[],e=[],r=Og;function i(i){var o=i+"",u=t.get(o);if(!u){if(r!==Og)return r;t.set(o,u=n.push(i))}return e[(u-1)%e.length]}return i.domain=function(e){if(!arguments.length)return n.slice();n=[],t=new Map;for(const r of e){const e=r+"";t.has(e)||t.set(e,n.push(r))}return i},i.range=function(t){return arguments.length?(e=Array.from(t),i):e.slice()},i.unknown=function(t){return arguments.length?(r=t,i):r},i.copy=function(){return Ig(n,e).unknown(r)},Yg.apply(i,arguments),i}function Pg(){var t,n,e=Ig().unknown(void 0),r=e.domain,i=e.range,o=0,u=1,a=!1,c=0,f=0,s=.5;function l(){var e=r().length,l=u<o,h=l?u:o,d=l?o:u;t=(d-h)/Math.max(1,e-c+2*f),a&&(t=Math.floor(t)),h+=(d-h-t*(e-c))*s,n=t*(1-c),a&&(h=Math.round(h),n=Math.round(n));var p=ut(e).map((function(n){return h+t*n}));return i(l?p.reverse():p)}return delete e.unknown,e.domain=function(t){return arguments.length?(r(t),l()):r()},e.range=function(t){return arguments.length?([o,u]=t,o=+o,u=+u,l()):[o,u]},e.rangeRound=function(t){return[o,u]=t,o=+o,u=+u,a=!0,l()},e.bandwidth=function(){return n},e.step=function(){return t},e.round=function(t){return arguments.length?(a=!!t,l()):a},e.padding=function(t){return arguments.length?(c=Math.min(1,f=+t),l()):c},e.paddingInner=function(t){return arguments.length?(c=Math.min(1,t),l()):c},e.paddingOuter=function(t){return arguments.length?(f=+t,l()):f},e.align=function(t){return arguments.length?(s=Math.max(0,Math.min(1,t)),l()):s},e.copy=function(){return Pg(r(),[o,u]).round(a).paddingInner(c).paddingOuter(f).align(s)},Yg.apply(l(),arguments)}function zg(t){var n=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return zg(n())},t}function Lg(){return zg(Pg.apply(null,arguments).paddingInner(1))}var Fg=function(t){return+t},Bg=[0,1];function qg(t){return t}function Hg(t,n){return(n-=t=+t)?function(e){return(e-t)/n}:(e=isNaN(n)?NaN:.5,function(){return e});var e}function jg(t,n,e){var r=t[0],i=t[1],o=n[0],u=n[1];return i<r?(r=Hg(i,r),o=e(u,o)):(r=Hg(r,i),o=e(o,u)),function(t){return o(r(t))}}function Gg(t,n,e){var r=Math.min(t.length,n.length)-1,i=new Array(r),o=new Array(r),u=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),n=n.slice().reverse());++u<r;)i[u]=Hg(t[u],t[u+1]),o[u]=e(n[u],n[u+1]);return function(n){var e=l(t,n,1,r)-1;return o[e](i[e](n))}}function Xg(t,n){return n.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Vg(){var t,n,e,r,i,o,u=Bg,a=Bg,c=rr,f=qg;function s(){var t,n,e,c=Math.min(u.length,a.length);return f!==qg&&(t=u[0],n=u[c-1],t>n&&(e=t,t=n,n=e),f=function(e){return Math.max(t,Math.min(n,e))}),r=c>2?Gg:jg,i=o=null,l}function l(n){return isNaN(n=+n)?e:(i||(i=r(u.map(t),a,c)))(t(f(n)))}return l.invert=function(e){return f(n((o||(o=r(a,u.map(t),Ze)))(e)))},l.domain=function(t){return arguments.length?(u=Array.from(t,Fg),s()):u.slice()},l.range=function(t){return arguments.length?(a=Array.from(t),s()):a.slice()},l.rangeRound=function(t){return a=Array.from(t),c=Gp,s()},l.clamp=function(t){return arguments.length?(f=!!t||qg,s()):f!==qg},l.interpolate=function(t){return arguments.length?(c=t,s()):c},l.unknown=function(t){return arguments.length?(e=t,l):e},function(e,r){return t=e,n=r,s()}}function Kg(){return Vg()(qg,qg)}var Wg=function(t,n,e,r){var i,o=B(t,n,e);switch((r=Yc(null==r?",f":r)).type){case"s":var u=Math.max(Math.abs(t),Math.abs(n));return null!=r.precision||isNaN(i=Vc(o,u))||(r.precision=i),zc(r,u);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=Kc(o,Math.max(Math.abs(t),Math.abs(n))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=Xc(o))||(r.precision=i-2*("%"===r.type))}return Pc(r)};function Zg(t){var n=t.domain;return t.ticks=function(t){var e=n();return L(e[0],e[e.length-1],null==t?10:t)},t.tickFormat=function(t,e){var r=n();return Wg(r[0],r[r.length-1],null==t?10:t,e)},t.nice=function(e){null==e&&(e=10);var r,i,o=n(),u=0,a=o.length-1,c=o[u],f=o[a],s=10;for(f<c&&(i=c,c=f,f=i,i=u,u=a,a=i);s-- >0;){if((i=F(c,f,e))===r)return o[u]=c,o[a]=f,n(o);if(i>0)c=Math.floor(c/i)*i,f=Math.ceil(f/i)*i;else{if(!(i<0))break;c=Math.ceil(c*i)/i,f=Math.floor(f*i)/i}r=i}return t},t}function $g(){var t=Kg();return t.copy=function(){return Xg(t,$g())},Yg.apply(t,arguments),Zg(t)}function Qg(t){var n;function e(t){return isNaN(t=+t)?n:t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=Array.from(n,Fg),e):t.slice()},e.unknown=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return Qg(t).unknown(n)},t=arguments.length?Array.from(t,Fg):[0,1],Zg(e)}var Jg=function(t,n){var e,r=0,i=(t=t.slice()).length-1,o=t[r],u=t[i];return u<o&&(e=r,r=i,i=e,e=o,o=u,u=e),t[r]=n.floor(o),t[i]=n.ceil(u),t};function t_(t){return Math.log(t)}function n_(t){return Math.exp(t)}function e_(t){return-Math.log(-t)}function r_(t){return-Math.exp(-t)}function i_(t){return isFinite(t)?+("1e"+t):t<0?0:t}function o_(t){return function(n){return-t(-n)}}function u_(t){var n,e,r=t(t_,n_),i=r.domain,o=10;function u(){return n=function(t){return t===Math.E?Math.log:10===t&&Math.log10||2===t&&Math.log2||(t=Math.log(t),function(n){return Math.log(n)/t})}(o),e=function(t){return 10===t?i_:t===Math.E?Math.exp:function(n){return Math.pow(t,n)}}(o),i()[0]<0?(n=o_(n),e=o_(e),t(e_,r_)):t(t_,n_),r}return r.base=function(t){return arguments.length?(o=+t,u()):o},r.domain=function(t){return arguments.length?(i(t),u()):i()},r.ticks=function(t){var r,u=i(),a=u[0],c=u[u.length-1];(r=c<a)&&(h=a,a=c,c=h);var f,s,l,h=n(a),d=n(c),p=null==t?10:+t,g=[];if(!(o%1)&&d-h<p){if(h=Math.floor(h),d=Math.ceil(d),a>0){for(;h<=d;++h)for(s=1,f=e(h);s<o;++s)if(!((l=f*s)<a)){if(l>c)break;g.push(l)}}else for(;h<=d;++h)for(s=o-1,f=e(h);s>=1;--s)if(!((l=f*s)<a)){if(l>c)break;g.push(l)}2*g.length<p&&(g=L(a,c,p))}else g=L(h,d,Math.min(d-h,p)).map(e);return r?g.reverse():g},r.tickFormat=function(t,i){if(null==i&&(i=10===o?".0e":","),"function"!=typeof i&&(i=Pc(i)),t===1/0)return i;null==t&&(t=10);var u=Math.max(1,o*t/r.ticks().length);return function(t){var r=t/e(Math.round(n(t)));return r*o<o-.5&&(r*=o),r<=u?i(t):""}},r.nice=function(){return i(Jg(i(),{floor:function(t){return e(Math.floor(n(t)))},ceil:function(t){return e(Math.ceil(n(t)))}}))},r}function a_(){var t=u_(Vg()).domain([1,10]);return t.copy=function(){return Xg(t,a_()).base(t.base())},Yg.apply(t,arguments),t}function c_(t){return function(n){return Math.sign(n)*Math.log1p(Math.abs(n/t))}}function f_(t){return function(n){return Math.sign(n)*Math.expm1(Math.abs(n))*t}}function s_(t){var n=1,e=t(c_(n),f_(n));return e.constant=function(e){return arguments.length?t(c_(n=+e),f_(n)):n},Zg(e)}function l_(){var t=s_(Vg());return t.copy=function(){return Xg(t,l_()).constant(t.constant())},Yg.apply(t,arguments)}function h_(t){return function(n){return n<0?-Math.pow(-n,t):Math.pow(n,t)}}function d_(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function p_(t){return t<0?-t*t:t*t}function g_(t){var n=t(qg,qg),e=1;function r(){return 1===e?t(qg,qg):.5===e?t(d_,p_):t(h_(e),h_(1/e))}return n.exponent=function(t){return arguments.length?(e=+t,r()):e},Zg(n)}function __(){var t=g_(Vg());return t.copy=function(){return Xg(t,__()).exponent(t.exponent())},Yg.apply(t,arguments),t}function y_(){return __.apply(null,arguments).exponent(.5)}function v_(t){return Math.sign(t)*t*t}function b_(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function m_(){var t,n=Kg(),e=[0,1],r=!1;function i(e){var i=b_(n(e));return isNaN(i)?t:r?Math.round(i):i}return i.invert=function(t){return n.invert(v_(t))},i.domain=function(t){return arguments.length?(n.domain(t),i):n.domain()},i.range=function(t){return arguments.length?(n.range((e=Array.from(t,Fg)).map(v_)),i):e.slice()},i.rangeRound=function(t){return i.range(t).round(!0)},i.round=function(t){return arguments.length?(r=!!t,i):r},i.clamp=function(t){return arguments.length?(n.clamp(t),i):n.clamp()},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return m_(n.domain(),e).round(r).clamp(n.clamp()).unknown(t)},Yg.apply(i,arguments),Zg(i)}function x_(){var t,n=[],e=[],r=[];function o(){var t=0,i=Math.max(1,e.length);for(r=new Array(i-1);++t<i;)r[t-1]=K(n,t/i);return u}function u(n){return isNaN(n=+n)?t:e[l(r,n)]}return u.invertExtent=function(t){var i=e.indexOf(t);return i<0?[NaN,NaN]:[i>0?r[i-1]:n[0],i<r.length?r[i]:n[n.length-1]]},u.domain=function(t){if(!arguments.length)return n.slice();n=[];for(let e of t)null==e||isNaN(e=+e)||n.push(e);return n.sort(i),o()},u.range=function(t){return arguments.length?(e=Array.from(t),o()):e.slice()},u.unknown=function(n){return arguments.length?(t=n,u):t},u.quantiles=function(){return r.slice()},u.copy=function(){return x_().domain(n).range(e).unknown(t)},Yg.apply(u,arguments)}function w_(){var t,n=0,e=1,r=1,i=[.5],o=[0,1];function u(n){return n<=n?o[l(i,n,0,r)]:t}function a(){var t=-1;for(i=new Array(r);++t<r;)i[t]=((t+1)*e-(t-r)*n)/(r+1);return u}return u.domain=function(t){return arguments.length?([n,e]=t,n=+n,e=+e,a()):[n,e]},u.range=function(t){return arguments.length?(r=(o=Array.from(t)).length-1,a()):o.slice()},u.invertExtent=function(t){var u=o.indexOf(t);return u<0?[NaN,NaN]:u<1?[n,i[0]]:u>=r?[i[r-1],e]:[i[u-1],i[u]]},u.unknown=function(n){return arguments.length?(t=n,u):u},u.thresholds=function(){return i.slice()},u.copy=function(){return w_().domain([n,e]).range(o).unknown(t)},Yg.apply(Zg(u),arguments)}function M_(){var t,n=[.5],e=[0,1],r=1;function i(i){return i<=i?e[l(n,i,0,r)]:t}return i.domain=function(t){return arguments.length?(n=Array.from(t),r=Math.min(n.length,e.length-1),i):n.slice()},i.range=function(t){return arguments.length?(e=Array.from(t),r=Math.min(n.length,e.length-1),i):e.slice()},i.invertExtent=function(t){var r=e.indexOf(t);return[n[r-1],n[r]]},i.unknown=function(n){return arguments.length?(t=n,i):t},i.copy=function(){return M_().domain(n).range(e).unknown(t)},Yg.apply(i,arguments)}var E_=new Date,C_=new Date;function R_(t,n,e,r){function i(n){return t(n=0===arguments.length?new Date:new Date(+n)),n}return i.floor=function(n){return t(n=new Date(+n)),n},i.ceil=function(e){return t(e=new Date(e-1)),n(e,1),t(e),e},i.round=function(t){var n=i(t),e=i.ceil(t);return t-n<e-t?n:e},i.offset=function(t,e){return n(t=new Date(+t),null==e?1:Math.floor(e)),t},i.range=function(e,r,o){var u,a=[];if(e=i.ceil(e),o=null==o?1:Math.floor(o),!(e<r&&o>0))return a;do{a.push(u=new Date(+e)),n(e,o),t(e)}while(u<e&&e<r);return a},i.filter=function(e){return R_((function(n){if(n>=n)for(;t(n),!e(n);)n.setTime(n-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;n(t,-1),!e(t););else for(;--r>=0;)for(;n(t,1),!e(t););}))},e&&(i.count=function(n,r){return E_.setTime(+n),C_.setTime(+r),t(E_),t(C_),Math.floor(e(E_,C_))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(n){return r(n)%t==0}:function(n){return i.count(0,n)%t==0}):i:null}),i}var N_=R_((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,n){t.setFullYear(t.getFullYear()+n)}),(function(t,n){return n.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));N_.every=function(t){return isFinite(t=Math.floor(t))&&t>0?R_((function(n){n.setFullYear(Math.floor(n.getFullYear()/t)*t),n.setMonth(0,1),n.setHours(0,0,0,0)}),(function(n,e){n.setFullYear(n.getFullYear()+e*t)})):null};var T_=N_,A_=N_.range,S_=R_((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,n){t.setMonth(t.getMonth()+n)}),(function(t,n){return n.getMonth()-t.getMonth()+12*(n.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),k_=S_,U_=S_.range;function Y_(t){return R_((function(n){n.setDate(n.getDate()-(n.getDay()+7-t)%7),n.setHours(0,0,0,0)}),(function(t,n){t.setDate(t.getDate()+7*n)}),(function(t,n){return(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var D_=Y_(0),O_=Y_(1),I_=Y_(2),P_=Y_(3),z_=Y_(4),L_=Y_(5),F_=Y_(6),B_=D_.range,q_=O_.range,H_=I_.range,j_=P_.range,G_=z_.range,X_=L_.range,V_=F_.range,K_=R_(t=>t.setHours(0,0,0,0),(t,n)=>t.setDate(t.getDate()+n),(t,n)=>(n-t-6e4*(n.getTimezoneOffset()-t.getTimezoneOffset()))/864e5,t=>t.getDate()-1),W_=K_,Z_=K_.range,$_=R_((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getHours()})),Q_=$_,J_=$_.range,ty=R_((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getMinutes()})),ny=ty,ey=ty.range,ry=R_((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,n){t.setTime(+t+1e3*n)}),(function(t,n){return(n-t)/1e3}),(function(t){return t.getUTCSeconds()})),iy=ry,oy=ry.range,uy=R_((function(){}),(function(t,n){t.setTime(+t+n)}),(function(t,n){return n-t}));uy.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?R_((function(n){n.setTime(Math.floor(n/t)*t)}),(function(n,e){n.setTime(+n+e*t)}),(function(n,e){return(e-n)/t})):uy:null};var ay=uy,cy=uy.range;function fy(t){return R_((function(n){n.setUTCDate(n.getUTCDate()-(n.getUTCDay()+7-t)%7),n.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+7*n)}),(function(t,n){return(n-t)/6048e5}))}var sy=fy(0),ly=fy(1),hy=fy(2),dy=fy(3),py=fy(4),gy=fy(5),_y=fy(6),yy=sy.range,vy=ly.range,by=hy.range,my=dy.range,xy=py.range,wy=gy.range,My=_y.range,Ey=R_((function(t){t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCDate(t.getUTCDate()+n)}),(function(t,n){return(n-t)/864e5}),(function(t){return t.getUTCDate()-1})),Cy=Ey,Ry=Ey.range,Ny=R_((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCFullYear(t.getUTCFullYear()+n)}),(function(t,n){return n.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));Ny.every=function(t){return isFinite(t=Math.floor(t))&&t>0?R_((function(n){n.setUTCFullYear(Math.floor(n.getUTCFullYear()/t)*t),n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0)}),(function(n,e){n.setUTCFullYear(n.getUTCFullYear()+e*t)})):null};var Ty=Ny,Ay=Ny.range;function Sy(t){if(0<=t.y&&t.y<100){var n=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return n.setFullYear(t.y),n}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function ky(t){if(0<=t.y&&t.y<100){var n=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return n.setUTCFullYear(t.y),n}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Uy(t,n,e){return{y:t,m:n,d:e,H:0,M:0,S:0,L:0}}function Yy(t){var n=t.dateTime,e=t.date,r=t.time,i=t.periods,o=t.days,u=t.shortDays,a=t.months,c=t.shortMonths,f=Gy(i),s=Xy(i),l=Gy(o),h=Xy(o),d=Gy(u),p=Xy(u),g=Gy(a),_=Xy(a),y=Gy(c),v=Xy(c),b={a:function(t){return u[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return a[t.getMonth()]},c:null,d:dv,e:dv,f:vv,g:Av,G:kv,H:pv,I:gv,j:_v,L:yv,m:bv,M:mv,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:tb,s:nb,S:xv,u:wv,U:Mv,V:Cv,w:Rv,W:Nv,x:null,X:null,y:Tv,Y:Sv,Z:Uv,"%":Jv},m={a:function(t){return u[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return c[t.getUTCMonth()]},B:function(t){return a[t.getUTCMonth()]},c:null,d:Yv,e:Yv,f:zv,g:Wv,G:$v,H:Dv,I:Ov,j:Iv,L:Pv,m:Lv,M:Fv,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:tb,s:nb,S:Bv,u:qv,U:Hv,V:Gv,w:Xv,W:Vv,x:null,X:null,y:Kv,Y:Zv,Z:Qv,"%":Jv},x={a:function(t,n,e){var r=d.exec(n.slice(e));return r?(t.w=p.get(r[0].toLowerCase()),e+r[0].length):-1},A:function(t,n,e){var r=l.exec(n.slice(e));return r?(t.w=h.get(r[0].toLowerCase()),e+r[0].length):-1},b:function(t,n,e){var r=y.exec(n.slice(e));return r?(t.m=v.get(r[0].toLowerCase()),e+r[0].length):-1},B:function(t,n,e){var r=g.exec(n.slice(e));return r?(t.m=_.get(r[0].toLowerCase()),e+r[0].length):-1},c:function(t,e,r){return E(t,n,e,r)},d:rv,e:rv,f:fv,g:Jy,G:Qy,H:ov,I:ov,j:iv,L:cv,m:ev,M:uv,p:function(t,n,e){var r=f.exec(n.slice(e));return r?(t.p=s.get(r[0].toLowerCase()),e+r[0].length):-1},q:nv,Q:lv,s:hv,S:av,u:Ky,U:Wy,V:Zy,w:Vy,W:$y,x:function(t,n,r){return E(t,e,n,r)},X:function(t,n,e){return E(t,r,n,e)},y:Jy,Y:Qy,Z:tv,"%":sv};function w(t,n){return function(e){var r,i,o,u=[],a=-1,c=0,f=t.length;for(e instanceof Date||(e=new Date(+e));++a<f;)37===t.charCodeAt(a)&&(u.push(t.slice(c,a)),null!=(i=Ly[r=t.charAt(++a)])?r=t.charAt(++a):i="e"===r?" ":"0",(o=n[r])&&(r=o(e,i)),u.push(r),c=a+1);return u.push(t.slice(c,a)),u.join("")}}function M(t,n){return function(e){var r,i,o=Uy(1900,void 0,1);if(E(o,t,e+="",0)!=e.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(n&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=ky(Uy(o.y,0,1))).getUTCDay(),r=i>4||0===i?ly.ceil(r):ly(r),r=Cy.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=Sy(Uy(o.y,0,1))).getDay(),r=i>4||0===i?O_.ceil(r):O_(r),r=W_.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?ky(Uy(o.y,0,1)).getUTCDay():Sy(Uy(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,ky(o)):Sy(o)}}function E(t,n,e,r){for(var i,o,u=0,a=n.length,c=e.length;u<a;){if(r>=c)return-1;if(37===(i=n.charCodeAt(u++))){if(i=n.charAt(u++),!(o=x[i in Ly?n.charAt(u++):i])||(r=o(t,e,r))<0)return-1}else if(i!=e.charCodeAt(r++))return-1}return r}return b.x=w(e,b),b.X=w(r,b),b.c=w(n,b),m.x=w(e,m),m.X=w(r,m),m.c=w(n,m),{format:function(t){var n=w(t+="",b);return n.toString=function(){return t},n},parse:function(t){var n=M(t+="",!1);return n.toString=function(){return t},n},utcFormat:function(t){var n=w(t+="",m);return n.toString=function(){return t},n},utcParse:function(t){var n=M(t+="",!0);return n.toString=function(){return t},n}}}var Dy,Oy,Iy,Py,zy,Ly={"-":"",_:" ",0:"0"},Fy=/^\s*\d+/,By=/^%/,qy=/[\\^$*+?|[\]().{}]/g;function Hy(t,n,e){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<e?new Array(e-o+1).join(n)+i:i)}function jy(t){return t.replace(qy,"\\$&")}function Gy(t){return new RegExp("^(?:"+t.map(jy).join("|")+")","i")}function Xy(t){return new Map(t.map((t,n)=>[t.toLowerCase(),n]))}function Vy(t,n,e){var r=Fy.exec(n.slice(e,e+1));return r?(t.w=+r[0],e+r[0].length):-1}function Ky(t,n,e){var r=Fy.exec(n.slice(e,e+1));return r?(t.u=+r[0],e+r[0].length):-1}function Wy(t,n,e){var r=Fy.exec(n.slice(e,e+2));return r?(t.U=+r[0],e+r[0].length):-1}function Zy(t,n,e){var r=Fy.exec(n.slice(e,e+2));return r?(t.V=+r[0],e+r[0].length):-1}function $y(t,n,e){var r=Fy.exec(n.slice(e,e+2));return r?(t.W=+r[0],e+r[0].length):-1}function Qy(t,n,e){var r=Fy.exec(n.slice(e,e+4));return r?(t.y=+r[0],e+r[0].length):-1}function Jy(t,n,e){var r=Fy.exec(n.slice(e,e+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),e+r[0].length):-1}function tv(t,n,e){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(n.slice(e,e+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),e+r[0].length):-1}function nv(t,n,e){var r=Fy.exec(n.slice(e,e+1));return r?(t.q=3*r[0]-3,e+r[0].length):-1}function ev(t,n,e){var r=Fy.exec(n.slice(e,e+2));return r?(t.m=r[0]-1,e+r[0].length):-1}function rv(t,n,e){var r=Fy.exec(n.slice(e,e+2));return r?(t.d=+r[0],e+r[0].length):-1}function iv(t,n,e){var r=Fy.exec(n.slice(e,e+3));return r?(t.m=0,t.d=+r[0],e+r[0].length):-1}function ov(t,n,e){var r=Fy.exec(n.slice(e,e+2));return r?(t.H=+r[0],e+r[0].length):-1}function uv(t,n,e){var r=Fy.exec(n.slice(e,e+2));return r?(t.M=+r[0],e+r[0].length):-1}function av(t,n,e){var r=Fy.exec(n.slice(e,e+2));return r?(t.S=+r[0],e+r[0].length):-1}function cv(t,n,e){var r=Fy.exec(n.slice(e,e+3));return r?(t.L=+r[0],e+r[0].length):-1}function fv(t,n,e){var r=Fy.exec(n.slice(e,e+6));return r?(t.L=Math.floor(r[0]/1e3),e+r[0].length):-1}function sv(t,n,e){var r=By.exec(n.slice(e,e+1));return r?e+r[0].length:-1}function lv(t,n,e){var r=Fy.exec(n.slice(e));return r?(t.Q=+r[0],e+r[0].length):-1}function hv(t,n,e){var r=Fy.exec(n.slice(e));return r?(t.s=+r[0],e+r[0].length):-1}function dv(t,n){return Hy(t.getDate(),n,2)}function pv(t,n){return Hy(t.getHours(),n,2)}function gv(t,n){return Hy(t.getHours()%12||12,n,2)}function _v(t,n){return Hy(1+W_.count(T_(t),t),n,3)}function yv(t,n){return Hy(t.getMilliseconds(),n,3)}function vv(t,n){return yv(t,n)+"000"}function bv(t,n){return Hy(t.getMonth()+1,n,2)}function mv(t,n){return Hy(t.getMinutes(),n,2)}function xv(t,n){return Hy(t.getSeconds(),n,2)}function wv(t){var n=t.getDay();return 0===n?7:n}function Mv(t,n){return Hy(D_.count(T_(t)-1,t),n,2)}function Ev(t){var n=t.getDay();return n>=4||0===n?z_(t):z_.ceil(t)}function Cv(t,n){return t=Ev(t),Hy(z_.count(T_(t),t)+(4===T_(t).getDay()),n,2)}function Rv(t){return t.getDay()}function Nv(t,n){return Hy(O_.count(T_(t)-1,t),n,2)}function Tv(t,n){return Hy(t.getFullYear()%100,n,2)}function Av(t,n){return Hy((t=Ev(t)).getFullYear()%100,n,2)}function Sv(t,n){return Hy(t.getFullYear()%1e4,n,4)}function kv(t,n){var e=t.getDay();return Hy((t=e>=4||0===e?z_(t):z_.ceil(t)).getFullYear()%1e4,n,4)}function Uv(t){var n=t.getTimezoneOffset();return(n>0?"-":(n*=-1,"+"))+Hy(n/60|0,"0",2)+Hy(n%60,"0",2)}function Yv(t,n){return Hy(t.getUTCDate(),n,2)}function Dv(t,n){return Hy(t.getUTCHours(),n,2)}function Ov(t,n){return Hy(t.getUTCHours()%12||12,n,2)}function Iv(t,n){return Hy(1+Cy.count(Ty(t),t),n,3)}function Pv(t,n){return Hy(t.getUTCMilliseconds(),n,3)}function zv(t,n){return Pv(t,n)+"000"}function Lv(t,n){return Hy(t.getUTCMonth()+1,n,2)}function Fv(t,n){return Hy(t.getUTCMinutes(),n,2)}function Bv(t,n){return Hy(t.getUTCSeconds(),n,2)}function qv(t){var n=t.getUTCDay();return 0===n?7:n}function Hv(t,n){return Hy(sy.count(Ty(t)-1,t),n,2)}function jv(t){var n=t.getUTCDay();return n>=4||0===n?py(t):py.ceil(t)}function Gv(t,n){return t=jv(t),Hy(py.count(Ty(t),t)+(4===Ty(t).getUTCDay()),n,2)}function Xv(t){return t.getUTCDay()}function Vv(t,n){return Hy(ly.count(Ty(t)-1,t),n,2)}function Kv(t,n){return Hy(t.getUTCFullYear()%100,n,2)}function Wv(t,n){return Hy((t=jv(t)).getUTCFullYear()%100,n,2)}function Zv(t,n){return Hy(t.getUTCFullYear()%1e4,n,4)}function $v(t,n){var e=t.getUTCDay();return Hy((t=e>=4||0===e?py(t):py.ceil(t)).getUTCFullYear()%1e4,n,4)}function Qv(){return"+0000"}function Jv(){return"%"}function tb(t){return+t}function nb(t){return Math.floor(+t/1e3)}function eb(t){return Dy=Yy(t),Oy=Dy.format,Iy=Dy.parse,Py=Dy.utcFormat,zy=Dy.utcParse,Dy}eb({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function rb(t){return new Date(t)}function ib(t){return t instanceof Date?+t:+new Date(+t)}function ob(t,n,e,r,i,u,a,c,f){var s=Kg(),l=s.invert,h=s.domain,d=f(".%L"),p=f(":%S"),g=f("%I:%M"),_=f("%I %p"),y=f("%a %d"),v=f("%b %d"),b=f("%B"),m=f("%Y"),x=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[u,1,6e4],[u,5,3e5],[u,15,9e5],[u,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[e,1,6048e5],[n,1,2592e6],[n,3,7776e6],[t,1,31536e6]];function w(o){return(a(o)<o?d:u(o)<o?p:i(o)<o?g:r(o)<o?_:n(o)<o?e(o)<o?y:v:t(o)<o?b:m)(o)}function M(n,e,r){if(null==n&&(n=10),"number"==typeof n){var i,u=Math.abs(r-e)/n,a=o((function(t){return t[2]})).right(x,u);return a===x.length?(i=B(e/31536e6,r/31536e6,n),n=t):a?(i=(a=x[u/x[a-1][2]<x[a][2]/u?a-1:a])[1],n=a[0]):(i=Math.max(B(e,r,n),1),n=c),n.every(i)}return n}return s.invert=function(t){return new Date(l(t))},s.domain=function(t){return arguments.length?h(Array.from(t,ib)):h().map(rb)},s.ticks=function(t){var n,e=h(),r=e[0],i=e[e.length-1],o=i<r;return o&&(n=r,r=i,i=n),n=(n=M(t,r,i))?n.range(r,i+1):[],o?n.reverse():n},s.tickFormat=function(t,n){return null==n?w:f(n)},s.nice=function(t){var n=h();return(t=M(t,n[0],n[n.length-1]))?h(Jg(n,t)):s},s.copy=function(){return Xg(s,ob(t,n,e,r,i,u,a,c,f))},s}var ub=function(){return Yg.apply(ob(T_,k_,D_,W_,Q_,ny,iy,ay,Oy).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)},ab=R_((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,n){t.setUTCMonth(t.getUTCMonth()+n)}),(function(t,n){return n.getUTCMonth()-t.getUTCMonth()+12*(n.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),cb=ab,fb=ab.range,sb=R_((function(t){t.setUTCMinutes(0,0,0)}),(function(t,n){t.setTime(+t+36e5*n)}),(function(t,n){return(n-t)/36e5}),(function(t){return t.getUTCHours()})),lb=sb,hb=sb.range,db=R_((function(t){t.setUTCSeconds(0,0)}),(function(t,n){t.setTime(+t+6e4*n)}),(function(t,n){return(n-t)/6e4}),(function(t){return t.getUTCMinutes()})),pb=db,gb=db.range,_b=function(){return Yg.apply(ob(Ty,cb,sy,Cy,lb,pb,iy,ay,Py).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)};function yb(){var t,n,e,r,i,o=0,u=1,a=qg,c=!1;function f(n){return isNaN(n=+n)?i:a(0===e?.5:(n=(r(n)-t)*e,c?Math.max(0,Math.min(1,n)):n))}function s(t){return function(n){var e,r;return arguments.length?([e,r]=n,a=t(e,r),f):[a(0),a(1)]}}return f.domain=function(i){return arguments.length?([o,u]=i,t=r(o=+o),n=r(u=+u),e=t===n?0:1/(n-t),f):[o,u]},f.clamp=function(t){return arguments.length?(c=!!t,f):c},f.interpolator=function(t){return arguments.length?(a=t,f):a},f.range=s(rr),f.rangeRound=s(Gp),f.unknown=function(t){return arguments.length?(i=t,f):i},function(i){return r=i,t=i(o),n=i(u),e=t===n?0:1/(n-t),f}}function vb(t,n){return n.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function bb(){var t=Zg(yb()(qg));return t.copy=function(){return vb(t,bb())},Dg.apply(t,arguments)}function mb(){var t=u_(yb()).domain([1,10]);return t.copy=function(){return vb(t,mb()).base(t.base())},Dg.apply(t,arguments)}function xb(){var t=s_(yb());return t.copy=function(){return vb(t,xb()).constant(t.constant())},Dg.apply(t,arguments)}function wb(){var t=g_(yb());return t.copy=function(){return vb(t,wb()).exponent(t.exponent())},Dg.apply(t,arguments)}function Mb(){return wb.apply(null,arguments).exponent(.5)}function Eb(){var t=[],n=qg;function e(e){if(!isNaN(e=+e))return n((l(t,e,1)-1)/(t.length-1))}return e.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let e of n)null==e||isNaN(e=+e)||t.push(e);return t.sort(i),e},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.range=function(){return t.map((e,r)=>n(r/(t.length-1)))},e.quantiles=function(n){return Array.from({length:n+1},(e,r)=>K(t,r/n))},e.copy=function(){return Eb(n).domain(t)},Dg.apply(e,arguments)}function Cb(){var t,n,e,r,i,o,u,a=0,c=.5,f=1,s=1,l=qg,h=!1;function d(t){return isNaN(t=+t)?u:(t=.5+((t=+o(t))-n)*(s*t<s*n?r:i),l(h?Math.max(0,Math.min(1,t)):t))}function p(t){return function(n){var e,r,i;return arguments.length?([e,r,i]=n,l=ig(t,[e,r,i]),d):[l(0),l(.5),l(1)]}}return d.domain=function(u){return arguments.length?([a,c,f]=u,t=o(a=+a),n=o(c=+c),e=o(f=+f),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),s=n<t?-1:1,d):[a,c,f]},d.clamp=function(t){return arguments.length?(h=!!t,d):h},d.interpolator=function(t){return arguments.length?(l=t,d):l},d.range=p(rr),d.rangeRound=p(Gp),d.unknown=function(t){return arguments.length?(u=t,d):u},function(u){return o=u,t=u(a),n=u(c),e=u(f),r=t===n?0:.5/(n-t),i=n===e?0:.5/(e-n),s=n<t?-1:1,d}}function Rb(){var t=Zg(Cb()(qg));return t.copy=function(){return vb(t,Rb())},Dg.apply(t,arguments)}function Nb(){var t=u_(Cb()).domain([.1,1,10]);return t.copy=function(){return vb(t,Nb()).base(t.base())},Dg.apply(t,arguments)}function Tb(){var t=s_(Cb());return t.copy=function(){return vb(t,Tb()).constant(t.constant())},Dg.apply(t,arguments)}function Ab(){var t=g_(Cb());return t.copy=function(){return vb(t,Ab()).exponent(t.exponent())},Dg.apply(t,arguments)}function Sb(){return Ab.apply(null,arguments).exponent(.5)}var kb=function(t){for(var n=t.length/6|0,e=new Array(n),r=0;r<n;)e[r]="#"+t.slice(6*r,6*++r);return e},Ub=kb("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),Yb=kb("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Db=kb("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Ob=kb("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Ib=kb("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Pb=kb("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),zb=kb("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Lb=kb("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Fb=kb("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Bb=kb("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),qb=t=>He(t[t.length-1]),Hb=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(kb),jb=qb(Hb),Gb=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(kb),Xb=qb(Gb),Vb=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(kb),Kb=qb(Vb),Wb=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(kb),Zb=qb(Wb),$b=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(kb),Qb=qb($b),Jb=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(kb),tm=qb(Jb),nm=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(kb),em=qb(nm),rm=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(kb),im=qb(rm),om=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(kb),um=qb(om),am=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(kb),cm=qb(am),fm=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(kb),sm=qb(fm),lm=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(kb),hm=qb(lm),dm=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(kb),pm=qb(dm),gm=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(kb),_m=qb(gm),ym=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(kb),vm=qb(ym),bm=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(kb),mm=qb(bm),xm=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(kb),wm=qb(xm),Mm=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(kb),Em=qb(Mm),Cm=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(kb),Rm=qb(Cm),Nm=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(kb),Tm=qb(Nm),Am=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(kb),Sm=qb(Am),km=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(kb),Um=qb(km),Ym=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(kb),Dm=qb(Ym),Om=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(kb),Im=qb(Om),Pm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(kb),zm=qb(Pm),Lm=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(kb),Fm=qb(Lm),Bm=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(kb),qm=qb(Bm),Hm=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-2710.57*t)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-67.37*t)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-2475.67*t)))))))+")"},jm=rg($o(300,.5,0),$o(-240,.5,1)),Gm=rg($o(-100,.75,.35),$o(80,1.5,.8)),Xm=rg($o(260,.75,.35),$o(80,1.5,.8)),Vm=$o(),Km=function(t){(t<0||t>1)&&(t-=Math.floor(t));var n=Math.abs(t-.5);return Vm.h=360*t-100,Vm.s=1.5-1.5*n,Vm.l=.8-.9*n,Vm+""},Wm=Me(),Zm=Math.PI/3,$m=2*Math.PI/3,Qm=function(t){var n;return t=(.5-t)*Math.PI,Wm.r=255*(n=Math.sin(t))*n,Wm.g=255*(n=Math.sin(t+Zm))*n,Wm.b=255*(n=Math.sin(t+$m))*n,Wm+""},Jm=function(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-14825.05*t)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+707.56*t)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-6838.66*t)))))))+")"};function tx(t){var n=t.length;return function(e){return t[Math.max(0,Math.min(n-1,Math.floor(e*n)))]}}var nx=tx(kb("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),ex=tx(kb("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),rx=tx(kb("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ix=tx(kb("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),ox=function(t){return Qn(Pn(t).call(document.documentElement))},ux=0;function ax(){return new cx}function cx(){this._="@"+(++ux).toString(36)}cx.prototype=ax.prototype={constructor:cx,get:function(t){for(var n=this._;!(n in t);)if(!(t=t.parentNode))return;return t[n]},set:function(t,n){return t[this._]=n},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}};var fx=function(t,n){return t.target&&(t=ir(t),void 0===n&&(n=t.currentTarget),t=t.touches||[t]),Array.from(t,t=>or(t,n))},sx=function(t){return"string"==typeof t?new Wn([document.querySelectorAll(t)],[document.documentElement]):new Wn([null==t?[]:Lt(t)],Kn)},lx=function(t){return function(){return t}},hx=Math.abs,dx=Math.atan2,px=Math.cos,gx=Math.max,_x=Math.min,yx=Math.sin,vx=Math.sqrt,bx=Math.PI,mx=bx/2,xx=2*bx;function wx(t){return t>1?0:t<-1?bx:Math.acos(t)}function Mx(t){return t>=1?mx:t<=-1?-mx:Math.asin(t)}function Ex(t){return t.innerRadius}function Cx(t){return t.outerRadius}function Rx(t){return t.startAngle}function Nx(t){return t.endAngle}function Tx(t){return t&&t.padAngle}function Ax(t,n,e,r,i,o,u,a){var c=e-t,f=r-n,s=u-i,l=a-o,h=l*c-s*f;if(!(h*h<1e-12))return[t+(h=(s*(n-o)-l*(t-i))/h)*c,n+h*f]}function Sx(t,n,e,r,i,o,u){var a=t-e,c=n-r,f=(u?o:-o)/vx(a*a+c*c),s=f*c,l=-f*a,h=t+s,d=n+l,p=e+s,g=r+l,_=(h+p)/2,y=(d+g)/2,v=p-h,b=g-d,m=v*v+b*b,x=i-o,w=h*g-p*d,M=(b<0?-1:1)*vx(gx(0,x*x*m-w*w)),E=(w*b-v*M)/m,C=(-w*v-b*M)/m,R=(w*b+v*M)/m,N=(-w*v+b*M)/m,T=E-_,A=C-y,S=R-_,k=N-y;return T*T+A*A>S*S+k*k&&(E=R,C=N),{cx:E,cy:C,x01:-s,y01:-l,x11:E*(i/x-1),y11:C*(i/x-1)}}var kx=function(){var t=Ex,n=Cx,e=lx(0),r=null,i=Rx,o=Nx,u=Tx,a=null;function c(){var c,f,s=+t.apply(this,arguments),l=+n.apply(this,arguments),h=i.apply(this,arguments)-mx,d=o.apply(this,arguments)-mx,p=hx(d-h),g=d>h;if(a||(a=c=vo()),l<s&&(f=l,l=s,s=f),l>1e-12)if(p>xx-1e-12)a.moveTo(l*px(h),l*yx(h)),a.arc(0,0,l,h,d,!g),s>1e-12&&(a.moveTo(s*px(d),s*yx(d)),a.arc(0,0,s,d,h,g));else{var _,y,v=h,b=d,m=h,x=d,w=p,M=p,E=u.apply(this,arguments)/2,C=E>1e-12&&(r?+r.apply(this,arguments):vx(s*s+l*l)),R=_x(hx(l-s)/2,+e.apply(this,arguments)),N=R,T=R;if(C>1e-12){var A=Mx(C/s*yx(E)),S=Mx(C/l*yx(E));(w-=2*A)>1e-12?(m+=A*=g?1:-1,x-=A):(w=0,m=x=(h+d)/2),(M-=2*S)>1e-12?(v+=S*=g?1:-1,b-=S):(M=0,v=b=(h+d)/2)}var k=l*px(v),U=l*yx(v),Y=s*px(x),D=s*yx(x);if(R>1e-12){var O,I=l*px(b),P=l*yx(b),z=s*px(m),L=s*yx(m);if(p<bx&&(O=Ax(k,U,z,L,I,P,Y,D))){var F=k-O[0],B=U-O[1],q=I-O[0],H=P-O[1],j=1/yx(wx((F*q+B*H)/(vx(F*F+B*B)*vx(q*q+H*H)))/2),G=vx(O[0]*O[0]+O[1]*O[1]);N=_x(R,(s-G)/(j-1)),T=_x(R,(l-G)/(j+1))}}M>1e-12?T>1e-12?(_=Sx(z,L,k,U,l,T,g),y=Sx(I,P,Y,D,l,T,g),a.moveTo(_.cx+_.x01,_.cy+_.y01),T<R?a.arc(_.cx,_.cy,T,dx(_.y01,_.x01),dx(y.y01,y.x01),!g):(a.arc(_.cx,_.cy,T,dx(_.y01,_.x01),dx(_.y11,_.x11),!g),a.arc(0,0,l,dx(_.cy+_.y11,_.cx+_.x11),dx(y.cy+y.y11,y.cx+y.x11),!g),a.arc(y.cx,y.cy,T,dx(y.y11,y.x11),dx(y.y01,y.x01),!g))):(a.moveTo(k,U),a.arc(0,0,l,v,b,!g)):a.moveTo(k,U),s>1e-12&&w>1e-12?N>1e-12?(_=Sx(Y,D,I,P,s,-N,g),y=Sx(k,U,z,L,s,-N,g),a.lineTo(_.cx+_.x01,_.cy+_.y01),N<R?a.arc(_.cx,_.cy,N,dx(_.y01,_.x01),dx(y.y01,y.x01),!g):(a.arc(_.cx,_.cy,N,dx(_.y01,_.x01),dx(_.y11,_.x11),!g),a.arc(0,0,s,dx(_.cy+_.y11,_.cx+_.x11),dx(y.cy+y.y11,y.cx+y.x11),g),a.arc(y.cx,y.cy,N,dx(y.y11,y.x11),dx(y.y01,y.x01),!g))):a.arc(0,0,s,x,m,g):a.lineTo(Y,D)}else a.moveTo(0,0);if(a.closePath(),c)return a=null,c+""||null}return c.centroid=function(){var e=(+t.apply(this,arguments)+ +n.apply(this,arguments))/2,r=(+i.apply(this,arguments)+ +o.apply(this,arguments))/2-bx/2;return[px(r)*e,yx(r)*e]},c.innerRadius=function(n){return arguments.length?(t="function"==typeof n?n:lx(+n),c):t},c.outerRadius=function(t){return arguments.length?(n="function"==typeof t?t:lx(+t),c):n},c.cornerRadius=function(t){return arguments.length?(e="function"==typeof t?t:lx(+t),c):e},c.padRadius=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:lx(+t),c):r},c.startAngle=function(t){return arguments.length?(i="function"==typeof t?t:lx(+t),c):i},c.endAngle=function(t){return arguments.length?(o="function"==typeof t?t:lx(+t),c):o},c.padAngle=function(t){return arguments.length?(u="function"==typeof t?t:lx(+t),c):u},c.context=function(t){return arguments.length?(a=null==t?null:t,c):a},c},Ux=Array.prototype.slice,Yx=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)};function Dx(t){this._context=t}Dx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:this._context.lineTo(t,n)}}};var Ox=function(t){return new Dx(t)};function Ix(t){return t[0]}function Px(t){return t[1]}var zx=function(t,n){var e=lx(!0),r=null,i=Ox,o=null;function u(u){var a,c,f,s=(u=Yx(u)).length,l=!1;for(null==r&&(o=i(f=vo())),a=0;a<=s;++a)!(a<s&&e(c=u[a],a,u))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(c,a,u),+n(c,a,u));if(f)return o=null,f+""||null}return t="function"==typeof t?t:void 0===t?Ix:lx(t),n="function"==typeof n?n:void 0===n?Px:lx(n),u.x=function(n){return arguments.length?(t="function"==typeof n?n:lx(+n),u):t},u.y=function(t){return arguments.length?(n="function"==typeof t?t:lx(+t),u):n},u.defined=function(t){return arguments.length?(e="function"==typeof t?t:lx(!!t),u):e},u.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),u):i},u.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),u):r},u},Lx=function(t,n,e){var r=null,i=lx(!0),o=null,u=Ox,a=null;function c(c){var f,s,l,h,d,p=(c=Yx(c)).length,g=!1,_=new Array(p),y=new Array(p);for(null==o&&(a=u(d=vo())),f=0;f<=p;++f){if(!(f<p&&i(h=c[f],f,c))===g)if(g=!g)s=f,a.areaStart(),a.lineStart();else{for(a.lineEnd(),a.lineStart(),l=f-1;l>=s;--l)a.point(_[l],y[l]);a.lineEnd(),a.areaEnd()}g&&(_[f]=+t(h,f,c),y[f]=+n(h,f,c),a.point(r?+r(h,f,c):_[f],e?+e(h,f,c):y[f]))}if(d)return a=null,d+""||null}function f(){return zx().defined(i).curve(u).context(o)}return t="function"==typeof t?t:void 0===t?Ix:lx(+t),n="function"==typeof n?n:lx(void 0===n?0:+n),e="function"==typeof e?e:void 0===e?Px:lx(+e),c.x=function(n){return arguments.length?(t="function"==typeof n?n:lx(+n),r=null,c):t},c.x0=function(n){return arguments.length?(t="function"==typeof n?n:lx(+n),c):t},c.x1=function(t){return arguments.length?(r=null==t?null:"function"==typeof t?t:lx(+t),c):r},c.y=function(t){return arguments.length?(n="function"==typeof t?t:lx(+t),e=null,c):n},c.y0=function(t){return arguments.length?(n="function"==typeof t?t:lx(+t),c):n},c.y1=function(t){return arguments.length?(e=null==t?null:"function"==typeof t?t:lx(+t),c):e},c.lineX0=c.lineY0=function(){return f().x(t).y(n)},c.lineY1=function(){return f().x(t).y(e)},c.lineX1=function(){return f().x(r).y(n)},c.defined=function(t){return arguments.length?(i="function"==typeof t?t:lx(!!t),c):i},c.curve=function(t){return arguments.length?(u=t,null!=o&&(a=u(o)),c):u},c.context=function(t){return arguments.length?(null==t?o=a=null:a=u(o=t),c):o},c},Fx=function(t,n){return n<t?-1:n>t?1:n>=t?0:NaN},Bx=function(t){return t},qx=function(){var t=Bx,n=Fx,e=null,r=lx(0),i=lx(xx),o=lx(0);function u(u){var a,c,f,s,l,h=(u=Yx(u)).length,d=0,p=new Array(h),g=new Array(h),_=+r.apply(this,arguments),y=Math.min(xx,Math.max(-xx,i.apply(this,arguments)-_)),v=Math.min(Math.abs(y)/h,o.apply(this,arguments)),b=v*(y<0?-1:1);for(a=0;a<h;++a)(l=g[p[a]=a]=+t(u[a],a,u))>0&&(d+=l);for(null!=n?p.sort((function(t,e){return n(g[t],g[e])})):null!=e&&p.sort((function(t,n){return e(u[t],u[n])})),a=0,f=d?(y-h*b)/d:0;a<h;++a,_=s)c=p[a],s=_+((l=g[c])>0?l*f:0)+b,g[c]={data:u[c],index:a,value:l,startAngle:_,endAngle:s,padAngle:v};return g}return u.value=function(n){return arguments.length?(t="function"==typeof n?n:lx(+n),u):t},u.sortValues=function(t){return arguments.length?(n=t,e=null,u):n},u.sort=function(t){return arguments.length?(e=t,n=null,u):e},u.startAngle=function(t){return arguments.length?(r="function"==typeof t?t:lx(+t),u):r},u.endAngle=function(t){return arguments.length?(i="function"==typeof t?t:lx(+t),u):i},u.padAngle=function(t){return arguments.length?(o="function"==typeof t?t:lx(+t),u):o},u},Hx=Gx(Ox);function jx(t){this._curve=t}function Gx(t){function n(n){return new jx(t(n))}return n._curve=t,n}function Xx(t){var n=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?n(Gx(t)):n()._curve},t}jx.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,n){this._curve.point(n*Math.sin(t),n*-Math.cos(t))}};var Vx=function(){return Xx(zx().curve(Hx))},Kx=function(){var t=Lx().curve(Hx),n=t.curve,e=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Xx(e())},delete t.lineX0,t.lineEndAngle=function(){return Xx(r())},delete t.lineX1,t.lineInnerRadius=function(){return Xx(i())},delete t.lineY0,t.lineOuterRadius=function(){return Xx(o())},delete t.lineY1,t.curve=function(t){return arguments.length?n(Gx(t)):n()._curve},t},Wx=function(t,n){return[(n=+n)*Math.cos(t-=Math.PI/2),n*Math.sin(t)]};function Zx(t){return t.source}function $x(t){return t.target}function Qx(t){var n=Zx,e=$x,r=Ix,i=Px,o=null;function u(){var u,a=Ux.call(arguments),c=n.apply(this,a),f=e.apply(this,a);if(o||(o=u=vo()),t(o,+r.apply(this,(a[0]=c,a)),+i.apply(this,a),+r.apply(this,(a[0]=f,a)),+i.apply(this,a)),u)return o=null,u+""||null}return u.source=function(t){return arguments.length?(n=t,u):n},u.target=function(t){return arguments.length?(e=t,u):e},u.x=function(t){return arguments.length?(r="function"==typeof t?t:lx(+t),u):r},u.y=function(t){return arguments.length?(i="function"==typeof t?t:lx(+t),u):i},u.context=function(t){return arguments.length?(o=null==t?null:t,u):o},u}function Jx(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n=(n+r)/2,e,n,i,r,i)}function tw(t,n,e,r,i){t.moveTo(n,e),t.bezierCurveTo(n,e=(e+i)/2,r,e,r,i)}function nw(t,n,e,r,i){var o=Wx(n,e),u=Wx(n,e=(e+i)/2),a=Wx(r,e),c=Wx(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(u[0],u[1],a[0],a[1],c[0],c[1])}function ew(){return Qx(Jx)}function rw(){return Qx(tw)}function iw(){var t=Qx(nw);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t}var ow={draw:function(t,n){var e=Math.sqrt(n/bx);t.moveTo(e,0),t.arc(0,0,e,0,xx)}},uw={draw:function(t,n){var e=Math.sqrt(n/5)/2;t.moveTo(-3*e,-e),t.lineTo(-e,-e),t.lineTo(-e,-3*e),t.lineTo(e,-3*e),t.lineTo(e,-e),t.lineTo(3*e,-e),t.lineTo(3*e,e),t.lineTo(e,e),t.lineTo(e,3*e),t.lineTo(-e,3*e),t.lineTo(-e,e),t.lineTo(-3*e,e),t.closePath()}},aw=Math.sqrt(1/3),cw=2*aw,fw={draw:function(t,n){var e=Math.sqrt(n/cw),r=e*aw;t.moveTo(0,-e),t.lineTo(r,0),t.lineTo(0,e),t.lineTo(-r,0),t.closePath()}},sw=Math.sin(bx/10)/Math.sin(7*bx/10),lw=Math.sin(xx/10)*sw,hw=-Math.cos(xx/10)*sw,dw={draw:function(t,n){var e=Math.sqrt(.8908130915292852*n),r=lw*e,i=hw*e;t.moveTo(0,-e),t.lineTo(r,i);for(var o=1;o<5;++o){var u=xx*o/5,a=Math.cos(u),c=Math.sin(u);t.lineTo(c*e,-a*e),t.lineTo(a*r-c*i,c*r+a*i)}t.closePath()}},pw={draw:function(t,n){var e=Math.sqrt(n),r=-e/2;t.rect(r,r,e,e)}},gw=Math.sqrt(3),_w={draw:function(t,n){var e=-Math.sqrt(n/(3*gw));t.moveTo(0,2*e),t.lineTo(-gw*e,-e),t.lineTo(gw*e,-e),t.closePath()}},yw=Math.sqrt(3)/2,vw=1/Math.sqrt(12),bw=3*(vw/2+1),mw={draw:function(t,n){var e=Math.sqrt(n/bw),r=e/2,i=e*vw,o=r,u=e*vw+e,a=-o,c=u;t.moveTo(r,i),t.lineTo(o,u),t.lineTo(a,c),t.lineTo(-.5*r-yw*i,yw*r+-.5*i),t.lineTo(-.5*o-yw*u,yw*o+-.5*u),t.lineTo(-.5*a-yw*c,yw*a+-.5*c),t.lineTo(-.5*r+yw*i,-.5*i-yw*r),t.lineTo(-.5*o+yw*u,-.5*u-yw*o),t.lineTo(-.5*a+yw*c,-.5*c-yw*a),t.closePath()}},xw=[ow,uw,fw,pw,dw,_w,mw],ww=function(t,n){var e=null;function r(){var r;if(e||(e=r=vo()),t.apply(this,arguments).draw(e,+n.apply(this,arguments)),r)return e=null,r+""||null}return t="function"==typeof t?t:lx(t||ow),n="function"==typeof n?n:lx(void 0===n?64:+n),r.type=function(n){return arguments.length?(t="function"==typeof n?n:lx(n),r):t},r.size=function(t){return arguments.length?(n="function"==typeof t?t:lx(+t),r):n},r.context=function(t){return arguments.length?(e=null==t?null:t,r):e},r},Mw=function(){};function Ew(t,n,e){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+n)/6,(t._y0+4*t._y1+e)/6)}function Cw(t){this._context=t}Cw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ew(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ew(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var Rw=function(t){return new Cw(t)};function Nw(t){this._context=t}Nw.prototype={areaStart:Mw,areaEnd:Mw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x2=t,this._y2=n;break;case 1:this._point=2,this._x3=t,this._y3=n;break;case 2:this._point=3,this._x4=t,this._y4=n,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+n)/6);break;default:Ew(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var Tw=function(t){return new Nw(t)};function Aw(t){this._context=t}Aw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var e=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+n)/6;this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break;case 3:this._point=4;default:Ew(this,t,n)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n}};var Sw=function(t){return new Aw(t)};function kw(t,n){this._basis=new Cw(t),this._beta=n}kw.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,n=this._y,e=t.length-1;if(e>0)for(var r,i=t[0],o=n[0],u=t[e]-i,a=n[e]-o,c=-1;++c<=e;)r=c/e,this._basis.point(this._beta*t[c]+(1-this._beta)*(i+r*u),this._beta*n[c]+(1-this._beta)*(o+r*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var Uw=function t(n){function e(t){return 1===n?new Cw(t):new kw(t,n)}return e.beta=function(n){return t(+n)},e}(.85);function Yw(t,n,e){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-n),t._y2+t._k*(t._y1-e),t._x2,t._y2)}function Dw(t,n){this._context=t,this._k=(1-n)/6}Dw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Yw(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2,this._x1=t,this._y1=n;break;case 2:this._point=3;default:Yw(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Ow=function t(n){function e(t){return new Dw(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Iw(t,n){this._context=t,this._k=(1-n)/6}Iw.prototype={areaStart:Mw,areaEnd:Mw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Yw(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Pw=function t(n){function e(t){return new Iw(t,n)}return e.tension=function(n){return t(+n)},e}(0);function zw(t,n){this._context=t,this._k=(1-n)/6}zw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Yw(this,t,n)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Lw=function t(n){function e(t){return new zw(t,n)}return e.tension=function(n){return t(+n)},e}(0);function Fw(t,n,e){var r=t._x1,i=t._y1,o=t._x2,u=t._y2;if(t._l01_a>1e-12){var a=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*a-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*a-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>1e-12){var f=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*f+t._x1*t._l23_2a-n*t._l12_2a)/s,u=(u*f+t._y1*t._l23_2a-e*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,u,t._x2,t._y2)}function Bw(t,n){this._context=t,this._alpha=n}Bw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3;default:Fw(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var qw=function t(n){function e(t){return n?new Bw(t,n):new Dw(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Hw(t,n){this._context=t,this._alpha=n}Hw.prototype={areaStart:Mw,areaEnd:Mw,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=n;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=n);break;case 2:this._point=3,this._x5=t,this._y5=n;break;default:Fw(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var jw=function t(n){function e(t){return n?new Hw(t,n):new Iw(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Gw(t,n){this._context=t,this._alpha=n}Gw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){if(t=+t,n=+n,this._point){var e=this._x2-t,r=this._y2-n;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(e*e+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fw(this,t,n)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=n}};var Xw=function t(n){function e(t){return n?new Gw(t,n):new zw(t,0)}return e.alpha=function(n){return t(+n)},e}(.5);function Vw(t){this._context=t}Vw.prototype={areaStart:Mw,areaEnd:Mw,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,n){t=+t,n=+n,this._point?this._context.lineTo(t,n):(this._point=1,this._context.moveTo(t,n))}};var Kw=function(t){return new Vw(t)};function Ww(t){return t<0?-1:1}function Zw(t,n,e){var r=t._x1-t._x0,i=n-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),u=(e-t._y1)/(i||r<0&&-0),a=(o*i+u*r)/(r+i);return(Ww(o)+Ww(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(a))||0}function $w(t,n){var e=t._x1-t._x0;return e?(3*(t._y1-t._y0)/e-n)/2:n}function Qw(t,n,e){var r=t._x0,i=t._y0,o=t._x1,u=t._y1,a=(o-r)/3;t._context.bezierCurveTo(r+a,i+a*n,o-a,u-a*e,o,u)}function Jw(t){this._context=t}function tM(t){this._context=new nM(t)}function nM(t){this._context=t}function eM(t){return new Jw(t)}function rM(t){return new tM(t)}function iM(t){this._context=t}function oM(t){var n,e,r=t.length-1,i=new Array(r),o=new Array(r),u=new Array(r);for(i[0]=0,o[0]=2,u[0]=t[0]+2*t[1],n=1;n<r-1;++n)i[n]=1,o[n]=4,u[n]=4*t[n]+2*t[n+1];for(i[r-1]=2,o[r-1]=7,u[r-1]=8*t[r-1]+t[r],n=1;n<r;++n)e=i[n]/o[n-1],o[n]-=e,u[n]-=e*u[n-1];for(i[r-1]=u[r-1]/o[r-1],n=r-2;n>=0;--n)i[n]=(u[n]-i[n+1])/o[n];for(o[r-1]=(t[r]+i[r-1])/2,n=0;n<r-1;++n)o[n]=2*t[n+1]-i[n+1];return[i,o]}Jw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Qw(this,this._t0,$w(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,n){var e=NaN;if(n=+n,(t=+t)!==this._x1||n!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;break;case 2:this._point=3,Qw(this,$w(this,e=Zw(this,t,n)),e);break;default:Qw(this,this._t0,e=Zw(this,t,n))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=n,this._t0=e}}},(tM.prototype=Object.create(Jw.prototype)).point=function(t,n){Jw.prototype.point.call(this,n,t)},nM.prototype={moveTo:function(t,n){this._context.moveTo(n,t)},closePath:function(){this._context.closePath()},lineTo:function(t,n){this._context.lineTo(n,t)},bezierCurveTo:function(t,n,e,r,i,o){this._context.bezierCurveTo(n,t,r,e,o,i)}},iM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,n=this._y,e=t.length;if(e)if(this._line?this._context.lineTo(t[0],n[0]):this._context.moveTo(t[0],n[0]),2===e)this._context.lineTo(t[1],n[1]);else for(var r=oM(t),i=oM(n),o=0,u=1;u<e;++o,++u)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[u],n[u]);(this._line||0!==this._line&&1===e)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,n){this._x.push(+t),this._y.push(+n)}};var uM=function(t){return new iM(t)};function aM(t,n){this._context=t,this._t=n}aM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,n){switch(t=+t,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,n),this._context.lineTo(t,n);else{var e=this._x*(1-this._t)+t*this._t;this._context.lineTo(e,this._y),this._context.lineTo(e,n)}}this._x=t,this._y=n}};var cM=function(t){return new aM(t,.5)};function fM(t){return new aM(t,0)}function sM(t){return new aM(t,1)}var lM=function(t,n){if((i=t.length)>1)for(var e,r,i,o=1,u=t[n[0]],a=u.length;o<i;++o)for(r=u,u=t[n[o]],e=0;e<a;++e)u[e][1]+=u[e][0]=isNaN(r[e][1])?r[e][0]:r[e][1]},hM=function(t){for(var n=t.length,e=new Array(n);--n>=0;)e[n]=n;return e};function dM(t,n){return t[n]}function pM(t){const n=[];return n.key=t,n}var gM=function(){var t=lx([]),n=hM,e=lM,r=dM;function i(i){var o,u,a=Array.from(t.apply(this,arguments),pM),c=a.length,f=-1;for(const t of i)for(o=0,++f;o<c;++o)(a[o][f]=[0,+r(t,a[o].key,f,i)]).data=t;for(o=0,u=Yx(n(a));o<c;++o)a[u[o]].index=o;return e(a,u),a}return i.keys=function(n){return arguments.length?(t="function"==typeof n?n:lx(Array.from(n)),i):t},i.value=function(t){return arguments.length?(r="function"==typeof t?t:lx(+t),i):r},i.order=function(t){return arguments.length?(n=null==t?hM:"function"==typeof t?t:lx(Array.from(t)),i):n},i.offset=function(t){return arguments.length?(e=null==t?lM:t,i):e},i},_M=function(t,n){if((r=t.length)>0){for(var e,r,i,o=0,u=t[0].length;o<u;++o){for(i=e=0;e<r;++e)i+=t[e][o][1]||0;if(i)for(e=0;e<r;++e)t[e][o][1]/=i}lM(t,n)}},yM=function(t,n){if((a=t.length)>0)for(var e,r,i,o,u,a,c=0,f=t[n[0]].length;c<f;++c)for(o=u=0,e=0;e<a;++e)(i=(r=t[n[e]][c])[1]-r[0])>0?(r[0]=o,r[1]=o+=i):i<0?(r[1]=u,r[0]=u+=i):(r[0]=0,r[1]=i)},vM=function(t,n){if((e=t.length)>0){for(var e,r=0,i=t[n[0]],o=i.length;r<o;++r){for(var u=0,a=0;u<e;++u)a+=t[u][r][1]||0;i[r][1]+=i[r][0]=-a/2}lM(t,n)}},bM=function(t,n){if((i=t.length)>0&&(r=(e=t[n[0]]).length)>0){for(var e,r,i,o=0,u=1;u<r;++u){for(var a=0,c=0,f=0;a<i;++a){for(var s=t[n[a]],l=s[u][1]||0,h=(l-(s[u-1][1]||0))/2,d=0;d<a;++d){var p=t[n[d]];h+=(p[u][1]||0)-(p[u-1][1]||0)}c+=l,f+=h*l}e[u-1][1]+=e[u-1][0]=o,c&&(o-=f/c)}e[u-1][1]+=e[u-1][0]=o,lM(t,n)}},mM=function(t){var n=t.map(xM);return hM(t).sort((function(t,e){return n[t]-n[e]}))};function xM(t){for(var n,e=-1,r=0,i=t.length,o=-1/0;++e<i;)(n=+t[e][1])>o&&(o=n,r=e);return r}var wM=function(t){var n=t.map(MM);return hM(t).sort((function(t,e){return n[t]-n[e]}))};function MM(t){for(var n,e=0,r=-1,i=t.length;++r<i;)(n=+t[r][1])&&(e+=n);return e}var EM=function(t){return wM(t).reverse()},CM=function(t){var n,e,r=t.length,i=t.map(MM),o=mM(t),u=0,a=0,c=[],f=[];for(n=0;n<r;++n)e=o[n],u<a?(u+=i[e],c.push(e)):(a+=i[e],f.push(e));return f.reverse().concat(c)},RM=function(t){return hM(t).reverse()};var NM=Date.prototype.toISOString?function(t){return t.toISOString()}:Py("%Y-%m-%dT%H:%M:%S.%LZ");var TM=+new Date("2000-01-01T00:00:00.000Z")?function(t){var n=new Date(t);return isNaN(n)?null:n}:zy("%Y-%m-%dT%H:%M:%S.%LZ"),AM=function(t,n,e){var r=new _r,i=n;return null==n?(r.restart(t,n,e),r):(r._restart=r.restart,r.restart=function(t,n,e){n=+n,e=null==e?pr():+e,r._restart((function o(u){u+=i,r._restart(o,i+=n,e),t(u)}),n,e)},r.restart(t,n,e),r)},SM=t=>()=>t;function kM(t,{sourceEvent:n,target:e,transform:r,dispatch:i}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:r,enumerable:!0,configurable:!0},_:{value:i}})}function UM(t,n,e){this.k=t,this.x=n,this.y=e}UM.prototype={constructor:UM,scale:function(t){return 1===t?this:new UM(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new UM(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var YM=new UM(1,0,0);function DM(t){for(;!t.__zoom;)if(!(t=t.parentNode))return YM;return t.__zoom}function OM(t){t.stopImmediatePropagation()}DM.prototype=UM.prototype;var IM=function(t){t.preventDefault(),t.stopImmediatePropagation()};function PM(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function zM(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function LM(){return this.__zoom||YM}function FM(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function BM(){return navigator.maxTouchPoints||"ontouchstart"in this}function qM(t,n,e){var r=t.invertX(n[0][0])-e[0][0],i=t.invertX(n[1][0])-e[1][0],o=t.invertY(n[0][1])-e[0][1],u=t.invertY(n[1][1])-e[1][1];return t.translate(i>r?(r+i)/2:Math.min(0,r)||Math.max(0,i),u>o?(o+u)/2:Math.min(0,o)||Math.max(0,u))}var HM=function(){var t,n,e,r=PM,i=zM,o=qM,u=FM,a=BM,c=[0,1/0],f=[[-1/0,-1/0],[1/0,1/0]],s=250,l=Vp,h=It("start","zoom","end"),d=0,p=10;function g(t){t.property("__zoom",LM).on("wheel.zoom",w).on("mousedown.zoom",M).on("dblclick.zoom",E).filter(a).on("touchstart.zoom",C).on("touchmove.zoom",R).on("touchend.zoom touchcancel.zoom",N).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(t,n){return(n=Math.max(c[0],Math.min(c[1],n)))===t.k?t:new UM(n,t.x,t.y)}function y(t,n,e){var r=n[0]-e[0]*t.k,i=n[1]-e[1]*t.k;return r===t.x&&i===t.y?t:new UM(t.k,r,i)}function v(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,n,e,r){t.on("start.zoom",(function(){m(this,arguments).event(r).start()})).on("interrupt.zoom end.zoom",(function(){m(this,arguments).event(r).end()})).tween("zoom",(function(){var t=this,o=arguments,u=m(t,o).event(r),a=i.apply(t,o),c=null==e?v(a):"function"==typeof e?e.apply(t,o):e,f=Math.max(a[1][0]-a[0][0],a[1][1]-a[0][1]),s=t.__zoom,h="function"==typeof n?n.apply(t,o):n,d=l(s.invert(c).concat(f/s.k),h.invert(c).concat(f/h.k));return function(t){if(1===t)t=h;else{var n=d(t),e=f/n[2];t=new UM(e,c[0]-n[0]*e,c[1]-n[1]*e)}u.zoom(null,t)}}))}function m(t,n,e){return!e&&t.__zooming||new x(t,n)}function x(t,n){this.that=t,this.args=n,this.active=0,this.sourceEvent=null,this.extent=i.apply(t,n),this.taps=0}function w(t,...n){if(r.apply(this,arguments)){var e=m(this,n).event(t),i=this.__zoom,a=Math.max(c[0],Math.min(c[1],i.k*Math.pow(2,u.apply(this,arguments)))),s=or(t);if(e.wheel)e.mouse[0][0]===s[0]&&e.mouse[0][1]===s[1]||(e.mouse[1]=i.invert(e.mouse[0]=s)),clearTimeout(e.wheel);else{if(i.k===a)return;e.mouse=[s,i.invert(s)],Sr(this),e.start()}IM(t),e.wheel=setTimeout(l,150),e.zoom("mouse",o(y(_(i,a),e.mouse[0],e.mouse[1]),e.extent,f))}function l(){e.wheel=null,e.end()}}function M(t,...n){if(!e&&r.apply(this,arguments)){var i=m(this,n,!0).event(t),u=Qn(t.view).on("mousemove.zoom",h,!0).on("mouseup.zoom",p,!0),a=or(t,c),c=t.currentTarget,s=t.clientX,l=t.clientY;ne(t.view),OM(t),i.mouse=[a,this.__zoom.invert(a)],Sr(this),i.start()}function h(t){if(IM(t),!i.moved){var n=t.clientX-s,e=t.clientY-l;i.moved=n*n+e*e>d}i.event(t).zoom("mouse",o(y(i.that.__zoom,i.mouse[0]=or(t,c),i.mouse[1]),i.extent,f))}function p(t){u.on("mousemove.zoom mouseup.zoom",null),ee(t.view,i.moved),IM(t),i.event(t).end()}}function E(t,...n){if(r.apply(this,arguments)){var e=this.__zoom,u=or(t.changedTouches?t.changedTouches[0]:t,this),a=e.invert(u),c=e.k*(t.shiftKey?.5:2),l=o(y(_(e,c),u,a),i.apply(this,n),f);IM(t),s>0?Qn(this).transition().duration(s).call(b,l,u,t):Qn(this).call(g.transform,l,u,t)}}function C(e,...i){if(r.apply(this,arguments)){var o,u,a,c,f=e.touches,s=f.length,l=m(this,i,e.changedTouches.length===s).event(e);for(OM(e),u=0;u<s;++u)a=f[u],c=[c=or(a,this),this.__zoom.invert(c),a.identifier],l.touch0?l.touch1||l.touch0[2]===c[2]||(l.touch1=c,l.taps=0):(l.touch0=c,o=!0,l.taps=1+!!t);t&&(t=clearTimeout(t)),o&&(l.taps<2&&(n=c[0],t=setTimeout((function(){t=null}),500)),Sr(this),l.start())}}function R(t,...n){if(this.__zooming){var e,r,i,u,a=m(this,n).event(t),c=t.changedTouches,s=c.length;for(IM(t),e=0;e<s;++e)r=c[e],i=or(r,this),a.touch0&&a.touch0[2]===r.identifier?a.touch0[0]=i:a.touch1&&a.touch1[2]===r.identifier&&(a.touch1[0]=i);if(r=a.that.__zoom,a.touch1){var l=a.touch0[0],h=a.touch0[1],d=a.touch1[0],p=a.touch1[1],g=(g=d[0]-l[0])*g+(g=d[1]-l[1])*g,v=(v=p[0]-h[0])*v+(v=p[1]-h[1])*v;r=_(r,Math.sqrt(g/v)),i=[(l[0]+d[0])/2,(l[1]+d[1])/2],u=[(h[0]+p[0])/2,(h[1]+p[1])/2]}else{if(!a.touch0)return;i=a.touch0[0],u=a.touch0[1]}a.zoom("touch",o(y(r,i,u),a.extent,f))}}function N(t,...r){if(this.__zooming){var i,o,u=m(this,r).event(t),a=t.changedTouches,c=a.length;for(OM(t),e&&clearTimeout(e),e=setTimeout((function(){e=null}),500),i=0;i<c;++i)o=a[i],u.touch0&&u.touch0[2]===o.identifier?delete u.touch0:u.touch1&&u.touch1[2]===o.identifier&&delete u.touch1;if(u.touch1&&!u.touch0&&(u.touch0=u.touch1,delete u.touch1),u.touch0)u.touch0[1]=this.__zoom.invert(u.touch0[0]);else if(u.end(),2===u.taps&&(o=or(o,this),Math.hypot(n[0]-o[0],n[1]-o[1])<p)){var f=Qn(this).on("dblclick.zoom");f&&f.apply(this,arguments)}}}return g.transform=function(t,n,e,r){var i=t.selection?t.selection():t;i.property("__zoom",LM),t!==i?b(t,n,e,r):i.interrupt().each((function(){m(this,arguments).event(r).start().zoom(null,"function"==typeof n?n.apply(this,arguments):n).end()}))},g.scaleBy=function(t,n,e,r){g.scaleTo(t,(function(){var t=this.__zoom.k,e="function"==typeof n?n.apply(this,arguments):n;return t*e}),e,r)},g.scaleTo=function(t,n,e,r){g.transform(t,(function(){var t=i.apply(this,arguments),r=this.__zoom,u=null==e?v(t):"function"==typeof e?e.apply(this,arguments):e,a=r.invert(u),c="function"==typeof n?n.apply(this,arguments):n;return o(y(_(r,c),u,a),t,f)}),e,r)},g.translateBy=function(t,n,e,r){g.transform(t,(function(){return o(this.__zoom.translate("function"==typeof n?n.apply(this,arguments):n,"function"==typeof e?e.apply(this,arguments):e),i.apply(this,arguments),f)}),null,r)},g.translateTo=function(t,n,e,r,u){g.transform(t,(function(){var t=i.apply(this,arguments),u=this.__zoom,a=null==r?v(t):"function"==typeof r?r.apply(this,arguments):r;return o(YM.translate(a[0],a[1]).scale(u.k).translate("function"==typeof n?-n.apply(this,arguments):-n,"function"==typeof e?-e.apply(this,arguments):-e),t,f)}),r,u)},x.prototype={event:function(t){return t&&(this.sourceEvent=t),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(t,n){return this.mouse&&"mouse"!==t&&(this.mouse[1]=n.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=n.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=n.invert(this.touch1[0])),this.that.__zoom=n,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(t){var n=Qn(this.that).datum();h.call(t,this.that,new kM(t,{sourceEvent:this.sourceEvent,target:g,type:t,transform:this.that.__zoom,dispatch:h}),n)}},g.wheelDelta=function(t){return arguments.length?(u="function"==typeof t?t:SM(+t),g):u},g.filter=function(t){return arguments.length?(r="function"==typeof t?t:SM(!!t),g):r},g.touchable=function(t){return arguments.length?(a="function"==typeof t?t:SM(!!t),g):a},g.extent=function(t){return arguments.length?(i="function"==typeof t?t:SM([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),g):i},g.scaleExtent=function(t){return arguments.length?(c[0]=+t[0],c[1]=+t[1],g):[c[0],c[1]]},g.translateExtent=function(t){return arguments.length?(f[0][0]=+t[0][0],f[1][0]=+t[1][0],f[0][1]=+t[0][1],f[1][1]=+t[1][1],g):[[f[0][0],f[0][1]],[f[1][0],f[1][1]]]},g.constrain=function(t){return arguments.length?(o=t,g):o},g.duration=function(t){return arguments.length?(s=+t,g):s},g.interpolate=function(t){return arguments.length?(l=t,g):l},g.on=function(){var t=h.on.apply(h,arguments);return t===h?g:t},g.clickDistance=function(t){return arguments.length?(d=(t=+t)*t,g):Math.sqrt(d)},g.tapDistance=function(t){return arguments.length?(p=+t,g):p},g}}]);